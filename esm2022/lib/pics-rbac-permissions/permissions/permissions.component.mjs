import { Component } from '@angular/core';
import { FormControl, Validators } from '@angular/forms';
import { DomSanitizer } from '@angular/platform-browser';
import { PrimeIcons } from 'primeng/api';
import { RBACINFO } from '../@core/urls/rbac-url.config';
import { AppConstants } from '../@core/constants/app-constants';
import * as i0 from "@angular/core";
import * as i1 from "../@core/service/rbac.service";
import * as i2 from "@angular/forms";
import * as i3 from "../@core/service/alert.service";
import * as i4 from "primeng/api";
import * as i5 from "../@core/service/share-data.service";
import * as i6 from "../@core/service/data-store.service";
import * as i7 from "@angular/common";
import * as i8 from "primeng/tooltip";
import * as i9 from "primeng/tree";
import * as i10 from "primeng/checkbox";
import * as i11 from "primeng/dropdown";
import * as i12 from "primeng/card";
import * as i13 from "primeng/inputtext";
import * as i14 from "../@core/directives/permission.directive";
import * as i15 from "../@shared/alert/alert.component";
import * as i16 from "@angular/material/radio";
export class PermissionsComponent {
    permissionService;
    formBuilder;
    alertService;
    confirmationService;
    _shareData;
    _storeservice;
    pages;
    menuItems = [];
    filteredPermissionList = [];
    pageForm;
    permissionForm;
    permissions;
    permissionTypes;
    nodeType;
    saveMode;
    selectedItem = {};
    imageInformation;
    deletedId;
    urlPath;
    uploadedFile;
    attachType;
    imageData;
    attachmentService;
    sanitizer;
    pageAccessService;
    pagesList;
    RBACORG = new RBACINFO();
    orgSubs;
    orgId;
    position = 'top';
    showLinkPage;
    environment;
    duplicatepages = [];
    httpService;
    iconList;
    selectedIconLabel;
    dublicateIconList = [];
    treeData = [];
    search;
    selectedMenuType;
    showDeleteBtn = false;
    platformPagesList;
    pagetype;
    menutype;
    hidePage = true;
    formSubmit = false;
    filteredParentPages;
    duplicateDynamicPagesList;
    duplicatePlatformPagesList;
    selectedPagePermission;
    eventNode = '';
    selectedPageType = '';
    validationErrors = {};
    inputValidationMethod;
    enableButton;
    constructor(injector, permissionService, formBuilder, alertService, confirmationService, 
    // private httpService: HttpService,
    _shareData, _storeservice) {
        this.permissionService = permissionService;
        this.formBuilder = formBuilder;
        this.alertService = alertService;
        this.confirmationService = confirmationService;
        this._shareData = _shareData;
        this._storeservice = _storeservice;
        this.nodeType = 'page';
        this.saveMode = 'INSERT';
        this.sanitizer = injector.get(DomSanitizer);
        this.initializePageForm();
        this.initializePermissionForm();
        const iconArray = AppConstants.iconList;
        this.iconList = iconArray.sort((a, b) => a.label.localeCompare(b.label));
        this.dublicateIconList = this.iconList;
    }
    ngOnInit() {
        this.orgSubs = this._storeservice.currentStore.subscribe((res) => {
            this.inputValidationMethod = res['INPUTVALIDATIONMETHOD'];
            if (res['RBACORG'] && res['RBACORG'] !== '') {
                this.RBACORG = res['RBACORG'];
                console.log(this.RBACORG, 'RBACORG Permisson');
                this.environment = this.RBACORG['environment'];
                this.orgId = parseInt(this.RBACORG['orgID']);
                this.httpService = res['HTTPSERVICE'];
                if (this.orgId) {
                    this.setPagesList();
                    this.setMenuType();
                    this.setPlatformPageList();
                }
                if (this.environment) {
                    this.loadInitial();
                }
            }
        });
        this.search = new FormControl();
        this.pageForm.valueChanges.subscribe(() => {
            this.enableButton = this.isAnyFormControlWithValue();
        });
    }
    isAnyFormControlWithValue() {
        const formValue = this.pageForm.value;
        const avoidProperties = ['id', 'ismenu', 'order', 'pageTypeMenu', 'applicationid'];
        for (const key in formValue) {
            if (formValue.hasOwnProperty(key) && !avoidProperties.includes(key) && formValue[key]) {
                return true;
            }
        }
        return false;
    }
    ngOnDestroy() {
        this.orgSubs.unsubscribe();
    }
    loadInitial() {
        this.loadTree();
        this.loadContextMenu();
        this.permissionService.getPermissionsTree(this.environment.applicationid).subscribe((items) => {
            this.permissions = items.data;
        });
        this.permissionService.getPermissionTypes(this.environment.applicationid).subscribe((items) => {
            this.permissionTypes = items.data;
        });
    }
    initializePageForm() {
        this.pageForm = this.formBuilder.group({
            id: [0],
            parentid: [null],
            applicationid: [this.environment ? this.environment['applicationid'] : ''],
            name: ['', Validators.required],
            route: ['', Validators.required],
            order: [0],
            ismenu: [true],
            thumbnail: [''],
            icon: [null, Validators.required],
            pageTypeMenu: ['platform'],
        });
    }
    initializePermissionForm() {
        this.permissionForm = this.formBuilder.group({
            id: [0],
            parentid: [null],
            pageid: [0],
            permissiontypeid: ['', Validators.required],
            key: ['', Validators.required],
            description: ['', Validators.required],
            order: [0]
        });
    }
    buildTree(pages, parentid, isSearch) {
        const tree = [];
        pages
            .filter(page => page.parentid === parentid)
            .forEach(page => {
            const children = this.buildTree(pages, page.id, isSearch);
            if (children.length > 0) {
                page.children = children;
            }
            else {
                page.children = [];
            }
            let filteredPage = page;
            if (isSearch && page.children.length) {
                const uniqueArray = page.children.filter((obj, index, self) => {
                    return index === self.findIndex((innerObj) => innerObj.id === obj.id);
                });
                filteredPage = {
                    ...filteredPage,
                    children: uniqueArray
                };
            }
            tree.push(filteredPage);
        });
        return tree;
    }
    onInput(event, fieldtype, label, required) {
        const error = this.inputValidationMethod(event, fieldtype, label, required);
        if (error && typeof error === 'string') {
            this.validationErrors[label] = error;
        }
        else {
            delete this.validationErrors[label];
        }
    }
    clearsearch() {
        const inputSearch = document.querySelector('.form-group.bgiconsearch.d-flex .p-input-icon-right.w-100 input');
        if (inputSearch instanceof HTMLInputElement) {
            inputSearch.value = '';
        }
        this.loadTree();
    }
    onNodeContextMenuSelect(_event) {
        console.log();
    }
    nodeSelect(event, isFromNode) {
        this.validationErrors = {};
        this.formSubmit = false;
        this.eventNode = event.node ? event.node : '';
        this.selectedPageType = '';
        if (isFromNode && this.eventNode) {
            this.saveMode = 'UPDATE';
        }
        else if (!isFromNode && this.eventNode) {
            this.saveMode = 'UPDATE';
        }
        else {
            this.saveMode = 'INSERT';
        }
        this.pages = this.filteredParentPages;
        this.duplicatePlatformPagesList = this.platformPagesList;
        this.duplicateDynamicPagesList = this.pagesList;
        if (this.eventNode) {
            this.showDeleteBtn = true;
            this.showLinkPage = false;
            this.nodeType = event.node.type;
            this.pages = this.pages.filter(p => p['parentid'] !== event.node.id);
            this.selectedPagePermission = this.permissions.filter((p) => p.pageid === event.node.id);
            if (event.node.type === 'permission') {
                this.permissionForm.reset();
                this.permissionForm.patchValue(event.node);
            }
            else {
                this.pageForm.reset();
                this.pageForm.patchValue(event.node);
                this.pageForm.patchValue;
                const iconVal = event.node?.additionalinfo?.icon ? event.node?.additionalinfo?.icon.toLowerCase().replace(/[A-Z]/g, (char) => char.toLowerCase()) : '';
                this.getSelectedLabel(iconVal);
                this.pageForm.patchValue({
                    icon: iconVal
                });
                this.pageForm.patchValue({
                    pageTypeMenu: 'platform'
                });
                this.eventNode["selectedpagemenutype"] = 'platform';
                if (event.node.route.includes('/pages/dynamic-search/search')) {
                    this.showLinkPage = true;
                    this.pageForm.patchValue({
                        pageTypeMenu: 'dynamic'
                    });
                    this.pageForm.patchValue({
                        route: event.node.route.split('/')[4]
                    });
                    this.eventNode["selectedpagemenutype"] = 'dynamic';
                }
                this.imageInformation = event.node.additionalinfo?.thumbnail?.fileName?.split('/')[1] || '';
            }
        }
    }
    onNodeExpandClick(event, node) {
        if (node.menutype !== 'page') {
            // Handle the expansion logic here
            // For example, you might want to prevent expansion for certain conditions
            event.preventDefault();
        }
    }
    nodeExpand(event) {
        // const pageId = event.node.type === 'permission' ? event.node.pageid : event.node.data;
        // const parentId = event.node.type === 'permission' ? event.node.data : 0;
        // if (event.node && event.node.data) {
        //   this.permissionService.getPermissionTree(pageId, parentId).subscribe((nodes: any) => {
        //     event.node.children = (<any>nodes).data;
        //   });
        // }
    }
    searchIconList(event) {
        const value = event.target.value.toLowerCase();
        this.dublicateIconList = this.iconList.filter((a) => a?.label?.toLowerCase().startsWith(value));
    }
    resetIconList() {
        this.dublicateIconList = this.iconList;
    }
    searchDynamicPageList(event) {
        const value = event.target.value.toLowerCase();
        this.duplicateDynamicPagesList = this.pagesList.filter((a) => a?.value?.toLowerCase().startsWith(value));
    }
    resetDynamicPageList() {
        this.duplicateDynamicPagesList = this.pagesList;
    }
    resetParentPageList() {
        this.pages = this.filteredParentPages;
    }
    searchPlatformPageList(event) {
        const value = event.target.value.toLowerCase();
        this.duplicatePlatformPagesList = this.platformPagesList.filter((a) => a?.pagename?.toLowerCase().startsWith(value));
    }
    resetPlatformPageList() {
        this.duplicatePlatformPagesList = this.platformPagesList;
    }
    getSelectedLabel(val) {
        this.dublicateIconList = this.iconList;
        const filteredIcon = this.iconList.filter((i) => i.value === val);
        this.selectedIconLabel = filteredIcon[0]?.label;
    }
    savePage() {
        const page = this.pageForm.value;
        page.applicationid = this.environment.applicationid;
        page.additionalinfo = {
            icon: page.icon
        };
        this.formSubmit = true;
        if (this.showLinkPage) {
            page.route = `/pages/${page.route}`;
        }
        if (this.pageForm.valid) {
            page.order = page.order ? Number(page.order) : 1;
            if (this.saveMode === 'INSERT') {
                this.permissionService.createPage(page).subscribe((res) => {
                    // if (this.showLinkPage) {
                    page.id = res['data'];
                    this.savePermission(page);
                    this.eventNode = '';
                    // }
                    this.alertService.success('Menu created successfully.');
                    this.loadTree();
                }, (error) => {
                    if (error && error?.error?.message.includes('already exists')) {
                        this.alertService.error(`Menu '${page?.name}' already exists.`);
                    }
                    else {
                        this.alertService.error(AppConstants.errorMessage);
                    }
                });
            }
            else {
                this.permissionService.updatePage(page).subscribe(() => {
                    let pageDet = {
                        ...page,
                        pagePermissionId: this.selectedPagePermission[0].id
                    };
                    this.savePermission(pageDet);
                    this.alertService.success('Menu updated successfully.');
                    this.loadTree();
                    this.resetMenu(true);
                });
            }
            this.clearsearch();
        }
    }
    get formValidate() {
        return this.pageForm.controls;
    }
    savePermission(page) {
        if (page) {
            this.permissionForm.patchValue({
                id: page?.pagePermissionId ? page?.pagePermissionId : 0,
                description: page.name,
                key: page.name.toUpperCase().replaceAll(' ', '_'),
                pageid: page.id,
                order: 1,
                permissiontypeid: 1
            });
        }
        let permission = {
            ...this.permissionForm.value,
            order: +this.permissionForm.value.order
        };
        // if (!permission.id) {
        //   permission = {
        //     ...permission,
        //     id: 0
        //   }
        // }
        if (this.permissionForm.valid) {
            permission.order = permission.order ? Number(permission.order) : 1;
            delete permission.readonly;
            if (this.saveMode === 'INSERT') {
                this.permissionService.createPermission(permission).subscribe(() => {
                    // this.alertService.success('Permission created successfully.');
                    this.loadTree();
                    this.resetMenu(true);
                });
            }
            else {
                this.permissionService.updatePermission(permission).subscribe(() => {
                    // this.alertService.success('Permission updated successfully.');
                    this.selectedPagePermission = '';
                    this.loadTree();
                });
            }
        }
        else {
            // this.alertService.error('Invalid permission data.');
        }
    }
    clearForm() {
        if (this.nodeType === 'permission') {
            this.initializePermissionForm();
        }
        else {
            this.initializePageForm();
            this.pageForm.valueChanges.subscribe(() => {
                this.enableButton = this.isAnyFormControlWithValue();
            });
        }
    }
    selectType(type, event) {
        console.log(event, "radio event");
        this.formSubmit = false;
        this.dublicateIconList = this.iconList;
        this.pages = this.filteredParentPages;
        this.duplicatePlatformPagesList = this.platformPagesList;
        this.duplicateDynamicPagesList = this.pagesList;
        this.validationErrors = {};
        if (type === 'platform') {
            this.showLinkPage = false;
            this.pageForm.patchValue({
                pageTypeMenu: type
            });
            this.selectedPageType = type;
            this.saveMode = 'INSERT';
            this.nodeType = 'page';
            this.clearForm();
            this.loadTree();
        }
        else if (type === 'dynamic') {
            this.showLinkPage = true;
            this.pageForm.patchValue({
                pageTypeMenu: type
            });
            this.selectedPageType = type;
            this.saveMode = 'INSERT';
            this.nodeType = 'page';
            this.clearForm();
            this.loadTree();
        }
        this.clearsearch();
        // if(this.eventNode.selectedpagemenutype == type){
        //   this.nodeSelect({ node: this.eventNode }, false);
        // }
    }
    setPlatformPageList() {
        this.permissionService.getPlatformPage().subscribe((res) => {
            const data = res['data'];
            if (data && data?.length) {
                this.platformPagesList = data.sort((a, b) => a.pagename.localeCompare(b.pagename));
                this.duplicatePlatformPagesList = this.platformPagesList;
            }
        });
    }
    setMenuType() {
        this.menutype = [
            { name: 'Parent', value: 'parent' },
            { name: 'Page', value: 'page' }
        ];
    }
    resetMenu(isNewAdd) {
        this.enableButton = false;
        this.pageForm.reset();
        this.initializePageForm();
        this.pageForm.valueChanges.subscribe(() => {
            this.enableButton = this.isAnyFormControlWithValue();
        });
        this.validationErrors = {};
        this.showLinkPage = false;
        this.formSubmit = false;
        this.showDeleteBtn = false;
        this.saveMode = 'INSERT';
        this.nodeType = 'page';
        this.dublicateIconList = this.iconList;
        this.pages = this.filteredParentPages;
        this.duplicatePlatformPagesList = this.platformPagesList;
        this.duplicateDynamicPagesList = this.pagesList;
        this.imageInformation = '';
        this.permissionForm.reset();
        this.clearsearch();
        this.clearForm();
        if (this.selectedPageType) {
            this.pageForm.patchValue({
                pageTypeMenu: this.selectedPageType
            });
            this.showLinkPage = this.selectedPageType == 'dynamic' ? true : false;
        }
        else {
            this.pageForm.patchValue({
                pageTypeMenu: 'platform'
            });
        }
        if (isNewAdd) {
            this.eventNode = '';
        }
    }
    resetForm() {
        this.validationErrors = {};
        this.formSubmit = false;
        if (this.saveMode == 'INSERT') {
            this.resetMenu(false);
        }
        else {
            this.nodeSelect({ node: this.eventNode }, false);
            this.clearsearch();
        }
    }
    removeThumbnail() {
        this.pageForm.controls['thumbnail'].reset();
        this.imageInformation = '';
    }
    // delete(event: Event) {
    //   event.stopPropagation();
    //   // this.deletedId = this.selectedItem.id;
    // }
    createPermissionForm() {
        this.initializePermissionForm();
        if (this.nodeType === 'page') {
            this.nodeType = 'permission';
            this.permissionForm.patchValue({
                pageid: this.selectedItem.id
            });
        }
        else {
            this.permissionForm.patchValue({
                pageid: this.selectedItem.pageid,
                parentid: this.selectedItem.id
            });
        }
    }
    loadContextMenu() {
        const permission = {
            SETTINGS_PER_CREATE_PAGE: true,
            SETTINGS_PER_CREATE_PERMISSION: true,
            SETTINGS_PER_DELETE: true
        };
        this.menuItems = [
            {
                label: 'Create Page',
                icon: PrimeIcons.ARROW_UP_LEFT,
                visible: permission.SETTINGS_PER_CREATE_PAGE,
                badge: 'SETTINGS_PER_CREATE_PAGE',
                command: (_event) => {
                    this.saveMode = 'INSERT';
                    this.nodeType = 'page';
                    this.showLinkPage = false;
                    this.clearForm();
                }
            },
            {
                label: 'Link Page',
                icon: PrimeIcons.ARROW_UP_LEFT,
                visible: permission.SETTINGS_PER_CREATE_PAGE,
                command: (_event) => {
                    this.saveMode = 'INSERT';
                    this.nodeType = 'page';
                    this.showLinkPage = true;
                    this.clearForm();
                }
            },
            {
                label: 'Create Permission',
                icon: PrimeIcons.ARROW_DOWN_RIGHT,
                visible: permission.SETTINGS_PER_CREATE_PERMISSION,
                badge: 'SETTINGS_PER_CREATE_PERMISSION',
                command: _event => {
                    this.saveMode = 'INSERT';
                    this.nodeType = this.selectedItem.type;
                    this.clearForm();
                    this.createPermissionForm();
                }
            },
            {
                label: 'Delete',
                icon: PrimeIcons.TRASH,
                visible: permission.SETTINGS_PER_DELETE,
                badge: 'SETTINGS_PER_DELETE',
                command: event => {
                    this.saveMode = 'DELETE';
                    this.nodeType = this.selectedItem.type;
                    // this.confirmationService.confirm({
                    //   target: event.target as EventTarget,
                    //   message: 'Are you sure that you want to delete?',
                    //   icon: 'pi pi-exclamation-triangle',
                    //   accept: () => {
                    //     //confirm action
                    $('#Deleteuser').modal('show');
                    // this.deleteItem();
                    //   },
                    //   reject: () => {
                    //     // This is intentional
                    //   },
                    // });
                }
            }
        ];
    }
    setPagesList() {
        this.permissionService.getOrganizationPage(this.orgId).subscribe((res) => {
            const data = res['data']['data'];
            if (data && data?.length) {
                const filterPagesList = data?.filter((a) => a.activeVersion?.gridconfig).map((x) => {
                    x.activeVersion.pageid = x.activeVersion.pageid.toString();
                    const pagename = !x.isEnable ? `${x.activeVersion.pagename} (Inactive)` : x.activeVersion.pagename;
                    return {
                        id: x.activeVersion.pageid,
                        pagename: pagename,
                        value: pagename
                    };
                });
                this.pagesList = filterPagesList.sort((a, b) => a.pagename.localeCompare(b.pagename));
                this.duplicateDynamicPagesList = this.pagesList;
            }
        });
    }
    loadTree() {
        this.permissionService.getAllPageTree(this.environment.applicationid).subscribe((items) => {
            this.pages = items.sort((a, b) => a.name.localeCompare(b.name));
            this.filteredParentPages = this.pages;
            this.duplicatepages = items;
            if (this.pages.length) {
                //this.selectedItem = this.pages[0];
            }
            this.treeData = this.buildTree(this.pages, null, false);
        });
    }
    cancel() {
        this.permissionForm.reset();
    }
    // delete() {
    //   // event.stopPropagation();
    //   // this.deletedId = id;
    //   $('#Deleteuser').modal('show');
    // }
    deleteItem() {
        this.saveMode = 'UPDATE';
        if (this.selectedItem.type === 'page') {
            // $('#Deleteuser').modal('show');
            this.permissionService.deletePage(this.selectedItem.id).subscribe((_item) => {
                this.cancel();
                if (this.selectedItem?.children?.length) {
                    this.selectedItem?.children?.map((c) => {
                        this.permissionService.deletePage(c.id).subscribe((_item) => console.log(''));
                    });
                }
                $('#Deleteuser').modal('hide');
                this.resetMenu(true);
                this.alertService.success('Menu deleted successfully.');
                this.loadTree();
            });
        }
        else {
            this.permissionService.deletePermission(this.selectedItem.id).subscribe((_item) => {
                // $('#Deleteuser').modal('show');
                this.cancel();
                $('#Deleteuser').modal('hide');
                this.alertService.success('Control Permission deleted successfully.');
                this.loadTree();
            });
        }
    }
    deletePermission() {
        // this.saveMode = 'DELETE';
        this.nodeType = this.selectedItem.type;
        $('#Deleteuser').modal('show');
    }
    requiredIfValidator(predicate) {
        return (formControl) => {
            if (!formControl.parent) {
                return null;
            }
            if (predicate()) {
                return Validators.required(formControl);
            }
            return null;
        };
    }
    handleFileInput(fileValue) {
        const target = fileValue.target;
        const file = target.files[0];
        this.uploadedFile = fileValue.target.files[0].name;
        this.imageData = {
            contentType: fileValue.target.files[0].type,
            fileName: `dynamic-menu/${this.uploadedFile}`
        };
        this.imageInformation = this.uploadedFile;
        if (this.validateImage(fileValue.target.files)) {
            this.permissionService.uploadKey(this.imageData).subscribe((res) => {
                this.urlPath = res.data;
                const uploadAttachment = document.getElementById('file');
                const uploadAttachmentDetails = uploadAttachment.files[0];
                this.httpService.putUpload(this.urlPath, uploadAttachmentDetails, uploadAttachmentDetails.type).subscribe((_resp) => {
                    this.alertService.success('Uploaded Successfully!');
                    const reader = new FileReader();
                    reader.onload = () => {
                        const value = this.sanitizer.bypassSecurityTrustUrl(reader.result);
                        this.pageForm.patchValue({ thumbnail: value });
                    };
                    reader.readAsDataURL(file);
                    this.attachType = fileValue.target.files[0].type;
                }, (error) => {
                    if (error.status == 0) {
                        this.alertService.error('AppConstants.errorMessage');
                        this.uploadedFile = '';
                        this.urlPath = '';
                    }
                });
            }, (_error) => {
                this.alertService.error('AppConstants.errorMessage');
            });
        }
    }
    validateImage(file) {
        const fileSize = Number(file[0].size) / 1024;
        const filetype = file[0].type.replace('image/', '');
        if (filetype === 'jpg' ||
            filetype === 'jpeg' ||
            filetype === 'png' ||
            filetype === 'gif' ||
            filetype === 'svg+xml') {
            if (fileSize < 50) {
                return true;
            }
            else {
                this.imageInformation = 'Image size exceeds 50 KB';
                this.alertService.warn('File is bigger than 50 KB');
                return false;
            }
        }
        else {
            this.imageInformation = '';
            this.alertService.warn(`${filetype} format is not supported`);
            return false;
        }
    }
    searchPermissionList(event) {
        const value = event.target.value.toLowerCase();
        this.pages = this.duplicatepages.filter((a) => a?.name?.toLowerCase().startsWith(value));
    }
    onPageNameInput(event, name) {
        const input = event.target;
        const startPosition = input.selectionStart;
        const endPosition = input.selectionEnd;
        const pagenameControl = this.pageForm.get(name);
        if (pagenameControl.value) {
            const newValue = pagenameControl.value
                .split(' ')
                .map(word => word.charAt(0).toUpperCase() + word.slice(1))
                .join(' ');
            pagenameControl.patchValue(newValue, { emitEvent: false });
            // Restore cursor position
            input.setSelectionRange(startPosition, endPosition);
        }
    }
    customFilter(node, filter) {
        if (node.label.toLowerCase().includes(filter.toLowerCase())) {
            return true;
        }
        if (node.children) {
            for (const child of node.children) {
                if (this.customFilter(child, filter)) {
                    return true;
                }
            }
        }
        return false;
    }
    filterTree(event) {
        const filterValue = event.target.value.toLowerCase();
        const filteredData = this.treeData.filter(node => this.customFilter(node, filterValue));
        this.treeData = [...filteredData];
    }
    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.2.12", ngImport: i0, type: PermissionsComponent, deps: [{ token: i0.Injector }, { token: i1.RbacService }, { token: i2.FormBuilder }, { token: i3.AlertService }, { token: i4.ConfirmationService }, { token: i5.ShareDataService }, { token: i6.DataStoreService }], target: i0.ɵɵFactoryTarget.Component });
    static ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "16.2.12", type: PermissionsComponent, selector: "permissions", ngImport: i0, template: "<app-alert></app-alert>\r\n<div class=\"permission\">\r\n  <div class=\"row\">\r\n    <div class=\"col-lg-4 col-md-6 col-12\">\r\n      <div class=\"clearfix\"></div>\r\n      <div class=\"tab-content py-2\">\r\n        <div class=\"tab-pane fade show active\">\r\n          <div class=\"form-group bgiconsearch d-flex\">\r\n            <!-- <input class=\"form-control\" placeholder=\"Search by Menu Name\" type=\"text\" [formControl]=\"search\"\r\n              pInputText pClearButton/> -->\r\n            <span class=\"p-input-icon-right w-100\">\r\n              <i class=\"pi pi-times-circle\" (click)=\"clearsearch()\"></i>\r\n              <input class=\"form-control\" (input)=\"filterTree($event)\" placeholder=\"Search by Menu Name\" type=\"text\" [formControl]=\"search\"\r\n                pInputText />\r\n            </span>\r\n            <button class=\"btn btn-primary btncommon ml-2\" (click)=\"resetMenu(true)\">Add</button>\r\n          </div>\r\n          <div class=\"clearfix\"></div>\r\n          <div class=\"masteracess\">\r\n            <!-- <p-tree [value]=\"pages\" selectionMode=\"single\" [(selection)]=\"selectedItem\"\r\n              (onNodeSelect)=\"nodeSelect($event)\" (onNodeContextMenuSelect)=\"onNodeContextMenuSelect($event)\"\r\n              (onNodeExpand)=\"nodeExpand($event)\" [contextMenu]=\"treeContextMenu\"></p-tree>\r\n            <p-contextMenu #treeContextMenu [model]=\"menuItems\" appendTo=\"body\"></p-contextMenu> -->\r\n            <!-- <p-confirmPopup styleClass=\"delete-popup\"></p-confirmPopup> -->\r\n            <p-tree [value]=\"treeData\" selectionMode=\"single\" [(selection)]=\"selectedItem\"\r\n              (onNodeSelect)=\"nodeSelect($event, true)\" (onNodeContextMenuSelect)=\"onNodeContextMenuSelect($event)\"\r\n              (onNodeExpand)=\"nodeExpand($event)\">\r\n              <ng-template let-node pTemplate=\"default\">\r\n                <span *ngIf=\"node.menutype === 'parent'\">\r\n                  <span class=\"ui-tree-toggler ui-clickable\" *ngIf=\"node.children && node.children.length > 0\"\r\n                    (click)=\"onNodeExpandClick($event, node)\"></span>\r\n                </span>\r\n                {{node.name}}\r\n                <!-- <p-contextMenu [model]=\"menuItems\" appendTo=\"body\"></p-contextMenu> -->\r\n                <ng-container *ngIf=\"node.children && node.children.length > 0\">\r\n                  <ng-container *ngTemplateOutlet=\"recursiveTree; context:{ $implicit: node.children }\"></ng-container>\r\n                </ng-container>\r\n              </ng-template>\r\n              <ng-template #recursiveTree let-nodes>\r\n                <ul>\r\n                  <li *ngFor=\"let child of nodes\">\r\n                    <ng-container\r\n                      *ngTemplateOutlet=\"recursiveTree; context:{ $implicit: child.children }\"></ng-container>\r\n                  </li>\r\n                </ul>\r\n              </ng-template>\r\n              <!-- <p-contextMenu #treeContextMenu [model]=\"menuItems\" appendTo=\"body\"></p-contextMenu> -->\r\n            </p-tree>\r\n            <div class=\"modal\" id=\"Deleteuser\" tabindex=\"-1\" role=\"dialog\">\r\n              <div class=\"modal-dialog\" role=\"document\">\r\n                <div class=\"modal-content\">\r\n                  <div class=\"modal-body\">\r\n                    <p>Are you sure you want to delete the Menu?</p>\r\n                    <div class=\"clearfix\"></div>\r\n                    <div class=\"mt-2\">\r\n                      <button class=\"pull-right mb-2 btn btn-primary btncommon delete\" data-dismiss=\"modal\"\r\n                        (click)=\"deleteItem()\">\r\n                        Delete\r\n                      </button>\r\n                      <button class=\"pull-right mb-2 mr-2 btn bg-white text-primary btncancel\"\r\n                        data-dismiss=\"modal\">Cancel</button>\r\n                    </div>\r\n                    <div class=\"clearfix\"></div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-lg-8 col-md-6 col-12 master-right mt-2\">\r\n      <p-card *ngIf=\"nodeType === 'page'\" id=\"pageForm\" class=\"rbac-card\" [formGroup]=\"pageForm\"\r\n        [style]=\"{ width: '100%', 'margin-bottom': '2em' }\">\r\n        <div class=\"strip_head toggleleft\">\r\n          <span class=\"report_head font-weight-bold\">{{saveMode === 'UPDATE' ? 'Update Menu' : 'Add Menu'}}</span>\r\n        </div>\r\n        <div class=\"mb-3 mt-1\">\r\n          <mat-radio-group formControlName=\"pageTypeMenu\">\r\n            <mat-radio-button class=\"mr-2\" value=\"platform\"\r\n              (click)=\"selectType('platform', $event)\">Platform</mat-radio-button>\r\n            <mat-radio-button value=\"dynamic\" (click)=\"selectType('dynamic', $event)\">Dynamic</mat-radio-button>\r\n          </mat-radio-group>\r\n        </div>\r\n        <input id=\"cid\" type=\"hidden\" formControlName=\"id\" />\r\n        <input id=\"capplicationid\" type=\"hidden\" formControlName=\"applicationid\" />\r\n        <div class=\"p-fluid p-formgrid p-grid\">\r\n          <div class=\"col-lg-4 col-md-12 col-12 mb-3\">\r\n            <label for=\"cname\" class=\"referral-form-labels\">Name\r\n              <span class=\"requiredfield text-danger\">*</span>\r\n            </label>\r\n            <input id=\"cname\" type=\"text\" formControlName=\"name\" fieldKey=\"SETTINGS_PER_NAME\" placeholder=\"Enter Name\"\r\n              aria-describedby=\"cname\" (keyup)=\"onPageNameInput($event, 'name')\"\r\n              (input)=\"onInput($event, 'name', 'Name', true)\" pInputText />\r\n            <div *ngIf=\"validationErrors['Name']\" class=\"p-error block mt-1\">{{validationErrors['Name']}}</div>\r\n            <!-- pattern=\"[a-zA-Z0-9]*([a-zA-Z0-9]+\\s*)*\" <div *ngIf=\"\r\n              pageForm.controls['name'].invalid &&\r\n                pageForm.controls['name'].dirty &&\r\n              !pageForm.controls['name'].hasError('required')\">\r\n              <small *ngIf=\"pageForm.controls['name'].errors && pageForm.controls['name'].invalid\"\r\n                class=\"p-error block\">Invalid input data</small>\r\n            </div> -->\r\n            <div *ngIf=\"!validationErrors['Name'] && formValidate['name'].errors && formSubmit\">\r\n              <div *ngIf=\"formValidate['name'].invalid\" class=\"p-error block mt-1\">Name is\r\n                required</div>\r\n            </div>\r\n\r\n          </div>\r\n          <div class=\"col-lg-4 col-md-12 col-12 mb-3\" *ngIf=\"!showLinkPage\">\r\n            <label for=\"croute\" class=\"referral-form-labels\">\r\n              Platform Pages\r\n              <span class=\"requiredfield text-danger\">*</span>\r\n            </label>\r\n            <!-- <p-dropdown [options]=\"platformPagesList\" [filter]=\"true\" formControlName=\"route\"\r\n              fieldKey=\"SETTINGS_PER_ROUTE\" placeholder=\"Select Platform Page\" optionLabel=\"pagename\"\r\n              optionValue=\"pageurl\" [showClear]=\"true\">\r\n            </p-dropdown> -->\r\n            <p-dropdown [options]=\"duplicatePlatformPagesList\" placeholder=\"Select Platform Page\"\r\n              formControlName=\"route\" [resetFilterOnHide]=\"true\" [filter]=\"true\" [showClear]=\"true\"\r\n              fieldKey=\"SETTINGS_PER_ROUTE\" optionLabel=\"pagename\" optionValue=\"pagename\" inputId=\"platformPage\"\r\n              (keyup)=\"searchPlatformPageList($event)\" (onHide)=\"resetPlatformPageList()\">\r\n              <ng-template let-item pTemplate=\"selectedItem\">\r\n                <div pTooltip=\"{{item?.pagename}}\" tooltipPosition=\"top\" class=\"text-truncate\"> {{ item?.pagename }}\r\n                </div>\r\n              </ng-template>\r\n              <ng-template let-object pTemplate=\"item\">\r\n                {{ object.pagename }}\r\n              </ng-template>\r\n            </p-dropdown>\r\n            <div *ngIf=\"formValidate['route'].errors && formSubmit && !showLinkPage\">\r\n              <div *ngIf=\"formValidate['route'].invalid\" class=\"p-error block mt-1\">Platform Page is required</div>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-lg-4 col-md-12 col-12 mb-3\" *ngIf=\"showLinkPage\">\r\n            <label for=\"croute\" class=\"referral-form-labels\">\r\n              Dynamic Pages\r\n              <span class=\"requiredfield text-danger\">*</span>\r\n            </label>\r\n            <p-dropdown [options]=\"duplicateDynamicPagesList\" formControlName=\"route\" fieldKey=\"SETTINGS_PER_ROUTE\"\r\n              placeholder=\"Select Dynamic Page\" (keyup)=\"searchDynamicPageList($event)\"\r\n              (onHide)=\"resetDynamicPageList()\" optionLabel=\"value\" optionValue=\"value\" [filter]=\"true\"\r\n              [resetFilterOnHide]=\"true\" [showClear]=\"true\">\r\n              <ng-template let-item pTemplate=\"selectedItem\">\r\n                <div pTooltip=\"{{item?.value}}\" tooltipPosition=\"top\" class=\"text-truncate\"> {{ item?.value }}\r\n                </div>\r\n              </ng-template>\r\n              <ng-template let-object pTemplate=\"item\">\r\n                {{ object.value }}\r\n              </ng-template>\r\n            </p-dropdown>\r\n            <div *ngIf=\"formValidate['route'].errors && formSubmit && showLinkPage\">\r\n              <div *ngIf=\"formValidate['route'].invalid\" class=\"p-error block mt-1\">Dynamic Page is required </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-lg-4 col-md-12 col-12 mb-3\">\r\n            <label for=\"corder\" class=\"referral-form-labels\">Parent Menu </label>\r\n            <p-dropdown [options]=\"pages\" placeholder=\"Select Parent Menu\" formControlName=\"parentid\" optionLabel=\"name\"\r\n              optionValue=\"id\" (onHide)=\"resetParentPageList()\" [showClear]=\"true\" [resetFilterOnHide]=\"true\"\r\n              [filter]=\"true\" (keyup)=\"searchPermissionList($event)\" fieldKey=\"SETTINGS_PER_PARENT_PAGE\">\r\n              <ng-template let-item pTemplate=\"selectedItem\">\r\n                <div pTooltip=\"{{item?.name}}\" tooltipPosition=\"top\" class=\"text-truncate\"> {{ item?.name }}</div>\r\n              </ng-template>\r\n              <ng-template let-object pTemplate=\"item\">\r\n                {{ object.name }}\r\n              </ng-template>\r\n            </p-dropdown>\r\n          </div>\r\n        </div>\r\n        <div class=\"p-fluid p-formgrid p-grid\">\r\n          <div class=\"col-lg-4 col-md-12 col-12 mb-3\">\r\n            <label for=\"icon\" class=\"referral-form-labels\">\r\n              Icon\r\n              <span class=\"requiredfield text-danger\">*</span>\r\n            </label>\r\n            <p-dropdown [options]=\"dublicateIconList\" styleClass=\"icon-dropdown\" formControlName=\"icon\" [filter]=\"true\"\r\n              optionLabel=\"label\" optionValue=\"value\" [resetFilterOnHide]=\"true\"\r\n              [showClear]=\"iconList && iconList.length\" placeholder=\"Select Icon\" (keyup)=\"searchIconList($event)\"\r\n              (onHide)=\"resetIconList()\" (onChange)=\"getSelectedLabel($event.value)\">\r\n              <ng-template pTemplate=\"selectedItem\">\r\n                <div pTooltip=\"{{selectedIconLabel}}\" tooltipPosition=\"top\"\r\n                  class=\"d-flex flex-row align-items-center gap-2\" *ngIf=\"pageForm.controls['icon'].value\">\r\n                  <span class=\"material-symbols-outlined userempty ml-0\">\r\n                    {{ pageForm.controls['icon'].value }}\r\n                  </span>\r\n                  <div class=\"text-truncate\">\r\n                    {{ selectedIconLabel }}\r\n                  </div>\r\n                </div>\r\n              </ng-template>\r\n              <ng-template let-icon pTemplate=\"item\">\r\n                <div class=\"d-flex flex-row align-items-start gap-2\">\r\n                  <span class=\"material-symbols-outlined userempty ml-0\">\r\n                    {{ icon.value }}\r\n                  </span>\r\n                  <div>{{ icon.label }}</div>\r\n                </div>\r\n              </ng-template>\r\n            </p-dropdown>\r\n            <div *ngIf=\"formValidate['icon'].errors && formSubmit\">\r\n              <div *ngIf=\"formValidate['icon'].invalid\" class=\"p-error block mt-1\">Icon is required </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-lg-4 col-md-12 col-12 mb-3\">\r\n            <label for=\"corder\" class=\"referral-form-labels d-none d-lg-inline-block\">&#160;</label>\r\n            <div>\r\n              <p-checkbox st inputId=\"binary\" [binary]=\"true\" fieldKey=\"SETTINGS_PER_MENU\" formControlName=\"ismenu\"\r\n                label=\"Active\"></p-checkbox>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"mt-2\">\r\n          <button class=\"pull-right mb-2 btn btn-primary btncommon\" fieldKey=\"SETTINGS_PER_ADD_PAGE\"\r\n            (click)=\"savePage()\">\r\n            {{ saveMode === 'UPDATE' ? 'Update Menu' : 'Add Menu' }}\r\n          </button>\r\n          <button fieldKey=\"SETTINGS_PER_CANCEL\"\r\n            class=\"pull-right mb-2 mr-2 btn bg-white text-primary border border-primary btncancel\" (click)=\"resetForm()\"\r\n            [disabled]=\"!enableButton\">\r\n            {{ saveMode === 'UPDATE' ? 'Cancel' : 'Clear' }}\r\n          </button>\r\n          <button fieldKey=\"SETTINGS_PER_CANCEL\" class=\"pull-right mb-2 btn btn-danger\" (click)=\"deletePermission()\"\r\n            *ngIf=\"showDeleteBtn && showLinkPage && saveMode === 'UPDATE'\">\r\n            Delete\r\n          </button>\r\n          <br />\r\n          <br />\r\n        </div>\r\n      </p-card>\r\n\r\n      <p-card *ngIf=\"nodeType === 'permission'\" id=\"permissionForm\" class=\"rbac-card\" [formGroup]=\"permissionForm\"\r\n        [style]=\"{ width: '100%', 'margin-bottom': '2em' }\">\r\n        <div class=\"strip_head toggleleft\">\r\n          <span class=\"report_head font-weight-bold\">Permission</span>\r\n        </div>\r\n\r\n        <input id=\"lid\" type=\"hidden\" formControlName=\"id\" />\r\n        <input id=\"lpermissionpageid\" type=\"hidden\" formControlName=\"permissiontypeid\" />\r\n        <input id=\"lparentid\" type=\"hidden\" formControlName=\"parentid\" />\r\n        <input id=\"lpageid\" type=\"hidden\" formControlName=\"pageid\" />\r\n\r\n        <div class=\"p-fluid p-formgrid p-grid\">\r\n          <div class=\"p-field p-col\">\r\n            <label for=\"lpermissiontype\" class=\"referral-form-labels\">Permission Type\r\n              <span class=\"requiredfield text-danger\">*</span></label>\r\n            <p-dropdown id=\"lpermissiontype\" [options]=\"permissionTypes\" placeholder=\"Select a Permission Type\"\r\n              formControlName=\"permissiontypeid\" optionLabel=\"name\" optionValue=\"id\">\r\n            </p-dropdown>\r\n            <div *ngIf=\"permissionForm.controls['permissiontypeid'].errors\">\r\n              <div *ngIf=\"permissionForm.controls['permissiontypeid'].invalid\" class=\"p-error block mt-1\">Permission\r\n                Type\r\n                is required\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"p-field p-col\">\r\n            <label for=\"lkey\" class=\"referral-form-labels\">Key\r\n              <span class=\"requiredfield text-danger\">*</span>\r\n            </label>\r\n            <input id=\"lkey\" type=\"text\" placeholder=\"Enter Key\" formControlName=\"key\" aria-describedby=\"lkey-help\"\r\n              pInputText />\r\n            <div *ngIf=\"permissionForm.controls['key'].errors\">\r\n              <div *ngIf=\"permissionForm.controls['key'].invalid\" class=\"p-error block mt-1\">Key is required </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"p-field p-col\">\r\n            <label for=\"lvalue\" class=\"referral-form-labels\">Description <span\r\n                class=\"requiredfield text-danger\">*</span> </label>\r\n            <input id=\"lvalue\" type=\"text\" placeholder=\"Enter Value\" formControlName=\"description\"\r\n              aria-describedby=\"pname-help\" pInputText />\r\n            <div *ngIf=\"permissionForm.controls['description'].errors\">\r\n              <div *ngIf=\"permissionForm.controls['description'].invalid\" class=\"p-error block mt-1\">Description is\r\n                required\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"mt-2\">\r\n          <button type=\"submit\" class=\"pull-right mb-2 btn btn-primary btncommon\" (click)=\"savePermission()\">\r\n            {{ saveMode === 'UPDATE' ? 'Update Permission' : 'Add Permission' }}\r\n          </button>\r\n          <button class=\"pull-right mb-2 mr-2 btn bg-white text-primary btncancel\" (click)=\"clearForm()\">Cancel</button>\r\n          <br />\r\n          <br />\r\n        </div>\r\n      </p-card>\r\n    </div>\r\n  </div>\r\n</div>\r\n", styles: [".head-div{padding-top:9px;padding-left:7px}.bgiconsearch{margin-bottom:5px;padding-bottom:0;font-size:13px}.masteracess{border:solid 1px var(--table-border);border-radius:2px;padding:5px 0;overflow-y:auto;background:var(--bg-light)}.masterempty{max-width:none;border-radius:50%;height:40px;width:40px}.row.masterdata{margin:0;border-bottom:solid 1px var(--table-border);padding:5px 0;cursor:pointer}.overflow_txt{overflow:hidden;text-overflow:ellipsis}span.namemaster{font-size:13px;color:var(--text-dark)}.masterid,span.emailmaster{font-size:13px;color:#9b9b9b}span.deletemaster{position:absolute;top:0;right:15px;z-index:9;width:20px;float:right;cursor:pointer}span.deletemaster img{width:12px}.activate{position:absolute;margin-top:-46px;margin-left:44rem}.toggleleft{font-size:14px;font-weight:600;display:block;margin-top:-12px;padding-bottom:13px}.report_button{margin-left:12px}:host ::ng-deep .ui-tree.permission-tree{width:100%}.userempty{max-width:none;padding:8px;border-radius:10%;height:36px;width:35px;color:var(--text-dark);margin-left:10px;display:flex;align-items:center}.fileupload .profile{color:#fff}.rbac-card .p-fluid .p-inputtext{padding:8px}.rbac-card .warning{margin-left:10px}.pi-trash{color:red;font-size:12px}@media screen and (max-width: 767px){.masteracess{max-height:400px}}@media screen and (min-width: 990px){.masteracess{height:calc(100vh - 188px)}}@media screen and (max-width: 990px){:host ::ng-deep .selected-list .c-list{width:calc(100% - 35px)!important}.pageLevelAccessTable{width:100%;overflow:auto}.pageLevelAccessTable .table{margin-bottom:60px}}:host ::ng-deep .icon-dropdown li.p-dropdown-item{padding:.5rem 15px!important}:host ::ng-deep .icon-dropdown li.p-dropdown-item.p-highlight .userempty,:host ::ng-deep .icon-dropdown li.p-dropdown-item:hover .userempty,:host ::ng-deep .icon-dropdown li.p-dropdown-item:focus .userempty{color:#fff}:host ::ng-deep .icon-dropdown .userempty{height:inherit;padding:0;justify-content:start;font-size:19px;width:25px}\n"], dependencies: [{ kind: "directive", type: i7.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i7.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "directive", type: i7.NgTemplateOutlet, selector: "[ngTemplateOutlet]", inputs: ["ngTemplateOutletContext", "ngTemplateOutlet", "ngTemplateOutletInjector"] }, { kind: "directive", type: i2.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { kind: "directive", type: i2.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { kind: "directive", type: i2.NgControlStatusGroup, selector: "[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]" }, { kind: "directive", type: i2.FormControlDirective, selector: "[formControl]", inputs: ["formControl", "disabled", "ngModel"], outputs: ["ngModelChange"], exportAs: ["ngForm"] }, { kind: "directive", type: i2.FormGroupDirective, selector: "[formGroup]", inputs: ["formGroup"], outputs: ["ngSubmit"], exportAs: ["ngForm"] }, { kind: "directive", type: i2.FormControlName, selector: "[formControlName]", inputs: ["formControlName", "disabled", "ngModel"], outputs: ["ngModelChange"] }, { kind: "directive", type: i4.PrimeTemplate, selector: "[pTemplate]", inputs: ["type", "pTemplate"] }, { kind: "directive", type: i8.Tooltip, selector: "[pTooltip]", inputs: ["tooltipPosition", "tooltipEvent", "appendTo", "positionStyle", "tooltipStyleClass", "tooltipZIndex", "escape", "showDelay", "hideDelay", "life", "positionTop", "positionLeft", "autoHide", "fitContent", "hideOnEscape", "pTooltip", "tooltipDisabled", "tooltipOptions"] }, { kind: "component", type: i9.Tree, selector: "p-tree", inputs: ["value", "selectionMode", "selection", "style", "styleClass", "contextMenu", "layout", "draggableScope", "droppableScope", "draggableNodes", "droppableNodes", "metaKeySelection", "propagateSelectionUp", "propagateSelectionDown", "loading", "loadingIcon", "emptyMessage", "ariaLabel", "togglerAriaLabel", "ariaLabelledBy", "validateDrop", "filter", "filterBy", "filterMode", "filterPlaceholder", "filteredNodes", "filterLocale", "scrollHeight", "lazy", "virtualScroll", "virtualScrollItemSize", "virtualScrollOptions", "indentation", "_templateMap", "trackBy", "virtualNodeHeight"], outputs: ["selectionChange", "onNodeSelect", "onNodeUnselect", "onNodeExpand", "onNodeCollapse", "onNodeContextMenuSelect", "onNodeDrop", "onLazyLoad", "onScroll", "onScrollIndexChange", "onFilter"] }, { kind: "component", type: i10.Checkbox, selector: "p-checkbox", inputs: ["value", "name", "disabled", "binary", "label", "ariaLabelledBy", "ariaLabel", "tabindex", "inputId", "style", "styleClass", "labelStyleClass", "formControl", "checkboxIcon", "readonly", "required", "trueValue", "falseValue"], outputs: ["onChange"] }, { kind: "component", type: i11.Dropdown, selector: "p-dropdown", inputs: ["id", "scrollHeight", "filter", "name", "style", "panelStyle", "styleClass", "panelStyleClass", "readonly", "required", "editable", "appendTo", "tabindex", "placeholder", "filterPlaceholder", "filterLocale", "inputId", "dataKey", "filterBy", "filterFields", "autofocus", "resetFilterOnHide", "dropdownIcon", "optionLabel", "optionValue", "optionDisabled", "optionGroupLabel", "optionGroupChildren", "autoDisplayFirst", "group", "showClear", "emptyFilterMessage", "emptyMessage", "lazy", "virtualScroll", "virtualScrollItemSize", "virtualScrollOptions", "overlayOptions", "ariaFilterLabel", "ariaLabel", "ariaLabelledBy", "filterMatchMode", "maxlength", "tooltip", "tooltipPosition", "tooltipPositionStyle", "tooltipStyleClass", "focusOnHover", "selectOnFocus", "autoOptionFocus", "autofocusFilter", "disabled", "itemSize", "autoZIndex", "baseZIndex", "showTransitionOptions", "hideTransitionOptions", "filterValue", "options"], outputs: ["onChange", "onFilter", "onFocus", "onBlur", "onClick", "onShow", "onHide", "onClear", "onLazyLoad"] }, { kind: "component", type: i12.Card, selector: "p-card", inputs: ["header", "subheader", "style", "styleClass"] }, { kind: "directive", type: i13.InputText, selector: "[pInputText]" }, { kind: "directive", type: i14.PermissionDirective, selector: "[fieldKey]", inputs: ["fieldKey"] }, { kind: "component", type: i15.AlertComponent, selector: "app-alert" }, { kind: "directive", type: i16.MatRadioGroup, selector: "mat-radio-group", exportAs: ["matRadioGroup"] }, { kind: "component", type: i16.MatRadioButton, selector: "mat-radio-button", inputs: ["disableRipple", "tabIndex"], exportAs: ["matRadioButton"] }] });
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.2.12", ngImport: i0, type: PermissionsComponent, decorators: [{
            type: Component,
            args: [{ selector: 'permissions', template: "<app-alert></app-alert>\r\n<div class=\"permission\">\r\n  <div class=\"row\">\r\n    <div class=\"col-lg-4 col-md-6 col-12\">\r\n      <div class=\"clearfix\"></div>\r\n      <div class=\"tab-content py-2\">\r\n        <div class=\"tab-pane fade show active\">\r\n          <div class=\"form-group bgiconsearch d-flex\">\r\n            <!-- <input class=\"form-control\" placeholder=\"Search by Menu Name\" type=\"text\" [formControl]=\"search\"\r\n              pInputText pClearButton/> -->\r\n            <span class=\"p-input-icon-right w-100\">\r\n              <i class=\"pi pi-times-circle\" (click)=\"clearsearch()\"></i>\r\n              <input class=\"form-control\" (input)=\"filterTree($event)\" placeholder=\"Search by Menu Name\" type=\"text\" [formControl]=\"search\"\r\n                pInputText />\r\n            </span>\r\n            <button class=\"btn btn-primary btncommon ml-2\" (click)=\"resetMenu(true)\">Add</button>\r\n          </div>\r\n          <div class=\"clearfix\"></div>\r\n          <div class=\"masteracess\">\r\n            <!-- <p-tree [value]=\"pages\" selectionMode=\"single\" [(selection)]=\"selectedItem\"\r\n              (onNodeSelect)=\"nodeSelect($event)\" (onNodeContextMenuSelect)=\"onNodeContextMenuSelect($event)\"\r\n              (onNodeExpand)=\"nodeExpand($event)\" [contextMenu]=\"treeContextMenu\"></p-tree>\r\n            <p-contextMenu #treeContextMenu [model]=\"menuItems\" appendTo=\"body\"></p-contextMenu> -->\r\n            <!-- <p-confirmPopup styleClass=\"delete-popup\"></p-confirmPopup> -->\r\n            <p-tree [value]=\"treeData\" selectionMode=\"single\" [(selection)]=\"selectedItem\"\r\n              (onNodeSelect)=\"nodeSelect($event, true)\" (onNodeContextMenuSelect)=\"onNodeContextMenuSelect($event)\"\r\n              (onNodeExpand)=\"nodeExpand($event)\">\r\n              <ng-template let-node pTemplate=\"default\">\r\n                <span *ngIf=\"node.menutype === 'parent'\">\r\n                  <span class=\"ui-tree-toggler ui-clickable\" *ngIf=\"node.children && node.children.length > 0\"\r\n                    (click)=\"onNodeExpandClick($event, node)\"></span>\r\n                </span>\r\n                {{node.name}}\r\n                <!-- <p-contextMenu [model]=\"menuItems\" appendTo=\"body\"></p-contextMenu> -->\r\n                <ng-container *ngIf=\"node.children && node.children.length > 0\">\r\n                  <ng-container *ngTemplateOutlet=\"recursiveTree; context:{ $implicit: node.children }\"></ng-container>\r\n                </ng-container>\r\n              </ng-template>\r\n              <ng-template #recursiveTree let-nodes>\r\n                <ul>\r\n                  <li *ngFor=\"let child of nodes\">\r\n                    <ng-container\r\n                      *ngTemplateOutlet=\"recursiveTree; context:{ $implicit: child.children }\"></ng-container>\r\n                  </li>\r\n                </ul>\r\n              </ng-template>\r\n              <!-- <p-contextMenu #treeContextMenu [model]=\"menuItems\" appendTo=\"body\"></p-contextMenu> -->\r\n            </p-tree>\r\n            <div class=\"modal\" id=\"Deleteuser\" tabindex=\"-1\" role=\"dialog\">\r\n              <div class=\"modal-dialog\" role=\"document\">\r\n                <div class=\"modal-content\">\r\n                  <div class=\"modal-body\">\r\n                    <p>Are you sure you want to delete the Menu?</p>\r\n                    <div class=\"clearfix\"></div>\r\n                    <div class=\"mt-2\">\r\n                      <button class=\"pull-right mb-2 btn btn-primary btncommon delete\" data-dismiss=\"modal\"\r\n                        (click)=\"deleteItem()\">\r\n                        Delete\r\n                      </button>\r\n                      <button class=\"pull-right mb-2 mr-2 btn bg-white text-primary btncancel\"\r\n                        data-dismiss=\"modal\">Cancel</button>\r\n                    </div>\r\n                    <div class=\"clearfix\"></div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-lg-8 col-md-6 col-12 master-right mt-2\">\r\n      <p-card *ngIf=\"nodeType === 'page'\" id=\"pageForm\" class=\"rbac-card\" [formGroup]=\"pageForm\"\r\n        [style]=\"{ width: '100%', 'margin-bottom': '2em' }\">\r\n        <div class=\"strip_head toggleleft\">\r\n          <span class=\"report_head font-weight-bold\">{{saveMode === 'UPDATE' ? 'Update Menu' : 'Add Menu'}}</span>\r\n        </div>\r\n        <div class=\"mb-3 mt-1\">\r\n          <mat-radio-group formControlName=\"pageTypeMenu\">\r\n            <mat-radio-button class=\"mr-2\" value=\"platform\"\r\n              (click)=\"selectType('platform', $event)\">Platform</mat-radio-button>\r\n            <mat-radio-button value=\"dynamic\" (click)=\"selectType('dynamic', $event)\">Dynamic</mat-radio-button>\r\n          </mat-radio-group>\r\n        </div>\r\n        <input id=\"cid\" type=\"hidden\" formControlName=\"id\" />\r\n        <input id=\"capplicationid\" type=\"hidden\" formControlName=\"applicationid\" />\r\n        <div class=\"p-fluid p-formgrid p-grid\">\r\n          <div class=\"col-lg-4 col-md-12 col-12 mb-3\">\r\n            <label for=\"cname\" class=\"referral-form-labels\">Name\r\n              <span class=\"requiredfield text-danger\">*</span>\r\n            </label>\r\n            <input id=\"cname\" type=\"text\" formControlName=\"name\" fieldKey=\"SETTINGS_PER_NAME\" placeholder=\"Enter Name\"\r\n              aria-describedby=\"cname\" (keyup)=\"onPageNameInput($event, 'name')\"\r\n              (input)=\"onInput($event, 'name', 'Name', true)\" pInputText />\r\n            <div *ngIf=\"validationErrors['Name']\" class=\"p-error block mt-1\">{{validationErrors['Name']}}</div>\r\n            <!-- pattern=\"[a-zA-Z0-9]*([a-zA-Z0-9]+\\s*)*\" <div *ngIf=\"\r\n              pageForm.controls['name'].invalid &&\r\n                pageForm.controls['name'].dirty &&\r\n              !pageForm.controls['name'].hasError('required')\">\r\n              <small *ngIf=\"pageForm.controls['name'].errors && pageForm.controls['name'].invalid\"\r\n                class=\"p-error block\">Invalid input data</small>\r\n            </div> -->\r\n            <div *ngIf=\"!validationErrors['Name'] && formValidate['name'].errors && formSubmit\">\r\n              <div *ngIf=\"formValidate['name'].invalid\" class=\"p-error block mt-1\">Name is\r\n                required</div>\r\n            </div>\r\n\r\n          </div>\r\n          <div class=\"col-lg-4 col-md-12 col-12 mb-3\" *ngIf=\"!showLinkPage\">\r\n            <label for=\"croute\" class=\"referral-form-labels\">\r\n              Platform Pages\r\n              <span class=\"requiredfield text-danger\">*</span>\r\n            </label>\r\n            <!-- <p-dropdown [options]=\"platformPagesList\" [filter]=\"true\" formControlName=\"route\"\r\n              fieldKey=\"SETTINGS_PER_ROUTE\" placeholder=\"Select Platform Page\" optionLabel=\"pagename\"\r\n              optionValue=\"pageurl\" [showClear]=\"true\">\r\n            </p-dropdown> -->\r\n            <p-dropdown [options]=\"duplicatePlatformPagesList\" placeholder=\"Select Platform Page\"\r\n              formControlName=\"route\" [resetFilterOnHide]=\"true\" [filter]=\"true\" [showClear]=\"true\"\r\n              fieldKey=\"SETTINGS_PER_ROUTE\" optionLabel=\"pagename\" optionValue=\"pagename\" inputId=\"platformPage\"\r\n              (keyup)=\"searchPlatformPageList($event)\" (onHide)=\"resetPlatformPageList()\">\r\n              <ng-template let-item pTemplate=\"selectedItem\">\r\n                <div pTooltip=\"{{item?.pagename}}\" tooltipPosition=\"top\" class=\"text-truncate\"> {{ item?.pagename }}\r\n                </div>\r\n              </ng-template>\r\n              <ng-template let-object pTemplate=\"item\">\r\n                {{ object.pagename }}\r\n              </ng-template>\r\n            </p-dropdown>\r\n            <div *ngIf=\"formValidate['route'].errors && formSubmit && !showLinkPage\">\r\n              <div *ngIf=\"formValidate['route'].invalid\" class=\"p-error block mt-1\">Platform Page is required</div>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-lg-4 col-md-12 col-12 mb-3\" *ngIf=\"showLinkPage\">\r\n            <label for=\"croute\" class=\"referral-form-labels\">\r\n              Dynamic Pages\r\n              <span class=\"requiredfield text-danger\">*</span>\r\n            </label>\r\n            <p-dropdown [options]=\"duplicateDynamicPagesList\" formControlName=\"route\" fieldKey=\"SETTINGS_PER_ROUTE\"\r\n              placeholder=\"Select Dynamic Page\" (keyup)=\"searchDynamicPageList($event)\"\r\n              (onHide)=\"resetDynamicPageList()\" optionLabel=\"value\" optionValue=\"value\" [filter]=\"true\"\r\n              [resetFilterOnHide]=\"true\" [showClear]=\"true\">\r\n              <ng-template let-item pTemplate=\"selectedItem\">\r\n                <div pTooltip=\"{{item?.value}}\" tooltipPosition=\"top\" class=\"text-truncate\"> {{ item?.value }}\r\n                </div>\r\n              </ng-template>\r\n              <ng-template let-object pTemplate=\"item\">\r\n                {{ object.value }}\r\n              </ng-template>\r\n            </p-dropdown>\r\n            <div *ngIf=\"formValidate['route'].errors && formSubmit && showLinkPage\">\r\n              <div *ngIf=\"formValidate['route'].invalid\" class=\"p-error block mt-1\">Dynamic Page is required </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-lg-4 col-md-12 col-12 mb-3\">\r\n            <label for=\"corder\" class=\"referral-form-labels\">Parent Menu </label>\r\n            <p-dropdown [options]=\"pages\" placeholder=\"Select Parent Menu\" formControlName=\"parentid\" optionLabel=\"name\"\r\n              optionValue=\"id\" (onHide)=\"resetParentPageList()\" [showClear]=\"true\" [resetFilterOnHide]=\"true\"\r\n              [filter]=\"true\" (keyup)=\"searchPermissionList($event)\" fieldKey=\"SETTINGS_PER_PARENT_PAGE\">\r\n              <ng-template let-item pTemplate=\"selectedItem\">\r\n                <div pTooltip=\"{{item?.name}}\" tooltipPosition=\"top\" class=\"text-truncate\"> {{ item?.name }}</div>\r\n              </ng-template>\r\n              <ng-template let-object pTemplate=\"item\">\r\n                {{ object.name }}\r\n              </ng-template>\r\n            </p-dropdown>\r\n          </div>\r\n        </div>\r\n        <div class=\"p-fluid p-formgrid p-grid\">\r\n          <div class=\"col-lg-4 col-md-12 col-12 mb-3\">\r\n            <label for=\"icon\" class=\"referral-form-labels\">\r\n              Icon\r\n              <span class=\"requiredfield text-danger\">*</span>\r\n            </label>\r\n            <p-dropdown [options]=\"dublicateIconList\" styleClass=\"icon-dropdown\" formControlName=\"icon\" [filter]=\"true\"\r\n              optionLabel=\"label\" optionValue=\"value\" [resetFilterOnHide]=\"true\"\r\n              [showClear]=\"iconList && iconList.length\" placeholder=\"Select Icon\" (keyup)=\"searchIconList($event)\"\r\n              (onHide)=\"resetIconList()\" (onChange)=\"getSelectedLabel($event.value)\">\r\n              <ng-template pTemplate=\"selectedItem\">\r\n                <div pTooltip=\"{{selectedIconLabel}}\" tooltipPosition=\"top\"\r\n                  class=\"d-flex flex-row align-items-center gap-2\" *ngIf=\"pageForm.controls['icon'].value\">\r\n                  <span class=\"material-symbols-outlined userempty ml-0\">\r\n                    {{ pageForm.controls['icon'].value }}\r\n                  </span>\r\n                  <div class=\"text-truncate\">\r\n                    {{ selectedIconLabel }}\r\n                  </div>\r\n                </div>\r\n              </ng-template>\r\n              <ng-template let-icon pTemplate=\"item\">\r\n                <div class=\"d-flex flex-row align-items-start gap-2\">\r\n                  <span class=\"material-symbols-outlined userempty ml-0\">\r\n                    {{ icon.value }}\r\n                  </span>\r\n                  <div>{{ icon.label }}</div>\r\n                </div>\r\n              </ng-template>\r\n            </p-dropdown>\r\n            <div *ngIf=\"formValidate['icon'].errors && formSubmit\">\r\n              <div *ngIf=\"formValidate['icon'].invalid\" class=\"p-error block mt-1\">Icon is required </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-lg-4 col-md-12 col-12 mb-3\">\r\n            <label for=\"corder\" class=\"referral-form-labels d-none d-lg-inline-block\">&#160;</label>\r\n            <div>\r\n              <p-checkbox st inputId=\"binary\" [binary]=\"true\" fieldKey=\"SETTINGS_PER_MENU\" formControlName=\"ismenu\"\r\n                label=\"Active\"></p-checkbox>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"mt-2\">\r\n          <button class=\"pull-right mb-2 btn btn-primary btncommon\" fieldKey=\"SETTINGS_PER_ADD_PAGE\"\r\n            (click)=\"savePage()\">\r\n            {{ saveMode === 'UPDATE' ? 'Update Menu' : 'Add Menu' }}\r\n          </button>\r\n          <button fieldKey=\"SETTINGS_PER_CANCEL\"\r\n            class=\"pull-right mb-2 mr-2 btn bg-white text-primary border border-primary btncancel\" (click)=\"resetForm()\"\r\n            [disabled]=\"!enableButton\">\r\n            {{ saveMode === 'UPDATE' ? 'Cancel' : 'Clear' }}\r\n          </button>\r\n          <button fieldKey=\"SETTINGS_PER_CANCEL\" class=\"pull-right mb-2 btn btn-danger\" (click)=\"deletePermission()\"\r\n            *ngIf=\"showDeleteBtn && showLinkPage && saveMode === 'UPDATE'\">\r\n            Delete\r\n          </button>\r\n          <br />\r\n          <br />\r\n        </div>\r\n      </p-card>\r\n\r\n      <p-card *ngIf=\"nodeType === 'permission'\" id=\"permissionForm\" class=\"rbac-card\" [formGroup]=\"permissionForm\"\r\n        [style]=\"{ width: '100%', 'margin-bottom': '2em' }\">\r\n        <div class=\"strip_head toggleleft\">\r\n          <span class=\"report_head font-weight-bold\">Permission</span>\r\n        </div>\r\n\r\n        <input id=\"lid\" type=\"hidden\" formControlName=\"id\" />\r\n        <input id=\"lpermissionpageid\" type=\"hidden\" formControlName=\"permissiontypeid\" />\r\n        <input id=\"lparentid\" type=\"hidden\" formControlName=\"parentid\" />\r\n        <input id=\"lpageid\" type=\"hidden\" formControlName=\"pageid\" />\r\n\r\n        <div class=\"p-fluid p-formgrid p-grid\">\r\n          <div class=\"p-field p-col\">\r\n            <label for=\"lpermissiontype\" class=\"referral-form-labels\">Permission Type\r\n              <span class=\"requiredfield text-danger\">*</span></label>\r\n            <p-dropdown id=\"lpermissiontype\" [options]=\"permissionTypes\" placeholder=\"Select a Permission Type\"\r\n              formControlName=\"permissiontypeid\" optionLabel=\"name\" optionValue=\"id\">\r\n            </p-dropdown>\r\n            <div *ngIf=\"permissionForm.controls['permissiontypeid'].errors\">\r\n              <div *ngIf=\"permissionForm.controls['permissiontypeid'].invalid\" class=\"p-error block mt-1\">Permission\r\n                Type\r\n                is required\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"p-field p-col\">\r\n            <label for=\"lkey\" class=\"referral-form-labels\">Key\r\n              <span class=\"requiredfield text-danger\">*</span>\r\n            </label>\r\n            <input id=\"lkey\" type=\"text\" placeholder=\"Enter Key\" formControlName=\"key\" aria-describedby=\"lkey-help\"\r\n              pInputText />\r\n            <div *ngIf=\"permissionForm.controls['key'].errors\">\r\n              <div *ngIf=\"permissionForm.controls['key'].invalid\" class=\"p-error block mt-1\">Key is required </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"p-field p-col\">\r\n            <label for=\"lvalue\" class=\"referral-form-labels\">Description <span\r\n                class=\"requiredfield text-danger\">*</span> </label>\r\n            <input id=\"lvalue\" type=\"text\" placeholder=\"Enter Value\" formControlName=\"description\"\r\n              aria-describedby=\"pname-help\" pInputText />\r\n            <div *ngIf=\"permissionForm.controls['description'].errors\">\r\n              <div *ngIf=\"permissionForm.controls['description'].invalid\" class=\"p-error block mt-1\">Description is\r\n                required\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"mt-2\">\r\n          <button type=\"submit\" class=\"pull-right mb-2 btn btn-primary btncommon\" (click)=\"savePermission()\">\r\n            {{ saveMode === 'UPDATE' ? 'Update Permission' : 'Add Permission' }}\r\n          </button>\r\n          <button class=\"pull-right mb-2 mr-2 btn bg-white text-primary btncancel\" (click)=\"clearForm()\">Cancel</button>\r\n          <br />\r\n          <br />\r\n        </div>\r\n      </p-card>\r\n    </div>\r\n  </div>\r\n</div>\r\n", styles: [".head-div{padding-top:9px;padding-left:7px}.bgiconsearch{margin-bottom:5px;padding-bottom:0;font-size:13px}.masteracess{border:solid 1px var(--table-border);border-radius:2px;padding:5px 0;overflow-y:auto;background:var(--bg-light)}.masterempty{max-width:none;border-radius:50%;height:40px;width:40px}.row.masterdata{margin:0;border-bottom:solid 1px var(--table-border);padding:5px 0;cursor:pointer}.overflow_txt{overflow:hidden;text-overflow:ellipsis}span.namemaster{font-size:13px;color:var(--text-dark)}.masterid,span.emailmaster{font-size:13px;color:#9b9b9b}span.deletemaster{position:absolute;top:0;right:15px;z-index:9;width:20px;float:right;cursor:pointer}span.deletemaster img{width:12px}.activate{position:absolute;margin-top:-46px;margin-left:44rem}.toggleleft{font-size:14px;font-weight:600;display:block;margin-top:-12px;padding-bottom:13px}.report_button{margin-left:12px}:host ::ng-deep .ui-tree.permission-tree{width:100%}.userempty{max-width:none;padding:8px;border-radius:10%;height:36px;width:35px;color:var(--text-dark);margin-left:10px;display:flex;align-items:center}.fileupload .profile{color:#fff}.rbac-card .p-fluid .p-inputtext{padding:8px}.rbac-card .warning{margin-left:10px}.pi-trash{color:red;font-size:12px}@media screen and (max-width: 767px){.masteracess{max-height:400px}}@media screen and (min-width: 990px){.masteracess{height:calc(100vh - 188px)}}@media screen and (max-width: 990px){:host ::ng-deep .selected-list .c-list{width:calc(100% - 35px)!important}.pageLevelAccessTable{width:100%;overflow:auto}.pageLevelAccessTable .table{margin-bottom:60px}}:host ::ng-deep .icon-dropdown li.p-dropdown-item{padding:.5rem 15px!important}:host ::ng-deep .icon-dropdown li.p-dropdown-item.p-highlight .userempty,:host ::ng-deep .icon-dropdown li.p-dropdown-item:hover .userempty,:host ::ng-deep .icon-dropdown li.p-dropdown-item:focus .userempty{color:#fff}:host ::ng-deep .icon-dropdown .userempty{height:inherit;padding:0;justify-content:start;font-size:19px;width:25px}\n"] }]
        }], ctorParameters: function () { return [{ type: i0.Injector }, { type: i1.RbacService }, { type: i2.FormBuilder }, { type: i3.AlertService }, { type: i4.ConfirmationService }, { type: i5.ShareDataService }, { type: i6.DataStoreService }]; } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGVybWlzc2lvbnMuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvcGljcy1jb3JlL3JiYWMtcGVybWlzc2lvbnMvc3JjL2xpYi9waWNzLXJiYWMtcGVybWlzc2lvbnMvcGVybWlzc2lvbnMvcGVybWlzc2lvbnMuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvcGljcy1jb3JlL3JiYWMtcGVybWlzc2lvbnMvc3JjL2xpYi9waWNzLXJiYWMtcGVybWlzc2lvbnMvcGVybWlzc2lvbnMvcGVybWlzc2lvbnMuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBMkIsTUFBTSxlQUFlLENBQUM7QUFDbkUsT0FBTyxFQUFnQyxXQUFXLEVBQWEsVUFBVSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDbEcsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLDJCQUEyQixDQUFDO0FBQ3pELE9BQU8sRUFBaUMsVUFBVSxFQUFZLE1BQU0sYUFBYSxDQUFDO0FBS2xGLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSwrQkFBK0IsQ0FBQztBQUd6RCxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sa0NBQWtDLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVNoRSxNQUFNLE9BQU8sb0JBQW9CO0lBdURyQjtJQUNBO0lBQ0E7SUFDQTtJQUVBO0lBQ0E7SUE1RFYsS0FBSyxDQUFjO0lBQ25CLFNBQVMsR0FBZSxFQUFFLENBQUM7SUFDM0Isc0JBQXNCLEdBQVUsRUFBRSxDQUFDO0lBQ25DLFFBQVEsQ0FBYTtJQUNyQixjQUFjLENBQWE7SUFDM0IsV0FBVyxDQUFTO0lBQ3BCLGVBQWUsQ0FBUztJQUN4QixRQUFRLENBQVM7SUFDakIsUUFBUSxDQUFTO0lBQ2pCLFlBQVksR0FBUSxFQUFFLENBQUM7SUFDdkIsZ0JBQWdCLENBQU07SUFDdEIsU0FBUyxDQUFTO0lBQ2xCLE9BQU8sQ0FBTTtJQUNiLFlBQVksQ0FBTTtJQUNsQixVQUFVLENBQU07SUFDaEIsU0FBUyxDQUF3QztJQUNqRCxpQkFBaUIsQ0FBTTtJQUN2QixTQUFTLENBQWU7SUFDeEIsaUJBQWlCLENBQU07SUFDdkIsU0FBUyxDQUFNO0lBQ2YsT0FBTyxHQUFhLElBQUksUUFBUSxFQUFFLENBQUM7SUFDbkMsT0FBTyxDQUFnQjtJQUN2QixLQUFLLENBQU07SUFDWCxRQUFRLEdBQVcsS0FBSyxDQUFDO0lBQ3pCLFlBQVksQ0FBVztJQUN2QixXQUFXLENBQU07SUFDakIsY0FBYyxHQUFVLEVBQUUsQ0FBQztJQUMzQixXQUFXLENBQU07SUFDakIsUUFBUSxDQUFNO0lBQ2QsaUJBQWlCLENBQU07SUFDdkIsaUJBQWlCLEdBQVUsRUFBRSxDQUFDO0lBQzlCLFFBQVEsR0FBVSxFQUFFLENBQUM7SUFDckIsTUFBTSxDQUFjO0lBQ3BCLGdCQUFnQixDQUFNO0lBQ3RCLGFBQWEsR0FBWSxLQUFLLENBQUM7SUFDL0IsaUJBQWlCLENBQU07SUFDdkIsUUFBUSxDQUFxQztJQUM3QyxRQUFRLENBQXFDO0lBQzdDLFFBQVEsR0FBWSxJQUFJLENBQUM7SUFDekIsVUFBVSxHQUFZLEtBQUssQ0FBQztJQUM1QixtQkFBbUIsQ0FBa0I7SUFDckMseUJBQXlCLENBQU07SUFDL0IsMEJBQTBCLENBQU07SUFDaEMsc0JBQXNCLENBQU07SUFDNUIsU0FBUyxHQUFRLEVBQUUsQ0FBQztJQUNwQixnQkFBZ0IsR0FBUSxFQUFFLENBQUM7SUFDM0IsZ0JBQWdCLEdBQThCLEVBQUUsQ0FBQztJQUNqRCxxQkFBcUIsQ0FBTTtJQUMzQixZQUFZLENBQVU7SUFJdEIsWUFDRSxRQUFrQixFQUNWLGlCQUE4QixFQUM5QixXQUF3QixFQUN4QixZQUEwQixFQUMxQixtQkFBd0M7SUFDaEQsb0NBQW9DO0lBQzVCLFVBQTRCLEVBQzVCLGFBQStCO1FBTi9CLHNCQUFpQixHQUFqQixpQkFBaUIsQ0FBYTtRQUM5QixnQkFBVyxHQUFYLFdBQVcsQ0FBYTtRQUN4QixpQkFBWSxHQUFaLFlBQVksQ0FBYztRQUMxQix3QkFBbUIsR0FBbkIsbUJBQW1CLENBQXFCO1FBRXhDLGVBQVUsR0FBVixVQUFVLENBQWtCO1FBQzVCLGtCQUFhLEdBQWIsYUFBYSxDQUFrQjtRQUV2QyxJQUFJLENBQUMsUUFBUSxHQUFHLE1BQU0sQ0FBQztRQUN2QixJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztRQUN6QixJQUFJLENBQUMsU0FBUyxHQUFHLFFBQVEsQ0FBQyxHQUFHLENBQWUsWUFBWSxDQUFDLENBQUM7UUFDMUQsSUFBSSxDQUFDLGtCQUFrQixFQUFFLENBQUM7UUFDMUIsSUFBSSxDQUFDLHdCQUF3QixFQUFFLENBQUM7UUFDaEMsTUFBTSxTQUFTLEdBQUcsWUFBWSxDQUFDLFFBQVEsQ0FBQztRQUN4QyxJQUFJLENBQUMsUUFBUSxHQUFHLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztRQUN6RSxJQUFJLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQztJQUN6QyxDQUFDO0lBRUQsUUFBUTtRQUNOLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLENBQUMsR0FBUSxFQUFFLEVBQUU7WUFDcEUsSUFBSSxDQUFDLHFCQUFxQixHQUFHLEdBQUcsQ0FBQyx1QkFBdUIsQ0FBQyxDQUFBO1lBQ3pELElBQUksR0FBRyxDQUFDLFNBQVMsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxTQUFTLENBQUMsS0FBSyxFQUFFLEVBQUU7Z0JBQzNDLElBQUksQ0FBQyxPQUFPLEdBQUcsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDO2dCQUM5QixPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsbUJBQW1CLENBQUMsQ0FBQztnQkFDL0MsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDO2dCQUMvQyxJQUFJLENBQUMsS0FBSyxHQUFHLFFBQVEsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7Z0JBQzdDLElBQUksQ0FBQyxXQUFXLEdBQUcsR0FBRyxDQUFDLGFBQWEsQ0FBQyxDQUFBO2dCQUNyQyxJQUFJLElBQUksQ0FBQyxLQUFLLEVBQUU7b0JBQ2QsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO29CQUNwQixJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7b0JBQ25CLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO2lCQUM1QjtnQkFDRCxJQUFJLElBQUksQ0FBQyxXQUFXLEVBQUU7b0JBQ3BCLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztpQkFDcEI7YUFDRjtRQUNILENBQUMsQ0FBQyxDQUFDO1FBQ0gsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLFdBQVcsRUFBRSxDQUFDO1FBQ2hDLElBQUksQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxHQUFHLEVBQUU7WUFDeEMsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMseUJBQXlCLEVBQUUsQ0FBQztRQUN2RCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUM7SUFDRCx5QkFBeUI7UUFDdkIsTUFBTSxTQUFTLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUM7UUFDdEMsTUFBTSxlQUFlLEdBQUcsQ0FBQyxJQUFJLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRSxjQUFjLEVBQUUsZUFBZSxDQUFDLENBQUM7UUFFbkYsS0FBSyxNQUFNLEdBQUcsSUFBSSxTQUFTLEVBQUU7WUFDM0IsSUFBSSxTQUFTLENBQUMsY0FBYyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsSUFBSSxTQUFTLENBQUMsR0FBRyxDQUFDLEVBQUU7Z0JBQ3JGLE9BQU8sSUFBSSxDQUFDO2FBQ2I7U0FDRjtRQUNELE9BQU8sS0FBSyxDQUFDO0lBQ2YsQ0FBQztJQUVELFdBQVc7UUFDVCxJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVcsRUFBRSxDQUFDO0lBQzdCLENBQUM7SUFDRCxXQUFXO1FBQ1QsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQ2hCLElBQUksQ0FBQyxlQUFlLEVBQUUsQ0FBQztRQUN2QixJQUFJLENBQUMsaUJBQWlCLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxhQUFhLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxLQUFVLEVBQUUsRUFBRTtZQUNqRyxJQUFJLENBQUMsV0FBVyxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUM7UUFDaEMsQ0FBQyxDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsaUJBQWlCLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxhQUFhLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxLQUFVLEVBQUUsRUFBRTtZQUNqRyxJQUFJLENBQUMsZUFBZSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUM7UUFDcEMsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDO0lBQ0Qsa0JBQWtCO1FBQ2hCLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUM7WUFDckMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQ1AsUUFBUSxFQUFFLENBQUMsSUFBSSxDQUFDO1lBQ2hCLGFBQWEsRUFBRSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztZQUMxRSxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsVUFBVSxDQUFDLFFBQVEsQ0FBQztZQUMvQixLQUFLLEVBQUUsQ0FBQyxFQUFFLEVBQUUsVUFBVSxDQUFDLFFBQVEsQ0FBQztZQUNoQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDVixNQUFNLEVBQUUsQ0FBQyxJQUFJLENBQUM7WUFDZCxTQUFTLEVBQUUsQ0FBQyxFQUFFLENBQUM7WUFDZixJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsVUFBVSxDQUFDLFFBQVEsQ0FBQztZQUNqQyxZQUFZLEVBQUUsQ0FBQyxVQUFVLENBQUM7U0FDM0IsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVELHdCQUF3QjtRQUN0QixJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO1lBQzNDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUNQLFFBQVEsRUFBRSxDQUFDLElBQUksQ0FBQztZQUNoQixNQUFNLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDWCxnQkFBZ0IsRUFBRSxDQUFDLEVBQUUsRUFBRSxVQUFVLENBQUMsUUFBUSxDQUFDO1lBQzNDLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxVQUFVLENBQUMsUUFBUSxDQUFDO1lBQzlCLFdBQVcsRUFBRSxDQUFDLEVBQUUsRUFBRSxVQUFVLENBQUMsUUFBUSxDQUFDO1lBQ3RDLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQztTQUNYLENBQUMsQ0FBQztJQUNMLENBQUM7SUFFRCxTQUFTLENBQUMsS0FBWSxFQUFFLFFBQWEsRUFBRSxRQUFpQjtRQUN0RCxNQUFNLElBQUksR0FBVSxFQUFFLENBQUM7UUFFdkIsS0FBSzthQUNGLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxRQUFRLEtBQUssUUFBUSxDQUFDO2FBQzFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRTtZQUNkLE1BQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDLENBQUM7WUFFMUQsSUFBSSxRQUFRLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtnQkFDdkIsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7YUFDMUI7aUJBQU07Z0JBQ0wsSUFBSSxDQUFDLFFBQVEsR0FBRyxFQUFFLENBQUM7YUFDcEI7WUFDRCxJQUFJLFlBQVksR0FBRyxJQUFJLENBQUM7WUFDeEIsSUFBSSxRQUFRLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEVBQUU7Z0JBQ3BDLE1BQU0sV0FBVyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsRUFBRTtvQkFDNUQsT0FBTyxLQUFLLEtBQUssSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLFFBQVEsRUFBRSxFQUFFLENBQUMsUUFBUSxDQUFDLEVBQUUsS0FBSyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUM7Z0JBQ3hFLENBQUMsQ0FBQyxDQUFDO2dCQUNILFlBQVksR0FBRztvQkFDYixHQUFHLFlBQVk7b0JBQ2YsUUFBUSxFQUFFLFdBQVc7aUJBQ3RCLENBQUM7YUFDSDtZQUNELElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7UUFDMUIsQ0FBQyxDQUFDLENBQUM7UUFFTCxPQUFPLElBQUksQ0FBQztJQUNkLENBQUM7SUFFRCxPQUFPLENBQUMsS0FBWSxFQUFFLFNBQWMsRUFBRSxLQUFVLEVBQUUsUUFBaUI7UUFDakUsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLHFCQUFxQixDQUFDLEtBQUssRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFFLFFBQVEsQ0FBQyxDQUFDO1FBQzVFLElBQUksS0FBSyxJQUFJLE9BQU8sS0FBSyxLQUFLLFFBQVEsRUFBRTtZQUN0QyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLEdBQUcsS0FBSyxDQUFDO1NBQ3RDO2FBQU07WUFDTCxPQUFPLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsQ0FBQztTQUNyQztJQUNILENBQUM7SUFFRCxXQUFXO1FBQ1QsTUFBTSxXQUFXLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxpRUFBaUUsQ0FBQyxDQUFDO1FBQzlHLElBQUksV0FBVyxZQUFZLGdCQUFnQixFQUFFO1lBQzNDLFdBQVcsQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDO1NBQ3hCO1FBQ0QsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO0lBQ2xCLENBQUM7SUFFRCx1QkFBdUIsQ0FBQyxNQUFXO1FBQ2pDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsQ0FBQztJQUNoQixDQUFDO0lBRUQsVUFBVSxDQUFDLEtBQVUsRUFBRSxVQUFlO1FBQ3BDLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxFQUFFLENBQUM7UUFDM0IsSUFBSSxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUM7UUFDeEIsSUFBSSxDQUFDLFNBQVMsR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7UUFDOUMsSUFBSSxDQUFDLGdCQUFnQixHQUFHLEVBQUUsQ0FBQztRQUMzQixJQUFJLFVBQVUsSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFFO1lBQ2hDLElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO1NBQzFCO2FBQU0sSUFBSSxDQUFDLFVBQVUsSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFFO1lBQ3hDLElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO1NBQzFCO2FBQU07WUFDTCxJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztTQUMxQjtRQUNELElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLG1CQUFtQixDQUFDO1FBQ3RDLElBQUksQ0FBQywwQkFBMEIsR0FBRyxJQUFJLENBQUMsaUJBQWlCLENBQUM7UUFDekQsSUFBSSxDQUFDLHlCQUF5QixHQUFHLElBQUksQ0FBQyxTQUFTLENBQUM7UUFDaEQsSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFFO1lBQ2xCLElBQUksQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDO1lBQzFCLElBQUksQ0FBQyxZQUFZLEdBQUcsS0FBSyxDQUFDO1lBQzFCLElBQUksQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7WUFDaEMsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsS0FBSyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQ3JFLElBQUksQ0FBQyxzQkFBc0IsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLE1BQU0sS0FBSyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQ3pGLElBQUksS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLEtBQUssWUFBWSxFQUFFO2dCQUNwQyxJQUFJLENBQUMsY0FBYyxDQUFDLEtBQUssRUFBRSxDQUFDO2dCQUM1QixJQUFJLENBQUMsY0FBYyxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7YUFDNUM7aUJBQU07Z0JBQ0wsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLEVBQUUsQ0FBQztnQkFDdEIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUNyQyxJQUFJLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQTtnQkFDeEIsTUFBTSxPQUFPLEdBQUcsS0FBSyxDQUFDLElBQUksRUFBRSxjQUFjLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLGNBQWMsRUFBRSxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUMsT0FBTyxDQUFDLFFBQVEsRUFBRSxDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztnQkFDdkosSUFBSSxDQUFDLGdCQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFDO2dCQUMvQixJQUFJLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQztvQkFDdkIsSUFBSSxFQUFFLE9BQU87aUJBQ2QsQ0FBQyxDQUFDO2dCQUNILElBQUksQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDO29CQUN2QixZQUFZLEVBQUUsVUFBVTtpQkFDekIsQ0FBQyxDQUFBO2dCQUNGLElBQUksQ0FBQyxTQUFTLENBQUMsc0JBQXNCLENBQUMsR0FBRyxVQUFVLENBQUE7Z0JBQ25ELElBQUksS0FBSyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLDhCQUE4QixDQUFDLEVBQUU7b0JBQzdELElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDO29CQUN6QixJQUFJLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQzt3QkFDdkIsWUFBWSxFQUFFLFNBQVM7cUJBQ3hCLENBQUMsQ0FBQTtvQkFDRixJQUFJLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQzt3QkFDdkIsS0FBSyxFQUFFLEtBQUssQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7cUJBQ3RDLENBQUMsQ0FBQTtvQkFFRixJQUFJLENBQUMsU0FBUyxDQUFDLHNCQUFzQixDQUFDLEdBQUcsU0FBUyxDQUFBO2lCQUNuRDtnQkFDRCxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxjQUFjLEVBQUUsU0FBUyxFQUFFLFFBQVEsRUFBRSxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO2FBQzdGO1NBQ0Y7SUFDSCxDQUFDO0lBRUQsaUJBQWlCLENBQUMsS0FBVSxFQUFFLElBQVM7UUFDckMsSUFBSSxJQUFJLENBQUMsUUFBUSxLQUFLLE1BQU0sRUFBRTtZQUM1QixrQ0FBa0M7WUFDbEMsMEVBQTBFO1lBQzFFLEtBQUssQ0FBQyxjQUFjLEVBQUUsQ0FBQztTQUN4QjtJQUNILENBQUM7SUFFRCxVQUFVLENBQUMsS0FBVTtRQUNuQix5RkFBeUY7UUFDekYsMkVBQTJFO1FBQzNFLHVDQUF1QztRQUN2QywyRkFBMkY7UUFDM0YsK0NBQStDO1FBQy9DLFFBQVE7UUFDUixJQUFJO0lBQ04sQ0FBQztJQUVELGNBQWMsQ0FBQyxLQUFZO1FBQ3pCLE1BQU0sS0FBSyxHQUFJLEtBQUssQ0FBQyxNQUEyQixDQUFDLEtBQUssQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUNyRSxJQUFJLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFNLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxLQUFLLEVBQUUsV0FBVyxFQUFFLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7SUFDdkcsQ0FBQztJQUVELGFBQWE7UUFDWCxJQUFJLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQztJQUN6QyxDQUFDO0lBRUQscUJBQXFCLENBQUMsS0FBWTtRQUNoQyxNQUFNLEtBQUssR0FBSSxLQUFLLENBQUMsTUFBMkIsQ0FBQyxLQUFLLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDckUsSUFBSSxDQUFDLHlCQUF5QixHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBTSxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUUsS0FBSyxFQUFFLFdBQVcsRUFBRSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO0lBQ2hILENBQUM7SUFFRCxvQkFBb0I7UUFDbEIsSUFBSSxDQUFDLHlCQUF5QixHQUFHLElBQUksQ0FBQyxTQUFTLENBQUM7SUFDbEQsQ0FBQztJQUNELG1CQUFtQjtRQUNqQixJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxtQkFBbUIsQ0FBQztJQUN4QyxDQUFDO0lBRUQsc0JBQXNCLENBQUMsS0FBWTtRQUNqQyxNQUFNLEtBQUssR0FBSSxLQUFLLENBQUMsTUFBMkIsQ0FBQyxLQUFLLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDckUsSUFBSSxDQUFDLDBCQUEwQixHQUFHLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFNLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxRQUFRLEVBQUUsV0FBVyxFQUFFLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7SUFDNUgsQ0FBQztJQUVELHFCQUFxQjtRQUNuQixJQUFJLENBQUMsMEJBQTBCLEdBQUcsSUFBSSxDQUFDLGlCQUFpQixDQUFDO0lBQzNELENBQUM7SUFFRCxnQkFBZ0IsQ0FBQyxHQUFHO1FBQ2xCLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDO1FBQ3ZDLE1BQU0sWUFBWSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsS0FBSyxLQUFLLEdBQUcsQ0FBQyxDQUFDO1FBQ2xFLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxZQUFZLENBQUMsQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDO0lBQ2xELENBQUM7SUFFRCxRQUFRO1FBQ04sTUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUM7UUFDakMsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLGFBQWEsQ0FBQztRQUNwRCxJQUFJLENBQUMsY0FBYyxHQUFHO1lBQ3BCLElBQUksRUFBRSxJQUFJLENBQUMsSUFBSTtTQUNoQixDQUFDO1FBQ0YsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUM7UUFDdkIsSUFBSSxJQUFJLENBQUMsWUFBWSxFQUFFO1lBQ3JCLElBQUksQ0FBQyxLQUFLLEdBQUcsVUFBVSxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7U0FDckM7UUFDRCxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxFQUFFO1lBQ3ZCLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2pELElBQUksSUFBSSxDQUFDLFFBQVEsS0FBSyxRQUFRLEVBQUU7Z0JBQzlCLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsR0FBUSxFQUFFLEVBQUU7b0JBQzdELDJCQUEyQjtvQkFDM0IsSUFBSSxDQUFDLEVBQUUsR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7b0JBQ3RCLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLENBQUM7b0JBQzFCLElBQUksQ0FBQyxTQUFTLEdBQUcsRUFBRSxDQUFDO29CQUNwQixJQUFJO29CQUNKLElBQUksQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLDRCQUE0QixDQUFDLENBQUM7b0JBQ3hELElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztnQkFDbEIsQ0FBQyxFQUNDLENBQUMsS0FBVSxFQUFFLEVBQUU7b0JBQ2IsSUFBSSxLQUFLLElBQUksS0FBSyxFQUFFLEtBQUssRUFBRSxPQUFPLENBQUMsUUFBUSxDQUFDLGdCQUFnQixDQUFDLEVBQUU7d0JBQzdELElBQUksQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLFNBQVMsSUFBSSxFQUFFLElBQUksbUJBQW1CLENBQUMsQ0FBQztxQkFDakU7eUJBQU07d0JBQ0wsSUFBSSxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLFlBQVksQ0FBQyxDQUFDO3FCQUNwRDtnQkFDSCxDQUFDLENBQUMsQ0FBQzthQUNOO2lCQUFNO2dCQUNMLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUMsU0FBUyxDQUFDLEdBQUcsRUFBRTtvQkFDckQsSUFBSSxPQUFPLEdBQUc7d0JBQ1osR0FBRyxJQUFJO3dCQUNQLGdCQUFnQixFQUFFLElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFO3FCQUNwRCxDQUFBO29CQUNELElBQUksQ0FBQyxjQUFjLENBQUMsT0FBTyxDQUFDLENBQUM7b0JBQzdCLElBQUksQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLDRCQUE0QixDQUFDLENBQUM7b0JBQ3hELElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztvQkFDaEIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDdkIsQ0FBQyxDQUFDLENBQUM7YUFDSjtZQUNELElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztTQUNwQjtJQUNILENBQUM7SUFFRCxJQUFJLFlBQVk7UUFDZCxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDO0lBQ2hDLENBQUM7SUFFRCxjQUFjLENBQUMsSUFBVTtRQUN2QixJQUFJLElBQUksRUFBRTtZQUNSLElBQUksQ0FBQyxjQUFjLENBQUMsVUFBVSxDQUFDO2dCQUM3QixFQUFFLEVBQUUsSUFBSSxFQUFFLGdCQUFnQixDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ3ZELFdBQVcsRUFBRSxJQUFJLENBQUMsSUFBSTtnQkFDdEIsR0FBRyxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUMsVUFBVSxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUM7Z0JBQ2pELE1BQU0sRUFBRSxJQUFJLENBQUMsRUFBRTtnQkFDZixLQUFLLEVBQUUsQ0FBQztnQkFDUixnQkFBZ0IsRUFBRSxDQUFDO2FBQ3BCLENBQUMsQ0FBQztTQUNKO1FBQ0QsSUFBSSxVQUFVLEdBQUc7WUFDZixHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsS0FBSztZQUM1QixLQUFLLEVBQUUsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxLQUFLO1NBQ3hDLENBQUM7UUFFRix3QkFBd0I7UUFDeEIsbUJBQW1CO1FBQ25CLHFCQUFxQjtRQUNyQixZQUFZO1FBQ1osTUFBTTtRQUNOLElBQUk7UUFFSixJQUFJLElBQUksQ0FBQyxjQUFjLENBQUMsS0FBSyxFQUFFO1lBQzdCLFVBQVUsQ0FBQyxLQUFLLEdBQUcsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ25FLE9BQU8sVUFBVSxDQUFDLFFBQVEsQ0FBQztZQUMzQixJQUFJLElBQUksQ0FBQyxRQUFRLEtBQUssUUFBUSxFQUFFO2dCQUM5QixJQUFJLENBQUMsaUJBQWlCLENBQUMsZ0JBQWdCLENBQUMsVUFBVSxDQUFDLENBQUMsU0FBUyxDQUFDLEdBQUcsRUFBRTtvQkFDakUsaUVBQWlFO29CQUNqRSxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7b0JBQ2hCLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ3ZCLENBQUMsQ0FBQyxDQUFDO2FBQ0o7aUJBQU07Z0JBQ0wsSUFBSSxDQUFDLGlCQUFpQixDQUFDLGdCQUFnQixDQUFDLFVBQVUsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxHQUFHLEVBQUU7b0JBQ2pFLGlFQUFpRTtvQkFDakUsSUFBSSxDQUFDLHNCQUFzQixHQUFHLEVBQUUsQ0FBQztvQkFDakMsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO2dCQUNsQixDQUFDLENBQUMsQ0FBQzthQUNKO1NBQ0Y7YUFBTTtZQUNMLHVEQUF1RDtTQUN4RDtJQUNILENBQUM7SUFFRCxTQUFTO1FBQ1AsSUFBSSxJQUFJLENBQUMsUUFBUSxLQUFLLFlBQVksRUFBRTtZQUNsQyxJQUFJLENBQUMsd0JBQXdCLEVBQUUsQ0FBQztTQUNqQzthQUFNO1lBQ0wsSUFBSSxDQUFDLGtCQUFrQixFQUFFLENBQUM7WUFDMUIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLEdBQUcsRUFBRTtnQkFDeEMsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMseUJBQXlCLEVBQUUsQ0FBQztZQUN2RCxDQUFDLENBQUMsQ0FBQztTQUNKO0lBQ0gsQ0FBQztJQUNELFVBQVUsQ0FBQyxJQUFJLEVBQUUsS0FBSztRQUNwQixPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxhQUFhLENBQUMsQ0FBQztRQUNsQyxJQUFJLENBQUMsVUFBVSxHQUFHLEtBQUssQ0FBQztRQUN4QixJQUFJLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQztRQUN2QyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxtQkFBbUIsQ0FBQztRQUN0QyxJQUFJLENBQUMsMEJBQTBCLEdBQUcsSUFBSSxDQUFDLGlCQUFpQixDQUFDO1FBQ3pELElBQUksQ0FBQyx5QkFBeUIsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDO1FBQ2hELElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxFQUFFLENBQUM7UUFDM0IsSUFBSSxJQUFJLEtBQUssVUFBVSxFQUFFO1lBQ3ZCLElBQUksQ0FBQyxZQUFZLEdBQUcsS0FBSyxDQUFDO1lBQzFCLElBQUksQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDO2dCQUN2QixZQUFZLEVBQUUsSUFBSTthQUNuQixDQUFDLENBQUE7WUFDRixJQUFJLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDO1lBQzdCLElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO1lBQ3pCLElBQUksQ0FBQyxRQUFRLEdBQUcsTUFBTSxDQUFDO1lBQ3ZCLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztZQUNqQixJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7U0FDakI7YUFBTSxJQUFJLElBQUksS0FBSyxTQUFTLEVBQUU7WUFDN0IsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUM7WUFDekIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUM7Z0JBQ3ZCLFlBQVksRUFBRSxJQUFJO2FBQ25CLENBQUMsQ0FBQTtZQUNGLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLENBQUM7WUFDN0IsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7WUFDekIsSUFBSSxDQUFDLFFBQVEsR0FBRyxNQUFNLENBQUM7WUFDdkIsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO1lBQ2pCLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztTQUNqQjtRQUNELElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUNuQixtREFBbUQ7UUFDbkQsc0RBQXNEO1FBQ3RELElBQUk7SUFDTixDQUFDO0lBRUQsbUJBQW1CO1FBQ2pCLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxlQUFlLEVBQUUsQ0FBQyxTQUFTLENBQUMsQ0FBQyxHQUFRLEVBQUUsRUFBRTtZQUM5RCxNQUFNLElBQUksR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDekIsSUFBSSxJQUFJLElBQUksSUFBSSxFQUFFLE1BQU0sRUFBRTtnQkFDeEIsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztnQkFDbkYsSUFBSSxDQUFDLDBCQUEwQixHQUFHLElBQUksQ0FBQyxpQkFBaUIsQ0FBQzthQUMxRDtRQUNILENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUdELFdBQVc7UUFDVCxJQUFJLENBQUMsUUFBUSxHQUFHO1lBQ2QsRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFFLEtBQUssRUFBRSxRQUFRLEVBQUU7WUFDbkMsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUU7U0FDaEMsQ0FBQztJQUNKLENBQUM7SUFFRCxTQUFTLENBQUMsUUFBYTtRQUNyQixJQUFJLENBQUMsWUFBWSxHQUFHLEtBQUssQ0FBQztRQUMxQixJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQ3RCLElBQUksQ0FBQyxrQkFBa0IsRUFBRSxDQUFBO1FBQ3pCLElBQUksQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxHQUFHLEVBQUU7WUFDeEMsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMseUJBQXlCLEVBQUUsQ0FBQztRQUN2RCxDQUFDLENBQUMsQ0FBQztRQUNILElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxFQUFFLENBQUM7UUFDM0IsSUFBSSxDQUFDLFlBQVksR0FBRyxLQUFLLENBQUM7UUFDMUIsSUFBSSxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUM7UUFDeEIsSUFBSSxDQUFDLGFBQWEsR0FBRyxLQUFLLENBQUM7UUFDM0IsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7UUFDekIsSUFBSSxDQUFDLFFBQVEsR0FBRyxNQUFNLENBQUM7UUFDdkIsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQyxRQUFRLENBQUM7UUFDdkMsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsbUJBQW1CLENBQUM7UUFDdEMsSUFBSSxDQUFDLDBCQUEwQixHQUFHLElBQUksQ0FBQyxpQkFBaUIsQ0FBQztRQUN6RCxJQUFJLENBQUMseUJBQXlCLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQztRQUNoRCxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsRUFBRSxDQUFDO1FBQzNCLElBQUksQ0FBQyxjQUFjLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDNUIsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQ25CLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztRQUNqQixJQUFJLElBQUksQ0FBQyxnQkFBZ0IsRUFBRTtZQUN6QixJQUFJLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQztnQkFDdkIsWUFBWSxFQUFFLElBQUksQ0FBQyxnQkFBZ0I7YUFDcEMsQ0FBQyxDQUFBO1lBQ0YsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMsZ0JBQWdCLElBQUksU0FBUyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQztTQUN2RTthQUFNO1lBQ0wsSUFBSSxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUM7Z0JBQ3ZCLFlBQVksRUFBRSxVQUFVO2FBQ3pCLENBQUMsQ0FBQTtTQUNIO1FBRUQsSUFBSSxRQUFRLEVBQUU7WUFDWixJQUFJLENBQUMsU0FBUyxHQUFHLEVBQUUsQ0FBQztTQUNyQjtJQUNILENBQUM7SUFFRCxTQUFTO1FBQ1AsSUFBSSxDQUFDLGdCQUFnQixHQUFHLEVBQUUsQ0FBQztRQUMzQixJQUFJLENBQUMsVUFBVSxHQUFHLEtBQUssQ0FBQztRQUN4QixJQUFJLElBQUksQ0FBQyxRQUFRLElBQUksUUFBUSxFQUFFO1lBQzdCLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUM7U0FDdkI7YUFBTTtZQUNMLElBQUksQ0FBQyxVQUFVLENBQUMsRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLFNBQVMsRUFBRSxFQUFFLEtBQUssQ0FBQyxDQUFDO1lBQ2pELElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztTQUNwQjtJQUNILENBQUM7SUFFRCxlQUFlO1FBQ2IsSUFBSSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsV0FBVyxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDNUMsSUFBSSxDQUFDLGdCQUFnQixHQUFHLEVBQUUsQ0FBQztJQUM3QixDQUFDO0lBRUQseUJBQXlCO0lBQ3pCLDZCQUE2QjtJQUM3Qiw4Q0FBOEM7SUFDOUMsSUFBSTtJQUdKLG9CQUFvQjtRQUNsQixJQUFJLENBQUMsd0JBQXdCLEVBQUUsQ0FBQztRQUNoQyxJQUFJLElBQUksQ0FBQyxRQUFRLEtBQUssTUFBTSxFQUFFO1lBQzVCLElBQUksQ0FBQyxRQUFRLEdBQUcsWUFBWSxDQUFDO1lBQzdCLElBQUksQ0FBQyxjQUFjLENBQUMsVUFBVSxDQUFDO2dCQUM3QixNQUFNLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFFO2FBQzdCLENBQUMsQ0FBQztTQUNKO2FBQU07WUFDTCxJQUFJLENBQUMsY0FBYyxDQUFDLFVBQVUsQ0FBQztnQkFDN0IsTUFBTSxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTTtnQkFDaEMsUUFBUSxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRTthQUMvQixDQUFDLENBQUM7U0FDSjtJQUNILENBQUM7SUFFTyxlQUFlO1FBQ3JCLE1BQU0sVUFBVSxHQUFHO1lBQ2pCLHdCQUF3QixFQUFFLElBQUk7WUFDOUIsOEJBQThCLEVBQUUsSUFBSTtZQUNwQyxtQkFBbUIsRUFBRSxJQUFJO1NBQzFCLENBQUM7UUFDRixJQUFJLENBQUMsU0FBUyxHQUFHO1lBQ2Y7Z0JBQ0UsS0FBSyxFQUFFLGFBQWE7Z0JBQ3BCLElBQUksRUFBRSxVQUFVLENBQUMsYUFBYTtnQkFDOUIsT0FBTyxFQUFFLFVBQVUsQ0FBQyx3QkFBd0I7Z0JBQzVDLEtBQUssRUFBRSwwQkFBMEI7Z0JBQ2pDLE9BQU8sRUFBRSxDQUFDLE1BQVcsRUFBRSxFQUFFO29CQUN2QixJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztvQkFDekIsSUFBSSxDQUFDLFFBQVEsR0FBRyxNQUFNLENBQUM7b0JBQ3ZCLElBQUksQ0FBQyxZQUFZLEdBQUcsS0FBSyxDQUFDO29CQUMxQixJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7Z0JBQ25CLENBQUM7YUFDRjtZQUNEO2dCQUNFLEtBQUssRUFBRSxXQUFXO2dCQUNsQixJQUFJLEVBQUUsVUFBVSxDQUFDLGFBQWE7Z0JBQzlCLE9BQU8sRUFBRSxVQUFVLENBQUMsd0JBQXdCO2dCQUM1QyxPQUFPLEVBQUUsQ0FBQyxNQUFXLEVBQUUsRUFBRTtvQkFDdkIsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7b0JBQ3pCLElBQUksQ0FBQyxRQUFRLEdBQUcsTUFBTSxDQUFDO29CQUN2QixJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQztvQkFDekIsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO2dCQUNuQixDQUFDO2FBQ0Y7WUFFRDtnQkFDRSxLQUFLLEVBQUUsbUJBQW1CO2dCQUMxQixJQUFJLEVBQUUsVUFBVSxDQUFDLGdCQUFnQjtnQkFDakMsT0FBTyxFQUFFLFVBQVUsQ0FBQyw4QkFBOEI7Z0JBQ2xELEtBQUssRUFBRSxnQ0FBZ0M7Z0JBQ3ZDLE9BQU8sRUFBRSxNQUFNLENBQUMsRUFBRTtvQkFDaEIsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7b0JBQ3pCLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUM7b0JBQ3ZDLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztvQkFDakIsSUFBSSxDQUFDLG9CQUFvQixFQUFFLENBQUM7Z0JBQzlCLENBQUM7YUFDRjtZQUVEO2dCQUNFLEtBQUssRUFBRSxRQUFRO2dCQUNmLElBQUksRUFBRSxVQUFVLENBQUMsS0FBSztnQkFDdEIsT0FBTyxFQUFFLFVBQVUsQ0FBQyxtQkFBbUI7Z0JBQ3ZDLEtBQUssRUFBRSxxQkFBcUI7Z0JBQzVCLE9BQU8sRUFBRSxLQUFLLENBQUMsRUFBRTtvQkFDZixJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztvQkFDekIsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQztvQkFFdkMscUNBQXFDO29CQUNyQyx5Q0FBeUM7b0JBQ3pDLHNEQUFzRDtvQkFDdEQsd0NBQXdDO29CQUN4QyxvQkFBb0I7b0JBQ3BCLHVCQUF1QjtvQkFDdkIsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQztvQkFDL0IscUJBQXFCO29CQUNyQixPQUFPO29CQUNQLG9CQUFvQjtvQkFDcEIsNkJBQTZCO29CQUM3QixPQUFPO29CQUNQLE1BQU07Z0JBQ1IsQ0FBQzthQUNGO1NBQ0YsQ0FBQztJQUNKLENBQUM7SUFFRCxZQUFZO1FBQ1YsSUFBSSxDQUFDLGlCQUFpQixDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxHQUFRLEVBQUUsRUFBRTtZQUM1RSxNQUFNLElBQUksR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDakMsSUFBSSxJQUFJLElBQUksSUFBSSxFQUFFLE1BQU0sRUFBRTtnQkFDeEIsTUFBTSxlQUFlLEdBQUcsSUFBSSxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQU0sRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLGFBQWEsRUFBRSxVQUFVLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFNLEVBQUUsRUFBRTtvQkFDM0YsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsUUFBUSxFQUFFLENBQUM7b0JBQzNELE1BQU0sUUFBUSxHQUFHLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQSxDQUFDLENBQUEsR0FBRyxDQUFDLENBQUMsYUFBYSxDQUFDLFFBQVEsYUFBYSxDQUFBLENBQUMsQ0FBQSxDQUFDLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQztvQkFDL0YsT0FBTzt3QkFDTCxFQUFFLEVBQUUsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxNQUFNO3dCQUMxQixRQUFRLEVBQUUsUUFBUTt3QkFDbEIsS0FBSyxFQUFFLFFBQVE7cUJBQ2hCLENBQUM7Z0JBQ0osQ0FBQyxDQUFDLENBQUM7Z0JBQ0gsSUFBSSxDQUFDLFNBQVMsR0FBRyxlQUFlLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7Z0JBQ3RGLElBQUksQ0FBQyx5QkFBeUIsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDO2FBQ2pEO1FBQ0gsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDO0lBRU8sUUFBUTtRQUNkLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxhQUFhLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxLQUFVLEVBQUUsRUFBRTtZQUM3RixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztZQUNoRSxJQUFJLENBQUMsbUJBQW1CLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztZQUN0QyxJQUFJLENBQUMsY0FBYyxHQUFHLEtBQUssQ0FBQztZQUM1QixJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxFQUFFO2dCQUNyQixvQ0FBb0M7YUFDckM7WUFDRCxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDMUQsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDO0lBRUQsTUFBTTtRQUNKLElBQUksQ0FBQyxjQUFjLENBQUMsS0FBSyxFQUFFLENBQUM7SUFDOUIsQ0FBQztJQUNELGFBQWE7SUFDYixnQ0FBZ0M7SUFDaEMsNEJBQTRCO0lBQzVCLG9DQUFvQztJQUNwQyxJQUFJO0lBQ0osVUFBVTtRQUNSLElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO1FBQ3pCLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLEtBQUssTUFBTSxFQUFFO1lBQ3JDLGtDQUFrQztZQUNsQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsS0FBVSxFQUFFLEVBQUU7Z0JBQy9FLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztnQkFDZCxJQUFJLElBQUksQ0FBQyxZQUFZLEVBQUUsUUFBUSxFQUFFLE1BQU0sRUFBRTtvQkFDdkMsSUFBSSxDQUFDLFlBQVksRUFBRSxRQUFRLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUU7d0JBQ3JDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLEtBQVUsRUFBRSxFQUFFLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO29CQUNyRixDQUFDLENBQUMsQ0FBQTtpQkFDSDtnQkFDRCxDQUFDLENBQUMsYUFBYSxDQUFDLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDO2dCQUMvQixJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUNyQixJQUFJLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyw0QkFBNEIsQ0FBQyxDQUFDO2dCQUN4RCxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7WUFDbEIsQ0FBQyxDQUFDLENBQUM7U0FDSjthQUFNO1lBQ0wsSUFBSSxDQUFDLGlCQUFpQixDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsS0FBVSxFQUFFLEVBQUU7Z0JBQ3JGLGtDQUFrQztnQkFDbEMsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO2dCQUNkLENBQUMsQ0FBQyxhQUFhLENBQUMsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUM7Z0JBQy9CLElBQUksQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLDBDQUEwQyxDQUFDLENBQUM7Z0JBQ3RFLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztZQUNsQixDQUFDLENBQUMsQ0FBQztTQUNKO0lBQ0gsQ0FBQztJQUVELGdCQUFnQjtRQUNkLDRCQUE0QjtRQUM1QixJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDO1FBQ3ZDLENBQUMsQ0FBQyxhQUFhLENBQUMsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDakMsQ0FBQztJQUVELG1CQUFtQixDQUFDLFNBQW9CO1FBQ3RDLE9BQU8sQ0FBQyxXQUE0QixFQUFFLEVBQUU7WUFDdEMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQUU7Z0JBQ3ZCLE9BQU8sSUFBSSxDQUFDO2FBQ2I7WUFDRCxJQUFJLFNBQVMsRUFBRSxFQUFFO2dCQUNmLE9BQU8sVUFBVSxDQUFDLFFBQVEsQ0FBQyxXQUFXLENBQUMsQ0FBQzthQUN6QztZQUNELE9BQU8sSUFBSSxDQUFDO1FBQ2QsQ0FBQyxDQUFDO0lBQ0osQ0FBQztJQUVELGVBQWUsQ0FBQyxTQUFjO1FBQzVCLE1BQU0sTUFBTSxHQUFHLFNBQVMsQ0FBQyxNQUEwQixDQUFDO1FBQ3BELE1BQU0sSUFBSSxHQUFTLE1BQU0sQ0FBQyxLQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDcEMsSUFBSSxDQUFDLFlBQVksR0FBRyxTQUFTLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7UUFDbkQsSUFBSSxDQUFDLFNBQVMsR0FBRztZQUNmLFdBQVcsRUFBRSxTQUFTLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJO1lBQzNDLFFBQVEsRUFBRSxnQkFBZ0IsSUFBSSxDQUFDLFlBQVksRUFBRTtTQUM5QyxDQUFDO1FBQ0YsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQyxZQUFZLENBQUM7UUFDMUMsSUFBSSxJQUFJLENBQUMsYUFBYSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEVBQUU7WUFDOUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsU0FBUyxDQUN4RCxDQUFDLEdBQVEsRUFBRSxFQUFFO2dCQUNYLElBQUksQ0FBQyxPQUFPLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQztnQkFDeEIsTUFBTSxnQkFBZ0IsR0FBUSxRQUFRLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQyxDQUFDO2dCQUM5RCxNQUFNLHVCQUF1QixHQUFHLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDMUQsSUFBSSxDQUFDLFdBQVcsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSx1QkFBdUIsRUFBRSx1QkFBdUIsQ0FBQyxJQUFJLENBQUMsQ0FBQyxTQUFTLENBQ3ZHLENBQUMsS0FBVSxFQUFFLEVBQUU7b0JBQ2IsSUFBSSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsd0JBQXdCLENBQUMsQ0FBQztvQkFDcEQsTUFBTSxNQUFNLEdBQUcsSUFBSSxVQUFVLEVBQUUsQ0FBQztvQkFDaEMsTUFBTSxDQUFDLE1BQU0sR0FBRyxHQUFHLEVBQUU7d0JBQ25CLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsc0JBQXNCLENBQUMsTUFBTSxDQUFDLE1BQWdCLENBQUMsQ0FBQzt3QkFDN0UsSUFBSSxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsRUFBRSxTQUFTLEVBQUUsS0FBZSxFQUFFLENBQUMsQ0FBQztvQkFDM0QsQ0FBQyxDQUFDO29CQUNGLE1BQU0sQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLENBQUM7b0JBQzNCLElBQUksQ0FBQyxVQUFVLEdBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO2dCQUNuRCxDQUFDLEVBQ0QsQ0FBQyxLQUFVLEVBQUUsRUFBRTtvQkFDYixJQUFJLEtBQUssQ0FBQyxNQUFNLElBQUksQ0FBQyxFQUFFO3dCQUNyQixJQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQywyQkFBMkIsQ0FBQyxDQUFDO3dCQUNyRCxJQUFJLENBQUMsWUFBWSxHQUFHLEVBQUUsQ0FBQzt3QkFDdkIsSUFBSSxDQUFDLE9BQU8sR0FBRyxFQUFFLENBQUM7cUJBQ25CO2dCQUNILENBQUMsQ0FDRixDQUFDO1lBQ0osQ0FBQyxFQUNELENBQUMsTUFBVyxFQUFFLEVBQUU7Z0JBQ2QsSUFBSSxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsMkJBQTJCLENBQUMsQ0FBQztZQUN2RCxDQUFDLENBQ0YsQ0FBQztTQUNIO0lBQ0gsQ0FBQztJQUVELGFBQWEsQ0FBQyxJQUFTO1FBQ3JCLE1BQU0sUUFBUSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDO1FBQzdDLE1BQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUNwRCxJQUNFLFFBQVEsS0FBSyxLQUFLO1lBQ2xCLFFBQVEsS0FBSyxNQUFNO1lBQ25CLFFBQVEsS0FBSyxLQUFLO1lBQ2xCLFFBQVEsS0FBSyxLQUFLO1lBQ2xCLFFBQVEsS0FBSyxTQUFTLEVBQ3RCO1lBQ0EsSUFBSSxRQUFRLEdBQUcsRUFBRSxFQUFFO2dCQUNqQixPQUFPLElBQUksQ0FBQzthQUNiO2lCQUFNO2dCQUNMLElBQUksQ0FBQyxnQkFBZ0IsR0FBRywwQkFBMEIsQ0FBQztnQkFDbkQsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsMkJBQTJCLENBQUMsQ0FBQztnQkFDcEQsT0FBTyxLQUFLLENBQUM7YUFDZDtTQUNGO2FBQU07WUFDTCxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsRUFBRSxDQUFDO1lBQzNCLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLEdBQUcsUUFBUSwwQkFBMEIsQ0FBQyxDQUFDO1lBQzlELE9BQU8sS0FBSyxDQUFDO1NBQ2Q7SUFDSCxDQUFDO0lBQ0Qsb0JBQW9CLENBQUMsS0FBWTtRQUMvQixNQUFNLEtBQUssR0FBSSxLQUFLLENBQUMsTUFBMkIsQ0FBQyxLQUFLLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDckUsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQU0sRUFBRSxFQUFFLENBQ2pELENBQUMsRUFBRSxJQUFJLEVBQUUsV0FBVyxFQUFFLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUN6QyxDQUFDO0lBQ0osQ0FBQztJQUVELGVBQWUsQ0FBQyxLQUFvQixFQUFFLElBQVk7UUFDaEQsTUFBTSxLQUFLLEdBQUcsS0FBSyxDQUFDLE1BQTBCLENBQUM7UUFDL0MsTUFBTSxhQUFhLEdBQUcsS0FBSyxDQUFDLGNBQWMsQ0FBQztRQUMzQyxNQUFNLFdBQVcsR0FBRyxLQUFLLENBQUMsWUFBWSxDQUFDO1FBQ3ZDLE1BQU0sZUFBZSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ2hELElBQUksZUFBZSxDQUFDLEtBQUssRUFBRTtZQUN6QixNQUFNLFFBQVEsR0FBRyxlQUFlLENBQUMsS0FBSztpQkFDbkMsS0FBSyxDQUFDLEdBQUcsQ0FBQztpQkFDVixHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLFdBQVcsRUFBRSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7aUJBQ3pELElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNiLGVBQWUsQ0FBQyxVQUFVLENBQUMsUUFBUSxFQUFFLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBRSxDQUFDLENBQUM7WUFDM0QsMEJBQTBCO1lBQzFCLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxhQUFhLEVBQUUsV0FBVyxDQUFDLENBQUM7U0FDckQ7SUFDSCxDQUFDO0lBQ0QsWUFBWSxDQUFDLElBQWMsRUFBRSxNQUFjO1FBQ3pDLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLEVBQUUsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLFdBQVcsRUFBRSxDQUFDLEVBQUU7WUFDM0QsT0FBTyxJQUFJLENBQUM7U0FDYjtRQUVELElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRTtZQUNqQixLQUFLLE1BQU0sS0FBSyxJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUU7Z0JBQ2pDLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLEVBQUU7b0JBQ3BDLE9BQU8sSUFBSSxDQUFDO2lCQUNiO2FBQ0Y7U0FDRjtRQUVELE9BQU8sS0FBSyxDQUFDO0lBQ2YsQ0FBQztJQUVELFVBQVUsQ0FBQyxLQUFVO1FBQ25CLE1BQU0sV0FBVyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQ3JELE1BQU0sWUFBWSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLEVBQUUsV0FBVyxDQUFDLENBQUMsQ0FBQztRQUN4RixJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsR0FBRyxZQUFZLENBQUMsQ0FBQztJQUNwQyxDQUFDO3dHQS94QlUsb0JBQW9COzRGQUFwQixvQkFBb0IsbURDcEJqQywrMWhCQWlTQTs7NEZEN1FhLG9CQUFvQjtrQkFMaEMsU0FBUzsrQkFDRSxhQUFhIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBJbmplY3RvciwgSW5wdXQsIE9uSW5pdCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBBYnN0cmFjdENvbnRyb2wsIEZvcm1CdWlsZGVyLCBGb3JtQ29udHJvbCwgRm9ybUdyb3VwLCBWYWxpZGF0b3JzIH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xyXG5pbXBvcnQgeyBEb21TYW5pdGl6ZXIgfSBmcm9tICdAYW5ndWxhci9wbGF0Zm9ybS1icm93c2VyJztcclxuaW1wb3J0IHsgQ29uZmlybWF0aW9uU2VydmljZSwgTWVudUl0ZW0sIFByaW1lSWNvbnMsIFRyZWVOb2RlIH0gZnJvbSAncHJpbWVuZy9hcGknO1xyXG5pbXBvcnQgeyBBbGVydFNlcnZpY2UgfSBmcm9tICcuLi9AY29yZS9zZXJ2aWNlL2FsZXJ0LnNlcnZpY2UnO1xyXG4vLyBpbXBvcnQgeyBIdHRwU2VydmljZSB9IGZyb20gJy4uL0Bjb3JlL3NlcnZpY2UvaHR0cC5zZXJ2aWNlJztcclxuaW1wb3J0IHsgUmJhY1NlcnZpY2UgfSBmcm9tICcuLi9AY29yZS9zZXJ2aWNlL3JiYWMuc2VydmljZSc7XHJcbmltcG9ydCB7IFNoYXJlRGF0YVNlcnZpY2UgfSBmcm9tICcuLi9AY29yZS9zZXJ2aWNlL3NoYXJlLWRhdGEuc2VydmljZSc7XHJcbmltcG9ydCB7IFJCQUNJTkZPIH0gZnJvbSAnLi4vQGNvcmUvdXJscy9yYmFjLXVybC5jb25maWcnO1xyXG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcclxuaW1wb3J0IHsgRGF0YVN0b3JlU2VydmljZSB9IGZyb20gJy4uL0Bjb3JlL3NlcnZpY2UvZGF0YS1zdG9yZS5zZXJ2aWNlJztcclxuaW1wb3J0IHsgQXBwQ29uc3RhbnRzIH0gZnJvbSAnLi4vQGNvcmUvY29uc3RhbnRzL2FwcC1jb25zdGFudHMnO1xyXG5pbXBvcnQgeyBkZWJvdW5jZVRpbWUsIGRpc3RpbmN0VW50aWxDaGFuZ2VkLCBtYXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XHJcblxyXG5kZWNsYXJlIGNvbnN0ICQ6IGFueTtcclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6ICdwZXJtaXNzaW9ucycsXHJcbiAgdGVtcGxhdGVVcmw6ICcuL3Blcm1pc3Npb25zLmNvbXBvbmVudC5odG1sJyxcclxuICBzdHlsZVVybHM6IFsnLi9wZXJtaXNzaW9ucy5jb21wb25lbnQuc2NzcyddXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBQZXJtaXNzaW9uc0NvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XHJcbiAgcGFnZXMhOiBUcmVlTm9kZVtdO1xyXG4gIG1lbnVJdGVtczogTWVudUl0ZW1bXSA9IFtdO1xyXG4gIGZpbHRlcmVkUGVybWlzc2lvbkxpc3Q6IGFueVtdID0gW107XHJcbiAgcGFnZUZvcm0hOiBGb3JtR3JvdXA7XHJcbiAgcGVybWlzc2lvbkZvcm0hOiBGb3JtR3JvdXA7XHJcbiAgcGVybWlzc2lvbnMhOiBhbnlbXTtcclxuICBwZXJtaXNzaW9uVHlwZXMhOiBhbnlbXTtcclxuICBub2RlVHlwZTogc3RyaW5nO1xyXG4gIHNhdmVNb2RlOiBzdHJpbmc7XHJcbiAgc2VsZWN0ZWRJdGVtOiBhbnkgPSB7fTtcclxuICBpbWFnZUluZm9ybWF0aW9uOiBhbnk7XHJcbiAgZGVsZXRlZElkOiBudW1iZXI7XHJcbiAgdXJsUGF0aDogYW55O1xyXG4gIHVwbG9hZGVkRmlsZTogYW55O1xyXG4gIGF0dGFjaFR5cGU6IGFueTtcclxuICBpbWFnZURhdGEhOiB7IGNvbnRlbnRUeXBlOiBhbnk7IGZpbGVOYW1lOiBhbnk7IH07XHJcbiAgYXR0YWNobWVudFNlcnZpY2U6IGFueTtcclxuICBzYW5pdGl6ZXI6IERvbVNhbml0aXplcjtcclxuICBwYWdlQWNjZXNzU2VydmljZTogYW55O1xyXG4gIHBhZ2VzTGlzdDogYW55O1xyXG4gIFJCQUNPUkc6IFJCQUNJTkZPID0gbmV3IFJCQUNJTkZPKCk7XHJcbiAgb3JnU3VicyE6IFN1YnNjcmlwdGlvbjtcclxuICBvcmdJZDogYW55O1xyXG4gIHBvc2l0aW9uOiBzdHJpbmcgPSAndG9wJztcclxuICBzaG93TGlua1BhZ2UhOiBib29sZWFuO1xyXG4gIGVudmlyb25tZW50OiBhbnk7XHJcbiAgZHVwbGljYXRlcGFnZXM6IGFueVtdID0gW107XHJcbiAgaHR0cFNlcnZpY2U6IGFueTtcclxuICBpY29uTGlzdDogYW55O1xyXG4gIHNlbGVjdGVkSWNvbkxhYmVsOiBhbnk7XHJcbiAgZHVibGljYXRlSWNvbkxpc3Q6IGFueVtdID0gW107XHJcbiAgdHJlZURhdGE6IGFueVtdID0gW107XHJcbiAgc2VhcmNoOiBGb3JtQ29udHJvbDtcclxuICBzZWxlY3RlZE1lbnVUeXBlOiBhbnk7XHJcbiAgc2hvd0RlbGV0ZUJ0bjogYm9vbGVhbiA9IGZhbHNlO1xyXG4gIHBsYXRmb3JtUGFnZXNMaXN0OiBhbnk7XHJcbiAgcGFnZXR5cGU6IHsgbmFtZTogc3RyaW5nOyB2YWx1ZTogc3RyaW5nOyB9W107XHJcbiAgbWVudXR5cGU6IHsgbmFtZTogc3RyaW5nOyB2YWx1ZTogc3RyaW5nOyB9W107XHJcbiAgaGlkZVBhZ2U6IGJvb2xlYW4gPSB0cnVlO1xyXG4gIGZvcm1TdWJtaXQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuICBmaWx0ZXJlZFBhcmVudFBhZ2VzOiBUcmVlTm9kZTxhbnk+W107XHJcbiAgZHVwbGljYXRlRHluYW1pY1BhZ2VzTGlzdDogYW55O1xyXG4gIGR1cGxpY2F0ZVBsYXRmb3JtUGFnZXNMaXN0OiBhbnk7XHJcbiAgc2VsZWN0ZWRQYWdlUGVybWlzc2lvbjogYW55O1xyXG4gIGV2ZW50Tm9kZTogYW55ID0gJyc7XHJcbiAgc2VsZWN0ZWRQYWdlVHlwZTogYW55ID0gJyc7XHJcbiAgdmFsaWRhdGlvbkVycm9yczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSA9IHt9O1xyXG4gIGlucHV0VmFsaWRhdGlvbk1ldGhvZDogYW55O1xyXG4gIGVuYWJsZUJ1dHRvbjogYm9vbGVhbjtcclxuXHJcbiAgXHJcblxyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgaW5qZWN0b3I6IEluamVjdG9yLFxyXG4gICAgcHJpdmF0ZSBwZXJtaXNzaW9uU2VydmljZTogUmJhY1NlcnZpY2UsXHJcbiAgICBwcml2YXRlIGZvcm1CdWlsZGVyOiBGb3JtQnVpbGRlcixcclxuICAgIHByaXZhdGUgYWxlcnRTZXJ2aWNlOiBBbGVydFNlcnZpY2UsXHJcbiAgICBwcml2YXRlIGNvbmZpcm1hdGlvblNlcnZpY2U6IENvbmZpcm1hdGlvblNlcnZpY2UsXHJcbiAgICAvLyBwcml2YXRlIGh0dHBTZXJ2aWNlOiBIdHRwU2VydmljZSxcclxuICAgIHByaXZhdGUgX3NoYXJlRGF0YTogU2hhcmVEYXRhU2VydmljZSxcclxuICAgIHByaXZhdGUgX3N0b3Jlc2VydmljZTogRGF0YVN0b3JlU2VydmljZVxyXG4gICkge1xyXG4gICAgdGhpcy5ub2RlVHlwZSA9ICdwYWdlJztcclxuICAgIHRoaXMuc2F2ZU1vZGUgPSAnSU5TRVJUJztcclxuICAgIHRoaXMuc2FuaXRpemVyID0gaW5qZWN0b3IuZ2V0PERvbVNhbml0aXplcj4oRG9tU2FuaXRpemVyKTtcclxuICAgIHRoaXMuaW5pdGlhbGl6ZVBhZ2VGb3JtKCk7XHJcbiAgICB0aGlzLmluaXRpYWxpemVQZXJtaXNzaW9uRm9ybSgpO1xyXG4gICAgY29uc3QgaWNvbkFycmF5ID0gQXBwQ29uc3RhbnRzLmljb25MaXN0O1xyXG4gICAgdGhpcy5pY29uTGlzdCA9IGljb25BcnJheS5zb3J0KChhLCBiKSA9PiBhLmxhYmVsLmxvY2FsZUNvbXBhcmUoYi5sYWJlbCkpO1xyXG4gICAgdGhpcy5kdWJsaWNhdGVJY29uTGlzdCA9IHRoaXMuaWNvbkxpc3Q7XHJcbiAgfVxyXG5cclxuICBuZ09uSW5pdCgpOiB2b2lkIHtcclxuICAgIHRoaXMub3JnU3VicyA9IHRoaXMuX3N0b3Jlc2VydmljZS5jdXJyZW50U3RvcmUuc3Vic2NyaWJlKChyZXM6IGFueSkgPT4ge1xyXG4gICAgICB0aGlzLmlucHV0VmFsaWRhdGlvbk1ldGhvZCA9IHJlc1snSU5QVVRWQUxJREFUSU9OTUVUSE9EJ11cclxuICAgICAgaWYgKHJlc1snUkJBQ09SRyddICYmIHJlc1snUkJBQ09SRyddICE9PSAnJykge1xyXG4gICAgICAgIHRoaXMuUkJBQ09SRyA9IHJlc1snUkJBQ09SRyddO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMuUkJBQ09SRywgJ1JCQUNPUkcgUGVybWlzc29uJyk7XHJcbiAgICAgICAgdGhpcy5lbnZpcm9ubWVudCA9IHRoaXMuUkJBQ09SR1snZW52aXJvbm1lbnQnXTtcclxuICAgICAgICB0aGlzLm9yZ0lkID0gcGFyc2VJbnQodGhpcy5SQkFDT1JHWydvcmdJRCddKTtcclxuICAgICAgICB0aGlzLmh0dHBTZXJ2aWNlID0gcmVzWydIVFRQU0VSVklDRSddXHJcbiAgICAgICAgaWYgKHRoaXMub3JnSWQpIHtcclxuICAgICAgICAgIHRoaXMuc2V0UGFnZXNMaXN0KCk7XHJcbiAgICAgICAgICB0aGlzLnNldE1lbnVUeXBlKCk7XHJcbiAgICAgICAgICB0aGlzLnNldFBsYXRmb3JtUGFnZUxpc3QoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuZW52aXJvbm1lbnQpIHtcclxuICAgICAgICAgIHRoaXMubG9hZEluaXRpYWwoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgdGhpcy5zZWFyY2ggPSBuZXcgRm9ybUNvbnRyb2woKTsgICAgXHJcbiAgICB0aGlzLnBhZ2VGb3JtLnZhbHVlQ2hhbmdlcy5zdWJzY3JpYmUoKCkgPT4ge1xyXG4gICAgICB0aGlzLmVuYWJsZUJ1dHRvbiA9IHRoaXMuaXNBbnlGb3JtQ29udHJvbFdpdGhWYWx1ZSgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIGlzQW55Rm9ybUNvbnRyb2xXaXRoVmFsdWUoKTogYm9vbGVhbiB7XHJcbiAgICBjb25zdCBmb3JtVmFsdWUgPSB0aGlzLnBhZ2VGb3JtLnZhbHVlO1xyXG4gICAgY29uc3QgYXZvaWRQcm9wZXJ0aWVzID0gWydpZCcsICdpc21lbnUnLCAnb3JkZXInLCAncGFnZVR5cGVNZW51JywgJ2FwcGxpY2F0aW9uaWQnXTtcclxuXHJcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBmb3JtVmFsdWUpIHtcclxuICAgICAgaWYgKGZvcm1WYWx1ZS5oYXNPd25Qcm9wZXJ0eShrZXkpICYmICFhdm9pZFByb3BlcnRpZXMuaW5jbHVkZXMoa2V5KSAmJiBmb3JtVmFsdWVba2V5XSkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBuZ09uRGVzdHJveSgpOiB2b2lkIHtcclxuICAgIHRoaXMub3JnU3Vicy51bnN1YnNjcmliZSgpO1xyXG4gIH1cclxuICBsb2FkSW5pdGlhbCgpIHtcclxuICAgIHRoaXMubG9hZFRyZWUoKTtcclxuICAgIHRoaXMubG9hZENvbnRleHRNZW51KCk7XHJcbiAgICB0aGlzLnBlcm1pc3Npb25TZXJ2aWNlLmdldFBlcm1pc3Npb25zVHJlZSh0aGlzLmVudmlyb25tZW50LmFwcGxpY2F0aW9uaWQpLnN1YnNjcmliZSgoaXRlbXM6IGFueSkgPT4ge1xyXG4gICAgICB0aGlzLnBlcm1pc3Npb25zID0gaXRlbXMuZGF0YTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMucGVybWlzc2lvblNlcnZpY2UuZ2V0UGVybWlzc2lvblR5cGVzKHRoaXMuZW52aXJvbm1lbnQuYXBwbGljYXRpb25pZCkuc3Vic2NyaWJlKChpdGVtczogYW55KSA9PiB7XHJcbiAgICAgIHRoaXMucGVybWlzc2lvblR5cGVzID0gaXRlbXMuZGF0YTtcclxuICAgIH0pO1xyXG4gIH1cclxuICBpbml0aWFsaXplUGFnZUZvcm0oKSB7XHJcbiAgICB0aGlzLnBhZ2VGb3JtID0gdGhpcy5mb3JtQnVpbGRlci5ncm91cCh7XHJcbiAgICAgIGlkOiBbMF0sXHJcbiAgICAgIHBhcmVudGlkOiBbbnVsbF0sXHJcbiAgICAgIGFwcGxpY2F0aW9uaWQ6IFt0aGlzLmVudmlyb25tZW50ID8gdGhpcy5lbnZpcm9ubWVudFsnYXBwbGljYXRpb25pZCddIDogJyddLFxyXG4gICAgICBuYW1lOiBbJycsIFZhbGlkYXRvcnMucmVxdWlyZWRdLFxyXG4gICAgICByb3V0ZTogWycnLCBWYWxpZGF0b3JzLnJlcXVpcmVkXSxcclxuICAgICAgb3JkZXI6IFswXSxcclxuICAgICAgaXNtZW51OiBbdHJ1ZV0sXHJcbiAgICAgIHRodW1ibmFpbDogWycnXSxcclxuICAgICAgaWNvbjogW251bGwsIFZhbGlkYXRvcnMucmVxdWlyZWRdLFxyXG4gICAgICBwYWdlVHlwZU1lbnU6IFsncGxhdGZvcm0nXSxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgaW5pdGlhbGl6ZVBlcm1pc3Npb25Gb3JtKCkge1xyXG4gICAgdGhpcy5wZXJtaXNzaW9uRm9ybSA9IHRoaXMuZm9ybUJ1aWxkZXIuZ3JvdXAoe1xyXG4gICAgICBpZDogWzBdLFxyXG4gICAgICBwYXJlbnRpZDogW251bGxdLFxyXG4gICAgICBwYWdlaWQ6IFswXSxcclxuICAgICAgcGVybWlzc2lvbnR5cGVpZDogWycnLCBWYWxpZGF0b3JzLnJlcXVpcmVkXSxcclxuICAgICAga2V5OiBbJycsIFZhbGlkYXRvcnMucmVxdWlyZWRdLFxyXG4gICAgICBkZXNjcmlwdGlvbjogWycnLCBWYWxpZGF0b3JzLnJlcXVpcmVkXSxcclxuICAgICAgb3JkZXI6IFswXVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBidWlsZFRyZWUocGFnZXM6IGFueVtdLCBwYXJlbnRpZDogYW55LCBpc1NlYXJjaDogYm9vbGVhbik6IGFueVtdIHtcclxuICAgIGNvbnN0IHRyZWU6IGFueVtdID0gW107XHJcblxyXG4gICAgcGFnZXNcclxuICAgICAgLmZpbHRlcihwYWdlID0+IHBhZ2UucGFyZW50aWQgPT09IHBhcmVudGlkKVxyXG4gICAgICAuZm9yRWFjaChwYWdlID0+IHtcclxuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IHRoaXMuYnVpbGRUcmVlKHBhZ2VzLCBwYWdlLmlkLCBpc1NlYXJjaCk7XHJcblxyXG4gICAgICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICBwYWdlLmNoaWxkcmVuID0gY2hpbGRyZW47XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHBhZ2UuY2hpbGRyZW4gPSBbXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGZpbHRlcmVkUGFnZSA9IHBhZ2U7XHJcbiAgICAgICAgaWYgKGlzU2VhcmNoICYmIHBhZ2UuY2hpbGRyZW4ubGVuZ3RoKSB7XHJcbiAgICAgICAgICBjb25zdCB1bmlxdWVBcnJheSA9IHBhZ2UuY2hpbGRyZW4uZmlsdGVyKChvYmosIGluZGV4LCBzZWxmKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBpbmRleCA9PT0gc2VsZi5maW5kSW5kZXgoKGlubmVyT2JqKSA9PiBpbm5lck9iai5pZCA9PT0gb2JqLmlkKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgZmlsdGVyZWRQYWdlID0ge1xyXG4gICAgICAgICAgICAuLi5maWx0ZXJlZFBhZ2UsXHJcbiAgICAgICAgICAgIGNoaWxkcmVuOiB1bmlxdWVBcnJheVxyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdHJlZS5wdXNoKGZpbHRlcmVkUGFnZSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB0cmVlO1xyXG4gIH1cclxuXHJcbiAgb25JbnB1dChldmVudDogRXZlbnQsIGZpZWxkdHlwZTogYW55LCBsYWJlbDogYW55LCByZXF1aXJlZDogYm9vbGVhbikge1xyXG4gICAgY29uc3QgZXJyb3IgPSB0aGlzLmlucHV0VmFsaWRhdGlvbk1ldGhvZChldmVudCwgZmllbGR0eXBlLCBsYWJlbCwgcmVxdWlyZWQpO1xyXG4gICAgaWYgKGVycm9yICYmIHR5cGVvZiBlcnJvciA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgdGhpcy52YWxpZGF0aW9uRXJyb3JzW2xhYmVsXSA9IGVycm9yO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZGVsZXRlIHRoaXMudmFsaWRhdGlvbkVycm9yc1tsYWJlbF07XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjbGVhcnNlYXJjaCgpIHtcclxuICAgIGNvbnN0IGlucHV0U2VhcmNoID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvcm0tZ3JvdXAuYmdpY29uc2VhcmNoLmQtZmxleCAucC1pbnB1dC1pY29uLXJpZ2h0LnctMTAwIGlucHV0Jyk7XHJcbiAgICBpZiAoaW5wdXRTZWFyY2ggaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50KSB7XHJcbiAgICAgIGlucHV0U2VhcmNoLnZhbHVlID0gJyc7XHJcbiAgICB9XHJcbiAgICB0aGlzLmxvYWRUcmVlKCk7XHJcbiAgfVxyXG5cclxuICBvbk5vZGVDb250ZXh0TWVudVNlbGVjdChfZXZlbnQ6IGFueSkge1xyXG4gICAgY29uc29sZS5sb2coKTtcclxuICB9XHJcblxyXG4gIG5vZGVTZWxlY3QoZXZlbnQ6IGFueSwgaXNGcm9tTm9kZTogYW55KSB7XHJcbiAgICB0aGlzLnZhbGlkYXRpb25FcnJvcnMgPSB7fTtcclxuICAgIHRoaXMuZm9ybVN1Ym1pdCA9IGZhbHNlO1xyXG4gICAgdGhpcy5ldmVudE5vZGUgPSBldmVudC5ub2RlID8gZXZlbnQubm9kZSA6ICcnO1xyXG4gICAgdGhpcy5zZWxlY3RlZFBhZ2VUeXBlID0gJyc7XHJcbiAgICBpZiAoaXNGcm9tTm9kZSAmJiB0aGlzLmV2ZW50Tm9kZSkge1xyXG4gICAgICB0aGlzLnNhdmVNb2RlID0gJ1VQREFURSc7XHJcbiAgICB9IGVsc2UgaWYgKCFpc0Zyb21Ob2RlICYmIHRoaXMuZXZlbnROb2RlKSB7XHJcbiAgICAgIHRoaXMuc2F2ZU1vZGUgPSAnVVBEQVRFJztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuc2F2ZU1vZGUgPSAnSU5TRVJUJztcclxuICAgIH1cclxuICAgIHRoaXMucGFnZXMgPSB0aGlzLmZpbHRlcmVkUGFyZW50UGFnZXM7XHJcbiAgICB0aGlzLmR1cGxpY2F0ZVBsYXRmb3JtUGFnZXNMaXN0ID0gdGhpcy5wbGF0Zm9ybVBhZ2VzTGlzdDtcclxuICAgIHRoaXMuZHVwbGljYXRlRHluYW1pY1BhZ2VzTGlzdCA9IHRoaXMucGFnZXNMaXN0O1xyXG4gICAgaWYgKHRoaXMuZXZlbnROb2RlKSB7XHJcbiAgICAgIHRoaXMuc2hvd0RlbGV0ZUJ0biA9IHRydWU7XHJcbiAgICAgIHRoaXMuc2hvd0xpbmtQYWdlID0gZmFsc2U7XHJcbiAgICAgIHRoaXMubm9kZVR5cGUgPSBldmVudC5ub2RlLnR5cGU7XHJcbiAgICAgIHRoaXMucGFnZXMgPSB0aGlzLnBhZ2VzLmZpbHRlcihwID0+IHBbJ3BhcmVudGlkJ10gIT09IGV2ZW50Lm5vZGUuaWQpO1xyXG4gICAgICB0aGlzLnNlbGVjdGVkUGFnZVBlcm1pc3Npb24gPSB0aGlzLnBlcm1pc3Npb25zLmZpbHRlcigocCkgPT4gcC5wYWdlaWQgPT09IGV2ZW50Lm5vZGUuaWQpO1xyXG4gICAgICBpZiAoZXZlbnQubm9kZS50eXBlID09PSAncGVybWlzc2lvbicpIHtcclxuICAgICAgICB0aGlzLnBlcm1pc3Npb25Gb3JtLnJlc2V0KCk7XHJcbiAgICAgICAgdGhpcy5wZXJtaXNzaW9uRm9ybS5wYXRjaFZhbHVlKGV2ZW50Lm5vZGUpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMucGFnZUZvcm0ucmVzZXQoKTtcclxuICAgICAgICB0aGlzLnBhZ2VGb3JtLnBhdGNoVmFsdWUoZXZlbnQubm9kZSk7XHJcbiAgICAgICAgdGhpcy5wYWdlRm9ybS5wYXRjaFZhbHVlXHJcbiAgICAgICAgY29uc3QgaWNvblZhbCA9IGV2ZW50Lm5vZGU/LmFkZGl0aW9uYWxpbmZvPy5pY29uID8gZXZlbnQubm9kZT8uYWRkaXRpb25hbGluZm8/Lmljb24udG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9bQS1aXS9nLCAoY2hhcikgPT4gY2hhci50b0xvd2VyQ2FzZSgpKSA6ICcnO1xyXG4gICAgICAgIHRoaXMuZ2V0U2VsZWN0ZWRMYWJlbChpY29uVmFsKTtcclxuICAgICAgICB0aGlzLnBhZ2VGb3JtLnBhdGNoVmFsdWUoe1xyXG4gICAgICAgICAgaWNvbjogaWNvblZhbFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMucGFnZUZvcm0ucGF0Y2hWYWx1ZSh7XHJcbiAgICAgICAgICBwYWdlVHlwZU1lbnU6ICdwbGF0Zm9ybSdcclxuICAgICAgICB9KVxyXG4gICAgICAgIHRoaXMuZXZlbnROb2RlW1wic2VsZWN0ZWRwYWdlbWVudXR5cGVcIl0gPSAncGxhdGZvcm0nXHJcbiAgICAgICAgaWYgKGV2ZW50Lm5vZGUucm91dGUuaW5jbHVkZXMoJy9wYWdlcy9keW5hbWljLXNlYXJjaC9zZWFyY2gnKSkge1xyXG4gICAgICAgICAgdGhpcy5zaG93TGlua1BhZ2UgPSB0cnVlO1xyXG4gICAgICAgICAgdGhpcy5wYWdlRm9ybS5wYXRjaFZhbHVlKHtcclxuICAgICAgICAgICAgcGFnZVR5cGVNZW51OiAnZHluYW1pYydcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICB0aGlzLnBhZ2VGb3JtLnBhdGNoVmFsdWUoe1xyXG4gICAgICAgICAgICByb3V0ZTogZXZlbnQubm9kZS5yb3V0ZS5zcGxpdCgnLycpWzRdXHJcbiAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgIHRoaXMuZXZlbnROb2RlW1wic2VsZWN0ZWRwYWdlbWVudXR5cGVcIl0gPSAnZHluYW1pYydcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5pbWFnZUluZm9ybWF0aW9uID0gZXZlbnQubm9kZS5hZGRpdGlvbmFsaW5mbz8udGh1bWJuYWlsPy5maWxlTmFtZT8uc3BsaXQoJy8nKVsxXSB8fCAnJztcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgb25Ob2RlRXhwYW5kQ2xpY2soZXZlbnQ6IGFueSwgbm9kZTogYW55KTogdm9pZCB7XHJcbiAgICBpZiAobm9kZS5tZW51dHlwZSAhPT0gJ3BhZ2UnKSB7XHJcbiAgICAgIC8vIEhhbmRsZSB0aGUgZXhwYW5zaW9uIGxvZ2ljIGhlcmVcclxuICAgICAgLy8gRm9yIGV4YW1wbGUsIHlvdSBtaWdodCB3YW50IHRvIHByZXZlbnQgZXhwYW5zaW9uIGZvciBjZXJ0YWluIGNvbmRpdGlvbnNcclxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG5vZGVFeHBhbmQoZXZlbnQ6IGFueSkge1xyXG4gICAgLy8gY29uc3QgcGFnZUlkID0gZXZlbnQubm9kZS50eXBlID09PSAncGVybWlzc2lvbicgPyBldmVudC5ub2RlLnBhZ2VpZCA6IGV2ZW50Lm5vZGUuZGF0YTtcclxuICAgIC8vIGNvbnN0IHBhcmVudElkID0gZXZlbnQubm9kZS50eXBlID09PSAncGVybWlzc2lvbicgPyBldmVudC5ub2RlLmRhdGEgOiAwO1xyXG4gICAgLy8gaWYgKGV2ZW50Lm5vZGUgJiYgZXZlbnQubm9kZS5kYXRhKSB7XHJcbiAgICAvLyAgIHRoaXMucGVybWlzc2lvblNlcnZpY2UuZ2V0UGVybWlzc2lvblRyZWUocGFnZUlkLCBwYXJlbnRJZCkuc3Vic2NyaWJlKChub2RlczogYW55KSA9PiB7XHJcbiAgICAvLyAgICAgZXZlbnQubm9kZS5jaGlsZHJlbiA9ICg8YW55Pm5vZGVzKS5kYXRhO1xyXG4gICAgLy8gICB9KTtcclxuICAgIC8vIH1cclxuICB9XHJcblxyXG4gIHNlYXJjaEljb25MaXN0KGV2ZW50OiBFdmVudCkge1xyXG4gICAgY29uc3QgdmFsdWUgPSAoZXZlbnQudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlLnRvTG93ZXJDYXNlKCk7XHJcbiAgICB0aGlzLmR1YmxpY2F0ZUljb25MaXN0ID0gdGhpcy5pY29uTGlzdC5maWx0ZXIoKGE6IGFueSkgPT4gYT8ubGFiZWw/LnRvTG93ZXJDYXNlKCkuc3RhcnRzV2l0aCh2YWx1ZSkpO1xyXG4gIH1cclxuXHJcbiAgcmVzZXRJY29uTGlzdCgpIHtcclxuICAgIHRoaXMuZHVibGljYXRlSWNvbkxpc3QgPSB0aGlzLmljb25MaXN0O1xyXG4gIH1cclxuXHJcbiAgc2VhcmNoRHluYW1pY1BhZ2VMaXN0KGV2ZW50OiBFdmVudCkge1xyXG4gICAgY29uc3QgdmFsdWUgPSAoZXZlbnQudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlLnRvTG93ZXJDYXNlKCk7XHJcbiAgICB0aGlzLmR1cGxpY2F0ZUR5bmFtaWNQYWdlc0xpc3QgPSB0aGlzLnBhZ2VzTGlzdC5maWx0ZXIoKGE6IGFueSkgPT4gYT8udmFsdWU/LnRvTG93ZXJDYXNlKCkuc3RhcnRzV2l0aCh2YWx1ZSkpO1xyXG4gIH1cclxuXHJcbiAgcmVzZXREeW5hbWljUGFnZUxpc3QoKSB7XHJcbiAgICB0aGlzLmR1cGxpY2F0ZUR5bmFtaWNQYWdlc0xpc3QgPSB0aGlzLnBhZ2VzTGlzdDtcclxuICB9XHJcbiAgcmVzZXRQYXJlbnRQYWdlTGlzdCgpIHtcclxuICAgIHRoaXMucGFnZXMgPSB0aGlzLmZpbHRlcmVkUGFyZW50UGFnZXM7XHJcbiAgfVxyXG5cclxuICBzZWFyY2hQbGF0Zm9ybVBhZ2VMaXN0KGV2ZW50OiBFdmVudCkge1xyXG4gICAgY29uc3QgdmFsdWUgPSAoZXZlbnQudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlLnRvTG93ZXJDYXNlKCk7XHJcbiAgICB0aGlzLmR1cGxpY2F0ZVBsYXRmb3JtUGFnZXNMaXN0ID0gdGhpcy5wbGF0Zm9ybVBhZ2VzTGlzdC5maWx0ZXIoKGE6IGFueSkgPT4gYT8ucGFnZW5hbWU/LnRvTG93ZXJDYXNlKCkuc3RhcnRzV2l0aCh2YWx1ZSkpO1xyXG4gIH1cclxuXHJcbiAgcmVzZXRQbGF0Zm9ybVBhZ2VMaXN0KCkge1xyXG4gICAgdGhpcy5kdXBsaWNhdGVQbGF0Zm9ybVBhZ2VzTGlzdCA9IHRoaXMucGxhdGZvcm1QYWdlc0xpc3Q7XHJcbiAgfVxyXG5cclxuICBnZXRTZWxlY3RlZExhYmVsKHZhbCkge1xyXG4gICAgdGhpcy5kdWJsaWNhdGVJY29uTGlzdCA9IHRoaXMuaWNvbkxpc3Q7XHJcbiAgICBjb25zdCBmaWx0ZXJlZEljb24gPSB0aGlzLmljb25MaXN0LmZpbHRlcigoaSkgPT4gaS52YWx1ZSA9PT0gdmFsKTtcclxuICAgIHRoaXMuc2VsZWN0ZWRJY29uTGFiZWwgPSBmaWx0ZXJlZEljb25bMF0/LmxhYmVsO1xyXG4gIH1cclxuXHJcbiAgc2F2ZVBhZ2UoKSB7XHJcbiAgICBjb25zdCBwYWdlID0gdGhpcy5wYWdlRm9ybS52YWx1ZTtcclxuICAgIHBhZ2UuYXBwbGljYXRpb25pZCA9IHRoaXMuZW52aXJvbm1lbnQuYXBwbGljYXRpb25pZDtcclxuICAgIHBhZ2UuYWRkaXRpb25hbGluZm8gPSB7XHJcbiAgICAgIGljb246IHBhZ2UuaWNvblxyXG4gICAgfTtcclxuICAgIHRoaXMuZm9ybVN1Ym1pdCA9IHRydWU7XHJcbiAgICBpZiAodGhpcy5zaG93TGlua1BhZ2UpIHtcclxuICAgICAgcGFnZS5yb3V0ZSA9IGAvcGFnZXMvJHtwYWdlLnJvdXRlfWA7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5wYWdlRm9ybS52YWxpZCkge1xyXG4gICAgICBwYWdlLm9yZGVyID0gcGFnZS5vcmRlciA/IE51bWJlcihwYWdlLm9yZGVyKSA6IDE7XHJcbiAgICAgIGlmICh0aGlzLnNhdmVNb2RlID09PSAnSU5TRVJUJykge1xyXG4gICAgICAgIHRoaXMucGVybWlzc2lvblNlcnZpY2UuY3JlYXRlUGFnZShwYWdlKS5zdWJzY3JpYmUoKHJlczogYW55KSA9PiB7XHJcbiAgICAgICAgICAvLyBpZiAodGhpcy5zaG93TGlua1BhZ2UpIHtcclxuICAgICAgICAgIHBhZ2UuaWQgPSByZXNbJ2RhdGEnXTtcclxuICAgICAgICAgIHRoaXMuc2F2ZVBlcm1pc3Npb24ocGFnZSk7XHJcbiAgICAgICAgICB0aGlzLmV2ZW50Tm9kZSA9ICcnO1xyXG4gICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgdGhpcy5hbGVydFNlcnZpY2Uuc3VjY2VzcygnTWVudSBjcmVhdGVkIHN1Y2Nlc3NmdWxseS4nKTtcclxuICAgICAgICAgIHRoaXMubG9hZFRyZWUoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgICAgKGVycm9yOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgaWYgKGVycm9yICYmIGVycm9yPy5lcnJvcj8ubWVzc2FnZS5pbmNsdWRlcygnYWxyZWFkeSBleGlzdHMnKSkge1xyXG4gICAgICAgICAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLmVycm9yKGBNZW51ICcke3BhZ2U/Lm5hbWV9JyBhbHJlYWR5IGV4aXN0cy5gKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS5lcnJvcihBcHBDb25zdGFudHMuZXJyb3JNZXNzYWdlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5wZXJtaXNzaW9uU2VydmljZS51cGRhdGVQYWdlKHBhZ2UpLnN1YnNjcmliZSgoKSA9PiB7XHJcbiAgICAgICAgICBsZXQgcGFnZURldCA9IHtcclxuICAgICAgICAgICAgLi4ucGFnZSxcclxuICAgICAgICAgICAgcGFnZVBlcm1pc3Npb25JZDogdGhpcy5zZWxlY3RlZFBhZ2VQZXJtaXNzaW9uWzBdLmlkXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB0aGlzLnNhdmVQZXJtaXNzaW9uKHBhZ2VEZXQpO1xyXG4gICAgICAgICAgdGhpcy5hbGVydFNlcnZpY2Uuc3VjY2VzcygnTWVudSB1cGRhdGVkIHN1Y2Nlc3NmdWxseS4nKTtcclxuICAgICAgICAgIHRoaXMubG9hZFRyZWUoKTtcclxuICAgICAgICAgIHRoaXMucmVzZXRNZW51KHRydWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuY2xlYXJzZWFyY2goKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldCBmb3JtVmFsaWRhdGUoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5wYWdlRm9ybS5jb250cm9scztcclxuICB9XHJcblxyXG4gIHNhdmVQZXJtaXNzaW9uKHBhZ2U/OiBhbnkpIHtcclxuICAgIGlmIChwYWdlKSB7XHJcbiAgICAgIHRoaXMucGVybWlzc2lvbkZvcm0ucGF0Y2hWYWx1ZSh7XHJcbiAgICAgICAgaWQ6IHBhZ2U/LnBhZ2VQZXJtaXNzaW9uSWQgPyBwYWdlPy5wYWdlUGVybWlzc2lvbklkIDogMCxcclxuICAgICAgICBkZXNjcmlwdGlvbjogcGFnZS5uYW1lLFxyXG4gICAgICAgIGtleTogcGFnZS5uYW1lLnRvVXBwZXJDYXNlKCkucmVwbGFjZUFsbCgnICcsICdfJyksXHJcbiAgICAgICAgcGFnZWlkOiBwYWdlLmlkLFxyXG4gICAgICAgIG9yZGVyOiAxLFxyXG4gICAgICAgIHBlcm1pc3Npb250eXBlaWQ6IDFcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBsZXQgcGVybWlzc2lvbiA9IHtcclxuICAgICAgLi4udGhpcy5wZXJtaXNzaW9uRm9ybS52YWx1ZSxcclxuICAgICAgb3JkZXI6ICt0aGlzLnBlcm1pc3Npb25Gb3JtLnZhbHVlLm9yZGVyXHJcbiAgICB9O1xyXG5cclxuICAgIC8vIGlmICghcGVybWlzc2lvbi5pZCkge1xyXG4gICAgLy8gICBwZXJtaXNzaW9uID0ge1xyXG4gICAgLy8gICAgIC4uLnBlcm1pc3Npb24sXHJcbiAgICAvLyAgICAgaWQ6IDBcclxuICAgIC8vICAgfVxyXG4gICAgLy8gfVxyXG5cclxuICAgIGlmICh0aGlzLnBlcm1pc3Npb25Gb3JtLnZhbGlkKSB7XHJcbiAgICAgIHBlcm1pc3Npb24ub3JkZXIgPSBwZXJtaXNzaW9uLm9yZGVyID8gTnVtYmVyKHBlcm1pc3Npb24ub3JkZXIpIDogMTtcclxuICAgICAgZGVsZXRlIHBlcm1pc3Npb24ucmVhZG9ubHk7XHJcbiAgICAgIGlmICh0aGlzLnNhdmVNb2RlID09PSAnSU5TRVJUJykge1xyXG4gICAgICAgIHRoaXMucGVybWlzc2lvblNlcnZpY2UuY3JlYXRlUGVybWlzc2lvbihwZXJtaXNzaW9uKS5zdWJzY3JpYmUoKCkgPT4ge1xyXG4gICAgICAgICAgLy8gdGhpcy5hbGVydFNlcnZpY2Uuc3VjY2VzcygnUGVybWlzc2lvbiBjcmVhdGVkIHN1Y2Nlc3NmdWxseS4nKTtcclxuICAgICAgICAgIHRoaXMubG9hZFRyZWUoKTtcclxuICAgICAgICAgIHRoaXMucmVzZXRNZW51KHRydWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMucGVybWlzc2lvblNlcnZpY2UudXBkYXRlUGVybWlzc2lvbihwZXJtaXNzaW9uKS5zdWJzY3JpYmUoKCkgPT4ge1xyXG4gICAgICAgICAgLy8gdGhpcy5hbGVydFNlcnZpY2Uuc3VjY2VzcygnUGVybWlzc2lvbiB1cGRhdGVkIHN1Y2Nlc3NmdWxseS4nKTtcclxuICAgICAgICAgIHRoaXMuc2VsZWN0ZWRQYWdlUGVybWlzc2lvbiA9ICcnO1xyXG4gICAgICAgICAgdGhpcy5sb2FkVHJlZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyB0aGlzLmFsZXJ0U2VydmljZS5lcnJvcignSW52YWxpZCBwZXJtaXNzaW9uIGRhdGEuJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjbGVhckZvcm0oKSB7XHJcbiAgICBpZiAodGhpcy5ub2RlVHlwZSA9PT0gJ3Blcm1pc3Npb24nKSB7XHJcbiAgICAgIHRoaXMuaW5pdGlhbGl6ZVBlcm1pc3Npb25Gb3JtKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmluaXRpYWxpemVQYWdlRm9ybSgpO1xyXG4gICAgICB0aGlzLnBhZ2VGb3JtLnZhbHVlQ2hhbmdlcy5zdWJzY3JpYmUoKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuZW5hYmxlQnV0dG9uID0gdGhpcy5pc0FueUZvcm1Db250cm9sV2l0aFZhbHVlKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuICBzZWxlY3RUeXBlKHR5cGUsIGV2ZW50KSB7XHJcbiAgICBjb25zb2xlLmxvZyhldmVudCwgXCJyYWRpbyBldmVudFwiKTtcclxuICAgIHRoaXMuZm9ybVN1Ym1pdCA9IGZhbHNlO1xyXG4gICAgdGhpcy5kdWJsaWNhdGVJY29uTGlzdCA9IHRoaXMuaWNvbkxpc3Q7XHJcbiAgICB0aGlzLnBhZ2VzID0gdGhpcy5maWx0ZXJlZFBhcmVudFBhZ2VzO1xyXG4gICAgdGhpcy5kdXBsaWNhdGVQbGF0Zm9ybVBhZ2VzTGlzdCA9IHRoaXMucGxhdGZvcm1QYWdlc0xpc3Q7XHJcbiAgICB0aGlzLmR1cGxpY2F0ZUR5bmFtaWNQYWdlc0xpc3QgPSB0aGlzLnBhZ2VzTGlzdDtcclxuICAgIHRoaXMudmFsaWRhdGlvbkVycm9ycyA9IHt9O1xyXG4gICAgaWYgKHR5cGUgPT09ICdwbGF0Zm9ybScpIHtcclxuICAgICAgdGhpcy5zaG93TGlua1BhZ2UgPSBmYWxzZTtcclxuICAgICAgdGhpcy5wYWdlRm9ybS5wYXRjaFZhbHVlKHtcclxuICAgICAgICBwYWdlVHlwZU1lbnU6IHR5cGVcclxuICAgICAgfSlcclxuICAgICAgdGhpcy5zZWxlY3RlZFBhZ2VUeXBlID0gdHlwZTtcclxuICAgICAgdGhpcy5zYXZlTW9kZSA9ICdJTlNFUlQnO1xyXG4gICAgICB0aGlzLm5vZGVUeXBlID0gJ3BhZ2UnO1xyXG4gICAgICB0aGlzLmNsZWFyRm9ybSgpO1xyXG4gICAgICB0aGlzLmxvYWRUcmVlKCk7XHJcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdkeW5hbWljJykge1xyXG4gICAgICB0aGlzLnNob3dMaW5rUGFnZSA9IHRydWU7XHJcbiAgICAgIHRoaXMucGFnZUZvcm0ucGF0Y2hWYWx1ZSh7XHJcbiAgICAgICAgcGFnZVR5cGVNZW51OiB0eXBlXHJcbiAgICAgIH0pXHJcbiAgICAgIHRoaXMuc2VsZWN0ZWRQYWdlVHlwZSA9IHR5cGU7XHJcbiAgICAgIHRoaXMuc2F2ZU1vZGUgPSAnSU5TRVJUJztcclxuICAgICAgdGhpcy5ub2RlVHlwZSA9ICdwYWdlJztcclxuICAgICAgdGhpcy5jbGVhckZvcm0oKTtcclxuICAgICAgdGhpcy5sb2FkVHJlZSgpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5jbGVhcnNlYXJjaCgpO1xyXG4gICAgLy8gaWYodGhpcy5ldmVudE5vZGUuc2VsZWN0ZWRwYWdlbWVudXR5cGUgPT0gdHlwZSl7XHJcbiAgICAvLyAgIHRoaXMubm9kZVNlbGVjdCh7IG5vZGU6IHRoaXMuZXZlbnROb2RlIH0sIGZhbHNlKTtcclxuICAgIC8vIH1cclxuICB9XHJcblxyXG4gIHNldFBsYXRmb3JtUGFnZUxpc3QoKSB7XHJcbiAgICB0aGlzLnBlcm1pc3Npb25TZXJ2aWNlLmdldFBsYXRmb3JtUGFnZSgpLnN1YnNjcmliZSgocmVzOiBhbnkpID0+IHtcclxuICAgICAgY29uc3QgZGF0YSA9IHJlc1snZGF0YSddO1xyXG4gICAgICBpZiAoZGF0YSAmJiBkYXRhPy5sZW5ndGgpIHtcclxuICAgICAgICB0aGlzLnBsYXRmb3JtUGFnZXNMaXN0ID0gZGF0YS5zb3J0KChhLCBiKSA9PiBhLnBhZ2VuYW1lLmxvY2FsZUNvbXBhcmUoYi5wYWdlbmFtZSkpO1xyXG4gICAgICAgIHRoaXMuZHVwbGljYXRlUGxhdGZvcm1QYWdlc0xpc3QgPSB0aGlzLnBsYXRmb3JtUGFnZXNMaXN0O1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG5cclxuICBzZXRNZW51VHlwZSgpIHtcclxuICAgIHRoaXMubWVudXR5cGUgPSBbXHJcbiAgICAgIHsgbmFtZTogJ1BhcmVudCcsIHZhbHVlOiAncGFyZW50JyB9LFxyXG4gICAgICB7IG5hbWU6ICdQYWdlJywgdmFsdWU6ICdwYWdlJyB9XHJcbiAgICBdO1xyXG4gIH1cclxuXHJcbiAgcmVzZXRNZW51KGlzTmV3QWRkOiBhbnkpIHtcclxuICAgIHRoaXMuZW5hYmxlQnV0dG9uID0gZmFsc2U7XHJcbiAgICB0aGlzLnBhZ2VGb3JtLnJlc2V0KCk7XHJcbiAgICB0aGlzLmluaXRpYWxpemVQYWdlRm9ybSgpXHJcbiAgICB0aGlzLnBhZ2VGb3JtLnZhbHVlQ2hhbmdlcy5zdWJzY3JpYmUoKCkgPT4ge1xyXG4gICAgICB0aGlzLmVuYWJsZUJ1dHRvbiA9IHRoaXMuaXNBbnlGb3JtQ29udHJvbFdpdGhWYWx1ZSgpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLnZhbGlkYXRpb25FcnJvcnMgPSB7fTtcclxuICAgIHRoaXMuc2hvd0xpbmtQYWdlID0gZmFsc2U7XHJcbiAgICB0aGlzLmZvcm1TdWJtaXQgPSBmYWxzZTtcclxuICAgIHRoaXMuc2hvd0RlbGV0ZUJ0biA9IGZhbHNlO1xyXG4gICAgdGhpcy5zYXZlTW9kZSA9ICdJTlNFUlQnO1xyXG4gICAgdGhpcy5ub2RlVHlwZSA9ICdwYWdlJztcclxuICAgIHRoaXMuZHVibGljYXRlSWNvbkxpc3QgPSB0aGlzLmljb25MaXN0O1xyXG4gICAgdGhpcy5wYWdlcyA9IHRoaXMuZmlsdGVyZWRQYXJlbnRQYWdlcztcclxuICAgIHRoaXMuZHVwbGljYXRlUGxhdGZvcm1QYWdlc0xpc3QgPSB0aGlzLnBsYXRmb3JtUGFnZXNMaXN0O1xyXG4gICAgdGhpcy5kdXBsaWNhdGVEeW5hbWljUGFnZXNMaXN0ID0gdGhpcy5wYWdlc0xpc3Q7XHJcbiAgICB0aGlzLmltYWdlSW5mb3JtYXRpb24gPSAnJztcclxuICAgIHRoaXMucGVybWlzc2lvbkZvcm0ucmVzZXQoKTtcclxuICAgIHRoaXMuY2xlYXJzZWFyY2goKTtcclxuICAgIHRoaXMuY2xlYXJGb3JtKCk7XHJcbiAgICBpZiAodGhpcy5zZWxlY3RlZFBhZ2VUeXBlKSB7XHJcbiAgICAgIHRoaXMucGFnZUZvcm0ucGF0Y2hWYWx1ZSh7XHJcbiAgICAgICAgcGFnZVR5cGVNZW51OiB0aGlzLnNlbGVjdGVkUGFnZVR5cGVcclxuICAgICAgfSlcclxuICAgICAgdGhpcy5zaG93TGlua1BhZ2UgPSB0aGlzLnNlbGVjdGVkUGFnZVR5cGUgPT0gJ2R5bmFtaWMnID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5wYWdlRm9ybS5wYXRjaFZhbHVlKHtcclxuICAgICAgICBwYWdlVHlwZU1lbnU6ICdwbGF0Zm9ybSdcclxuICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBpZiAoaXNOZXdBZGQpIHtcclxuICAgICAgdGhpcy5ldmVudE5vZGUgPSAnJztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlc2V0Rm9ybSgpIHtcclxuICAgIHRoaXMudmFsaWRhdGlvbkVycm9ycyA9IHt9O1xyXG4gICAgdGhpcy5mb3JtU3VibWl0ID0gZmFsc2U7XHJcbiAgICBpZiAodGhpcy5zYXZlTW9kZSA9PSAnSU5TRVJUJykge1xyXG4gICAgICB0aGlzLnJlc2V0TWVudShmYWxzZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLm5vZGVTZWxlY3QoeyBub2RlOiB0aGlzLmV2ZW50Tm9kZSB9LCBmYWxzZSk7XHJcbiAgICAgIHRoaXMuY2xlYXJzZWFyY2goKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlbW92ZVRodW1ibmFpbCgpIHtcclxuICAgIHRoaXMucGFnZUZvcm0uY29udHJvbHNbJ3RodW1ibmFpbCddLnJlc2V0KCk7XHJcbiAgICB0aGlzLmltYWdlSW5mb3JtYXRpb24gPSAnJztcclxuICB9XHJcblxyXG4gIC8vIGRlbGV0ZShldmVudDogRXZlbnQpIHtcclxuICAvLyAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gIC8vICAgLy8gdGhpcy5kZWxldGVkSWQgPSB0aGlzLnNlbGVjdGVkSXRlbS5pZDtcclxuICAvLyB9XHJcblxyXG5cclxuICBjcmVhdGVQZXJtaXNzaW9uRm9ybSgpIHtcclxuICAgIHRoaXMuaW5pdGlhbGl6ZVBlcm1pc3Npb25Gb3JtKCk7XHJcbiAgICBpZiAodGhpcy5ub2RlVHlwZSA9PT0gJ3BhZ2UnKSB7XHJcbiAgICAgIHRoaXMubm9kZVR5cGUgPSAncGVybWlzc2lvbic7XHJcbiAgICAgIHRoaXMucGVybWlzc2lvbkZvcm0ucGF0Y2hWYWx1ZSh7XHJcbiAgICAgICAgcGFnZWlkOiB0aGlzLnNlbGVjdGVkSXRlbS5pZFxyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMucGVybWlzc2lvbkZvcm0ucGF0Y2hWYWx1ZSh7XHJcbiAgICAgICAgcGFnZWlkOiB0aGlzLnNlbGVjdGVkSXRlbS5wYWdlaWQsXHJcbiAgICAgICAgcGFyZW50aWQ6IHRoaXMuc2VsZWN0ZWRJdGVtLmlkXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBsb2FkQ29udGV4dE1lbnUoKSB7XHJcbiAgICBjb25zdCBwZXJtaXNzaW9uID0ge1xyXG4gICAgICBTRVRUSU5HU19QRVJfQ1JFQVRFX1BBR0U6IHRydWUsXHJcbiAgICAgIFNFVFRJTkdTX1BFUl9DUkVBVEVfUEVSTUlTU0lPTjogdHJ1ZSxcclxuICAgICAgU0VUVElOR1NfUEVSX0RFTEVURTogdHJ1ZVxyXG4gICAgfTtcclxuICAgIHRoaXMubWVudUl0ZW1zID0gW1xyXG4gICAgICB7XHJcbiAgICAgICAgbGFiZWw6ICdDcmVhdGUgUGFnZScsXHJcbiAgICAgICAgaWNvbjogUHJpbWVJY29ucy5BUlJPV19VUF9MRUZULFxyXG4gICAgICAgIHZpc2libGU6IHBlcm1pc3Npb24uU0VUVElOR1NfUEVSX0NSRUFURV9QQUdFLFxyXG4gICAgICAgIGJhZGdlOiAnU0VUVElOR1NfUEVSX0NSRUFURV9QQUdFJyxcclxuICAgICAgICBjb21tYW5kOiAoX2V2ZW50OiBhbnkpID0+IHtcclxuICAgICAgICAgIHRoaXMuc2F2ZU1vZGUgPSAnSU5TRVJUJztcclxuICAgICAgICAgIHRoaXMubm9kZVR5cGUgPSAncGFnZSc7XHJcbiAgICAgICAgICB0aGlzLnNob3dMaW5rUGFnZSA9IGZhbHNlO1xyXG4gICAgICAgICAgdGhpcy5jbGVhckZvcm0oKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBsYWJlbDogJ0xpbmsgUGFnZScsXHJcbiAgICAgICAgaWNvbjogUHJpbWVJY29ucy5BUlJPV19VUF9MRUZULFxyXG4gICAgICAgIHZpc2libGU6IHBlcm1pc3Npb24uU0VUVElOR1NfUEVSX0NSRUFURV9QQUdFLFxyXG4gICAgICAgIGNvbW1hbmQ6IChfZXZlbnQ6IGFueSkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5zYXZlTW9kZSA9ICdJTlNFUlQnO1xyXG4gICAgICAgICAgdGhpcy5ub2RlVHlwZSA9ICdwYWdlJztcclxuICAgICAgICAgIHRoaXMuc2hvd0xpbmtQYWdlID0gdHJ1ZTtcclxuICAgICAgICAgIHRoaXMuY2xlYXJGb3JtKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgICxcclxuICAgICAge1xyXG4gICAgICAgIGxhYmVsOiAnQ3JlYXRlIFBlcm1pc3Npb24nLFxyXG4gICAgICAgIGljb246IFByaW1lSWNvbnMuQVJST1dfRE9XTl9SSUdIVCxcclxuICAgICAgICB2aXNpYmxlOiBwZXJtaXNzaW9uLlNFVFRJTkdTX1BFUl9DUkVBVEVfUEVSTUlTU0lPTixcclxuICAgICAgICBiYWRnZTogJ1NFVFRJTkdTX1BFUl9DUkVBVEVfUEVSTUlTU0lPTicsXHJcbiAgICAgICAgY29tbWFuZDogX2V2ZW50ID0+IHtcclxuICAgICAgICAgIHRoaXMuc2F2ZU1vZGUgPSAnSU5TRVJUJztcclxuICAgICAgICAgIHRoaXMubm9kZVR5cGUgPSB0aGlzLnNlbGVjdGVkSXRlbS50eXBlO1xyXG4gICAgICAgICAgdGhpcy5jbGVhckZvcm0oKTtcclxuICAgICAgICAgIHRoaXMuY3JlYXRlUGVybWlzc2lvbkZvcm0oKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgLFxyXG4gICAgICB7XHJcbiAgICAgICAgbGFiZWw6ICdEZWxldGUnLFxyXG4gICAgICAgIGljb246IFByaW1lSWNvbnMuVFJBU0gsXHJcbiAgICAgICAgdmlzaWJsZTogcGVybWlzc2lvbi5TRVRUSU5HU19QRVJfREVMRVRFLFxyXG4gICAgICAgIGJhZGdlOiAnU0VUVElOR1NfUEVSX0RFTEVURScsXHJcbiAgICAgICAgY29tbWFuZDogZXZlbnQgPT4ge1xyXG4gICAgICAgICAgdGhpcy5zYXZlTW9kZSA9ICdERUxFVEUnO1xyXG4gICAgICAgICAgdGhpcy5ub2RlVHlwZSA9IHRoaXMuc2VsZWN0ZWRJdGVtLnR5cGU7XHJcblxyXG4gICAgICAgICAgLy8gdGhpcy5jb25maXJtYXRpb25TZXJ2aWNlLmNvbmZpcm0oe1xyXG4gICAgICAgICAgLy8gICB0YXJnZXQ6IGV2ZW50LnRhcmdldCBhcyBFdmVudFRhcmdldCxcclxuICAgICAgICAgIC8vICAgbWVzc2FnZTogJ0FyZSB5b3Ugc3VyZSB0aGF0IHlvdSB3YW50IHRvIGRlbGV0ZT8nLFxyXG4gICAgICAgICAgLy8gICBpY29uOiAncGkgcGktZXhjbGFtYXRpb24tdHJpYW5nbGUnLFxyXG4gICAgICAgICAgLy8gICBhY2NlcHQ6ICgpID0+IHtcclxuICAgICAgICAgIC8vICAgICAvL2NvbmZpcm0gYWN0aW9uXHJcbiAgICAgICAgICAkKCcjRGVsZXRldXNlcicpLm1vZGFsKCdzaG93Jyk7XHJcbiAgICAgICAgICAvLyB0aGlzLmRlbGV0ZUl0ZW0oKTtcclxuICAgICAgICAgIC8vICAgfSxcclxuICAgICAgICAgIC8vICAgcmVqZWN0OiAoKSA9PiB7XHJcbiAgICAgICAgICAvLyAgICAgLy8gVGhpcyBpcyBpbnRlbnRpb25hbFxyXG4gICAgICAgICAgLy8gICB9LFxyXG4gICAgICAgICAgLy8gfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICBdO1xyXG4gIH1cclxuXHJcbiAgc2V0UGFnZXNMaXN0KCkge1xyXG4gICAgdGhpcy5wZXJtaXNzaW9uU2VydmljZS5nZXRPcmdhbml6YXRpb25QYWdlKHRoaXMub3JnSWQpLnN1YnNjcmliZSgocmVzOiBhbnkpID0+IHtcclxuICAgICAgY29uc3QgZGF0YSA9IHJlc1snZGF0YSddWydkYXRhJ107XHJcbiAgICAgIGlmIChkYXRhICYmIGRhdGE/Lmxlbmd0aCkge1xyXG4gICAgICAgIGNvbnN0IGZpbHRlclBhZ2VzTGlzdCA9IGRhdGE/LmZpbHRlcigoYTogYW55KSA9PiBhLmFjdGl2ZVZlcnNpb24/LmdyaWRjb25maWcpLm1hcCgoeDogYW55KSA9PiB7XHJcbiAgICAgICAgICB4LmFjdGl2ZVZlcnNpb24ucGFnZWlkID0geC5hY3RpdmVWZXJzaW9uLnBhZ2VpZC50b1N0cmluZygpO1xyXG4gICAgICAgICAgY29uc3QgcGFnZW5hbWUgPSAheC5pc0VuYWJsZT9gJHt4LmFjdGl2ZVZlcnNpb24ucGFnZW5hbWV9IChJbmFjdGl2ZSlgOnguYWN0aXZlVmVyc2lvbi5wYWdlbmFtZTtcclxuICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGlkOiB4LmFjdGl2ZVZlcnNpb24ucGFnZWlkLFxyXG4gICAgICAgICAgICBwYWdlbmFtZTogcGFnZW5hbWUsXHJcbiAgICAgICAgICAgIHZhbHVlOiBwYWdlbmFtZVxyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnBhZ2VzTGlzdCA9IGZpbHRlclBhZ2VzTGlzdC5zb3J0KChhLCBiKSA9PiBhLnBhZ2VuYW1lLmxvY2FsZUNvbXBhcmUoYi5wYWdlbmFtZSkpO1xyXG4gICAgICAgIHRoaXMuZHVwbGljYXRlRHluYW1pY1BhZ2VzTGlzdCA9IHRoaXMucGFnZXNMaXN0O1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgbG9hZFRyZWUoKSB7XHJcbiAgICB0aGlzLnBlcm1pc3Npb25TZXJ2aWNlLmdldEFsbFBhZ2VUcmVlKHRoaXMuZW52aXJvbm1lbnQuYXBwbGljYXRpb25pZCkuc3Vic2NyaWJlKChpdGVtczogYW55KSA9PiB7XHJcbiAgICAgIHRoaXMucGFnZXMgPSBpdGVtcy5zb3J0KChhLCBiKSA9PiBhLm5hbWUubG9jYWxlQ29tcGFyZShiLm5hbWUpKTtcclxuICAgICAgdGhpcy5maWx0ZXJlZFBhcmVudFBhZ2VzID0gdGhpcy5wYWdlcztcclxuICAgICAgdGhpcy5kdXBsaWNhdGVwYWdlcyA9IGl0ZW1zO1xyXG4gICAgICBpZiAodGhpcy5wYWdlcy5sZW5ndGgpIHtcclxuICAgICAgICAvL3RoaXMuc2VsZWN0ZWRJdGVtID0gdGhpcy5wYWdlc1swXTtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLnRyZWVEYXRhID0gdGhpcy5idWlsZFRyZWUodGhpcy5wYWdlcywgbnVsbCwgZmFsc2UpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBjYW5jZWwoKSB7XHJcbiAgICB0aGlzLnBlcm1pc3Npb25Gb3JtLnJlc2V0KCk7XHJcbiAgfVxyXG4gIC8vIGRlbGV0ZSgpIHtcclxuICAvLyAgIC8vIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gIC8vICAgLy8gdGhpcy5kZWxldGVkSWQgPSBpZDtcclxuICAvLyAgICQoJyNEZWxldGV1c2VyJykubW9kYWwoJ3Nob3cnKTtcclxuICAvLyB9XHJcbiAgZGVsZXRlSXRlbSgpIHtcclxuICAgIHRoaXMuc2F2ZU1vZGUgPSAnVVBEQVRFJztcclxuICAgIGlmICh0aGlzLnNlbGVjdGVkSXRlbS50eXBlID09PSAncGFnZScpIHtcclxuICAgICAgLy8gJCgnI0RlbGV0ZXVzZXInKS5tb2RhbCgnc2hvdycpO1xyXG4gICAgICB0aGlzLnBlcm1pc3Npb25TZXJ2aWNlLmRlbGV0ZVBhZ2UodGhpcy5zZWxlY3RlZEl0ZW0uaWQpLnN1YnNjcmliZSgoX2l0ZW06IGFueSkgPT4ge1xyXG4gICAgICAgIHRoaXMuY2FuY2VsKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRJdGVtPy5jaGlsZHJlbj8ubGVuZ3RoKSB7XHJcbiAgICAgICAgICB0aGlzLnNlbGVjdGVkSXRlbT8uY2hpbGRyZW4/Lm1hcCgoYykgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnBlcm1pc3Npb25TZXJ2aWNlLmRlbGV0ZVBhZ2UoYy5pZCkuc3Vic2NyaWJlKChfaXRlbTogYW55KSA9PiBjb25zb2xlLmxvZygnJykpO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgJCgnI0RlbGV0ZXVzZXInKS5tb2RhbCgnaGlkZScpO1xyXG4gICAgICAgIHRoaXMucmVzZXRNZW51KHRydWUpO1xyXG4gICAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLnN1Y2Nlc3MoJ01lbnUgZGVsZXRlZCBzdWNjZXNzZnVsbHkuJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkVHJlZSgpO1xyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMucGVybWlzc2lvblNlcnZpY2UuZGVsZXRlUGVybWlzc2lvbih0aGlzLnNlbGVjdGVkSXRlbS5pZCkuc3Vic2NyaWJlKChfaXRlbTogYW55KSA9PiB7XHJcbiAgICAgICAgLy8gJCgnI0RlbGV0ZXVzZXInKS5tb2RhbCgnc2hvdycpO1xyXG4gICAgICAgIHRoaXMuY2FuY2VsKCk7XHJcbiAgICAgICAgJCgnI0RlbGV0ZXVzZXInKS5tb2RhbCgnaGlkZScpO1xyXG4gICAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLnN1Y2Nlc3MoJ0NvbnRyb2wgUGVybWlzc2lvbiBkZWxldGVkIHN1Y2Nlc3NmdWxseS4nKTtcclxuICAgICAgICB0aGlzLmxvYWRUcmVlKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZGVsZXRlUGVybWlzc2lvbigpIHtcclxuICAgIC8vIHRoaXMuc2F2ZU1vZGUgPSAnREVMRVRFJztcclxuICAgIHRoaXMubm9kZVR5cGUgPSB0aGlzLnNlbGVjdGVkSXRlbS50eXBlO1xyXG4gICAgJCgnI0RlbGV0ZXVzZXInKS5tb2RhbCgnc2hvdycpO1xyXG4gIH1cclxuXHJcbiAgcmVxdWlyZWRJZlZhbGlkYXRvcihwcmVkaWNhdGU6ICgpID0+IGFueSkge1xyXG4gICAgcmV0dXJuIChmb3JtQ29udHJvbDogQWJzdHJhY3RDb250cm9sKSA9PiB7XHJcbiAgICAgIGlmICghZm9ybUNvbnRyb2wucGFyZW50KSB7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHByZWRpY2F0ZSgpKSB7XHJcbiAgICAgICAgcmV0dXJuIFZhbGlkYXRvcnMucmVxdWlyZWQoZm9ybUNvbnRyb2wpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIGhhbmRsZUZpbGVJbnB1dChmaWxlVmFsdWU6IGFueSkge1xyXG4gICAgY29uc3QgdGFyZ2V0ID0gZmlsZVZhbHVlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgY29uc3QgZmlsZTogRmlsZSA9IHRhcmdldC5maWxlcyFbMF07XHJcbiAgICB0aGlzLnVwbG9hZGVkRmlsZSA9IGZpbGVWYWx1ZS50YXJnZXQuZmlsZXNbMF0ubmFtZTtcclxuICAgIHRoaXMuaW1hZ2VEYXRhID0ge1xyXG4gICAgICBjb250ZW50VHlwZTogZmlsZVZhbHVlLnRhcmdldC5maWxlc1swXS50eXBlLFxyXG4gICAgICBmaWxlTmFtZTogYGR5bmFtaWMtbWVudS8ke3RoaXMudXBsb2FkZWRGaWxlfWBcclxuICAgIH07XHJcbiAgICB0aGlzLmltYWdlSW5mb3JtYXRpb24gPSB0aGlzLnVwbG9hZGVkRmlsZTtcclxuICAgIGlmICh0aGlzLnZhbGlkYXRlSW1hZ2UoZmlsZVZhbHVlLnRhcmdldC5maWxlcykpIHtcclxuICAgICAgdGhpcy5wZXJtaXNzaW9uU2VydmljZS51cGxvYWRLZXkodGhpcy5pbWFnZURhdGEpLnN1YnNjcmliZShcclxuICAgICAgICAocmVzOiBhbnkpID0+IHtcclxuICAgICAgICAgIHRoaXMudXJsUGF0aCA9IHJlcy5kYXRhO1xyXG4gICAgICAgICAgY29uc3QgdXBsb2FkQXR0YWNobWVudDogYW55ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbGUnKTtcclxuICAgICAgICAgIGNvbnN0IHVwbG9hZEF0dGFjaG1lbnREZXRhaWxzID0gdXBsb2FkQXR0YWNobWVudC5maWxlc1swXTtcclxuICAgICAgICAgIHRoaXMuaHR0cFNlcnZpY2UucHV0VXBsb2FkKHRoaXMudXJsUGF0aCwgdXBsb2FkQXR0YWNobWVudERldGFpbHMsIHVwbG9hZEF0dGFjaG1lbnREZXRhaWxzLnR5cGUpLnN1YnNjcmliZShcclxuICAgICAgICAgICAgKF9yZXNwOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS5zdWNjZXNzKCdVcGxvYWRlZCBTdWNjZXNzZnVsbHkhJyk7XHJcbiAgICAgICAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuICAgICAgICAgICAgICByZWFkZXIub25sb2FkID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLnNhbml0aXplci5ieXBhc3NTZWN1cml0eVRydXN0VXJsKHJlYWRlci5yZXN1bHQgYXMgc3RyaW5nKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFnZUZvcm0ucGF0Y2hWYWx1ZSh7IHRodW1ibmFpbDogdmFsdWUgYXMgc3RyaW5nIH0pO1xyXG4gICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XHJcbiAgICAgICAgICAgICAgdGhpcy5hdHRhY2hUeXBlID0gZmlsZVZhbHVlLnRhcmdldC5maWxlc1swXS50eXBlO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAoZXJyb3I6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAgIGlmIChlcnJvci5zdGF0dXMgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hbGVydFNlcnZpY2UuZXJyb3IoJ0FwcENvbnN0YW50cy5lcnJvck1lc3NhZ2UnKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBsb2FkZWRGaWxlID0gJyc7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVybFBhdGggPSAnJztcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAoX2Vycm9yOiBhbnkpID0+IHtcclxuICAgICAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLmVycm9yKCdBcHBDb25zdGFudHMuZXJyb3JNZXNzYWdlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgdmFsaWRhdGVJbWFnZShmaWxlOiBhbnkpIHtcclxuICAgIGNvbnN0IGZpbGVTaXplID0gTnVtYmVyKGZpbGVbMF0uc2l6ZSkgLyAxMDI0O1xyXG4gICAgY29uc3QgZmlsZXR5cGUgPSBmaWxlWzBdLnR5cGUucmVwbGFjZSgnaW1hZ2UvJywgJycpO1xyXG4gICAgaWYgKFxyXG4gICAgICBmaWxldHlwZSA9PT0gJ2pwZycgfHxcclxuICAgICAgZmlsZXR5cGUgPT09ICdqcGVnJyB8fFxyXG4gICAgICBmaWxldHlwZSA9PT0gJ3BuZycgfHxcclxuICAgICAgZmlsZXR5cGUgPT09ICdnaWYnIHx8XHJcbiAgICAgIGZpbGV0eXBlID09PSAnc3ZnK3htbCdcclxuICAgICkge1xyXG4gICAgICBpZiAoZmlsZVNpemUgPCA1MCkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuaW1hZ2VJbmZvcm1hdGlvbiA9ICdJbWFnZSBzaXplIGV4Y2VlZHMgNTAgS0InO1xyXG4gICAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLndhcm4oJ0ZpbGUgaXMgYmlnZ2VyIHRoYW4gNTAgS0InKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuaW1hZ2VJbmZvcm1hdGlvbiA9ICcnO1xyXG4gICAgICB0aGlzLmFsZXJ0U2VydmljZS53YXJuKGAke2ZpbGV0eXBlfSBmb3JtYXQgaXMgbm90IHN1cHBvcnRlZGApO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHNlYXJjaFBlcm1pc3Npb25MaXN0KGV2ZW50OiBFdmVudCkge1xyXG4gICAgY29uc3QgdmFsdWUgPSAoZXZlbnQudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlLnRvTG93ZXJDYXNlKCk7XHJcbiAgICB0aGlzLnBhZ2VzID0gdGhpcy5kdXBsaWNhdGVwYWdlcy5maWx0ZXIoKGE6IGFueSkgPT5cclxuICAgICAgYT8ubmFtZT8udG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKHZhbHVlKVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIG9uUGFnZU5hbWVJbnB1dChldmVudDogS2V5Ym9hcmRFdmVudCwgbmFtZTogc3RyaW5nKSB7XHJcbiAgICBjb25zdCBpbnB1dCA9IGV2ZW50LnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgY29uc3Qgc3RhcnRQb3NpdGlvbiA9IGlucHV0LnNlbGVjdGlvblN0YXJ0O1xyXG4gICAgY29uc3QgZW5kUG9zaXRpb24gPSBpbnB1dC5zZWxlY3Rpb25FbmQ7XHJcbiAgICBjb25zdCBwYWdlbmFtZUNvbnRyb2wgPSB0aGlzLnBhZ2VGb3JtLmdldChuYW1lKTtcclxuICAgIGlmIChwYWdlbmFtZUNvbnRyb2wudmFsdWUpIHtcclxuICAgICAgY29uc3QgbmV3VmFsdWUgPSBwYWdlbmFtZUNvbnRyb2wudmFsdWVcclxuICAgICAgICAuc3BsaXQoJyAnKVxyXG4gICAgICAgIC5tYXAod29yZCA9PiB3b3JkLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgd29yZC5zbGljZSgxKSlcclxuICAgICAgICAuam9pbignICcpO1xyXG4gICAgICBwYWdlbmFtZUNvbnRyb2wucGF0Y2hWYWx1ZShuZXdWYWx1ZSwgeyBlbWl0RXZlbnQ6IGZhbHNlIH0pO1xyXG4gICAgICAvLyBSZXN0b3JlIGN1cnNvciBwb3NpdGlvblxyXG4gICAgICBpbnB1dC5zZXRTZWxlY3Rpb25SYW5nZShzdGFydFBvc2l0aW9uLCBlbmRQb3NpdGlvbik7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGN1c3RvbUZpbHRlcihub2RlOiBUcmVlTm9kZSwgZmlsdGVyOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgIGlmIChub2RlLmxhYmVsLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoZmlsdGVyLnRvTG93ZXJDYXNlKCkpKSB7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChub2RlLmNoaWxkcmVuKSB7XHJcbiAgICAgIGZvciAoY29uc3QgY2hpbGQgb2Ygbm9kZS5jaGlsZHJlbikge1xyXG4gICAgICAgIGlmICh0aGlzLmN1c3RvbUZpbHRlcihjaGlsZCwgZmlsdGVyKSkge1xyXG4gICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgZmlsdGVyVHJlZShldmVudDogYW55KSB7XHJcbiAgICBjb25zdCBmaWx0ZXJWYWx1ZSA9IGV2ZW50LnRhcmdldC52YWx1ZS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgY29uc3QgZmlsdGVyZWREYXRhID0gdGhpcy50cmVlRGF0YS5maWx0ZXIobm9kZSA9PiB0aGlzLmN1c3RvbUZpbHRlcihub2RlLCBmaWx0ZXJWYWx1ZSkpO1xyXG4gICAgdGhpcy50cmVlRGF0YSA9IFsuLi5maWx0ZXJlZERhdGFdO1xyXG4gIH1cclxufVxyXG4iLCI8YXBwLWFsZXJ0PjwvYXBwLWFsZXJ0PlxyXG48ZGl2IGNsYXNzPVwicGVybWlzc2lvblwiPlxyXG4gIDxkaXYgY2xhc3M9XCJyb3dcIj5cclxuICAgIDxkaXYgY2xhc3M9XCJjb2wtbGctNCBjb2wtbWQtNiBjb2wtMTJcIj5cclxuICAgICAgPGRpdiBjbGFzcz1cImNsZWFyZml4XCI+PC9kaXY+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJ0YWItY29udGVudCBweS0yXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInRhYi1wYW5lIGZhZGUgc2hvdyBhY3RpdmVcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwIGJnaWNvbnNlYXJjaCBkLWZsZXhcIj5cclxuICAgICAgICAgICAgPCEtLSA8aW5wdXQgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBwbGFjZWhvbGRlcj1cIlNlYXJjaCBieSBNZW51IE5hbWVcIiB0eXBlPVwidGV4dFwiIFtmb3JtQ29udHJvbF09XCJzZWFyY2hcIlxyXG4gICAgICAgICAgICAgIHBJbnB1dFRleHQgcENsZWFyQnV0dG9uLz4gLS0+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicC1pbnB1dC1pY29uLXJpZ2h0IHctMTAwXCI+XHJcbiAgICAgICAgICAgICAgPGkgY2xhc3M9XCJwaSBwaS10aW1lcy1jaXJjbGVcIiAoY2xpY2spPVwiY2xlYXJzZWFyY2goKVwiPjwvaT5cclxuICAgICAgICAgICAgICA8aW5wdXQgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiAoaW5wdXQpPVwiZmlsdGVyVHJlZSgkZXZlbnQpXCIgcGxhY2Vob2xkZXI9XCJTZWFyY2ggYnkgTWVudSBOYW1lXCIgdHlwZT1cInRleHRcIiBbZm9ybUNvbnRyb2xdPVwic2VhcmNoXCJcclxuICAgICAgICAgICAgICAgIHBJbnB1dFRleHQgLz5cclxuICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5IGJ0bmNvbW1vbiBtbC0yXCIgKGNsaWNrKT1cInJlc2V0TWVudSh0cnVlKVwiPkFkZDwvYnV0dG9uPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2xlYXJmaXhcIj48L2Rpdj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJtYXN0ZXJhY2Vzc1wiPlxyXG4gICAgICAgICAgICA8IS0tIDxwLXRyZWUgW3ZhbHVlXT1cInBhZ2VzXCIgc2VsZWN0aW9uTW9kZT1cInNpbmdsZVwiIFsoc2VsZWN0aW9uKV09XCJzZWxlY3RlZEl0ZW1cIlxyXG4gICAgICAgICAgICAgIChvbk5vZGVTZWxlY3QpPVwibm9kZVNlbGVjdCgkZXZlbnQpXCIgKG9uTm9kZUNvbnRleHRNZW51U2VsZWN0KT1cIm9uTm9kZUNvbnRleHRNZW51U2VsZWN0KCRldmVudClcIlxyXG4gICAgICAgICAgICAgIChvbk5vZGVFeHBhbmQpPVwibm9kZUV4cGFuZCgkZXZlbnQpXCIgW2NvbnRleHRNZW51XT1cInRyZWVDb250ZXh0TWVudVwiPjwvcC10cmVlPlxyXG4gICAgICAgICAgICA8cC1jb250ZXh0TWVudSAjdHJlZUNvbnRleHRNZW51IFttb2RlbF09XCJtZW51SXRlbXNcIiBhcHBlbmRUbz1cImJvZHlcIj48L3AtY29udGV4dE1lbnU+IC0tPlxyXG4gICAgICAgICAgICA8IS0tIDxwLWNvbmZpcm1Qb3B1cCBzdHlsZUNsYXNzPVwiZGVsZXRlLXBvcHVwXCI+PC9wLWNvbmZpcm1Qb3B1cD4gLS0+XHJcbiAgICAgICAgICAgIDxwLXRyZWUgW3ZhbHVlXT1cInRyZWVEYXRhXCIgc2VsZWN0aW9uTW9kZT1cInNpbmdsZVwiIFsoc2VsZWN0aW9uKV09XCJzZWxlY3RlZEl0ZW1cIlxyXG4gICAgICAgICAgICAgIChvbk5vZGVTZWxlY3QpPVwibm9kZVNlbGVjdCgkZXZlbnQsIHRydWUpXCIgKG9uTm9kZUNvbnRleHRNZW51U2VsZWN0KT1cIm9uTm9kZUNvbnRleHRNZW51U2VsZWN0KCRldmVudClcIlxyXG4gICAgICAgICAgICAgIChvbk5vZGVFeHBhbmQpPVwibm9kZUV4cGFuZCgkZXZlbnQpXCI+XHJcbiAgICAgICAgICAgICAgPG5nLXRlbXBsYXRlIGxldC1ub2RlIHBUZW1wbGF0ZT1cImRlZmF1bHRcIj5cclxuICAgICAgICAgICAgICAgIDxzcGFuICpuZ0lmPVwibm9kZS5tZW51dHlwZSA9PT0gJ3BhcmVudCdcIj5cclxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ1aS10cmVlLXRvZ2dsZXIgdWktY2xpY2thYmxlXCIgKm5nSWY9XCJub2RlLmNoaWxkcmVuICYmIG5vZGUuY2hpbGRyZW4ubGVuZ3RoID4gMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgKGNsaWNrKT1cIm9uTm9kZUV4cGFuZENsaWNrKCRldmVudCwgbm9kZSlcIj48L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICB7e25vZGUubmFtZX19XHJcbiAgICAgICAgICAgICAgICA8IS0tIDxwLWNvbnRleHRNZW51IFttb2RlbF09XCJtZW51SXRlbXNcIiBhcHBlbmRUbz1cImJvZHlcIj48L3AtY29udGV4dE1lbnU+IC0tPlxyXG4gICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cIm5vZGUuY2hpbGRyZW4gJiYgbm9kZS5jaGlsZHJlbi5sZW5ndGggPiAwXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nVGVtcGxhdGVPdXRsZXQ9XCJyZWN1cnNpdmVUcmVlOyBjb250ZXh0OnsgJGltcGxpY2l0OiBub2RlLmNoaWxkcmVuIH1cIj48L25nLWNvbnRhaW5lcj5cclxuICAgICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxyXG4gICAgICAgICAgICAgIDwvbmctdGVtcGxhdGU+XHJcbiAgICAgICAgICAgICAgPG5nLXRlbXBsYXRlICNyZWN1cnNpdmVUcmVlIGxldC1ub2Rlcz5cclxuICAgICAgICAgICAgICAgIDx1bD5cclxuICAgICAgICAgICAgICAgICAgPGxpICpuZ0Zvcj1cImxldCBjaGlsZCBvZiBub2Rlc1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXJcclxuICAgICAgICAgICAgICAgICAgICAgICpuZ1RlbXBsYXRlT3V0bGV0PVwicmVjdXJzaXZlVHJlZTsgY29udGV4dDp7ICRpbXBsaWNpdDogY2hpbGQuY2hpbGRyZW4gfVwiPjwvbmctY29udGFpbmVyPlxyXG4gICAgICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICAgICAgPC91bD5cclxuICAgICAgICAgICAgICA8L25nLXRlbXBsYXRlPlxyXG4gICAgICAgICAgICAgIDwhLS0gPHAtY29udGV4dE1lbnUgI3RyZWVDb250ZXh0TWVudSBbbW9kZWxdPVwibWVudUl0ZW1zXCIgYXBwZW5kVG89XCJib2R5XCI+PC9wLWNvbnRleHRNZW51PiAtLT5cclxuICAgICAgICAgICAgPC9wLXRyZWU+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbFwiIGlkPVwiRGVsZXRldXNlclwiIHRhYmluZGV4PVwiLTFcIiByb2xlPVwiZGlhbG9nXCI+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWRpYWxvZ1wiIHJvbGU9XCJkb2N1bWVudFwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWNvbnRlbnRcIj5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj5cclxuICAgICAgICAgICAgICAgICAgICA8cD5BcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoZSBNZW51PzwvcD5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2xlYXJmaXhcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibXQtMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInB1bGwtcmlnaHQgbWItMiBidG4gYnRuLXByaW1hcnkgYnRuY29tbW9uIGRlbGV0ZVwiIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgKGNsaWNrKT1cImRlbGV0ZUl0ZW0oKVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWxldGVcclxuICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInB1bGwtcmlnaHQgbWItMiBtci0yIGJ0biBiZy13aGl0ZSB0ZXh0LXByaW1hcnkgYnRuY2FuY2VsXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1kaXNtaXNzPVwibW9kYWxcIj5DYW5jZWw8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2xlYXJmaXhcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICAgIDxkaXYgY2xhc3M9XCJjb2wtbGctOCBjb2wtbWQtNiBjb2wtMTIgbWFzdGVyLXJpZ2h0IG10LTJcIj5cclxuICAgICAgPHAtY2FyZCAqbmdJZj1cIm5vZGVUeXBlID09PSAncGFnZSdcIiBpZD1cInBhZ2VGb3JtXCIgY2xhc3M9XCJyYmFjLWNhcmRcIiBbZm9ybUdyb3VwXT1cInBhZ2VGb3JtXCJcclxuICAgICAgICBbc3R5bGVdPVwieyB3aWR0aDogJzEwMCUnLCAnbWFyZ2luLWJvdHRvbSc6ICcyZW0nIH1cIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwic3RyaXBfaGVhZCB0b2dnbGVsZWZ0XCI+XHJcbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInJlcG9ydF9oZWFkIGZvbnQtd2VpZ2h0LWJvbGRcIj57e3NhdmVNb2RlID09PSAnVVBEQVRFJyA/ICdVcGRhdGUgTWVudScgOiAnQWRkIE1lbnUnfX08L3NwYW4+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cIm1iLTMgbXQtMVwiPlxyXG4gICAgICAgICAgPG1hdC1yYWRpby1ncm91cCBmb3JtQ29udHJvbE5hbWU9XCJwYWdlVHlwZU1lbnVcIj5cclxuICAgICAgICAgICAgPG1hdC1yYWRpby1idXR0b24gY2xhc3M9XCJtci0yXCIgdmFsdWU9XCJwbGF0Zm9ybVwiXHJcbiAgICAgICAgICAgICAgKGNsaWNrKT1cInNlbGVjdFR5cGUoJ3BsYXRmb3JtJywgJGV2ZW50KVwiPlBsYXRmb3JtPC9tYXQtcmFkaW8tYnV0dG9uPlxyXG4gICAgICAgICAgICA8bWF0LXJhZGlvLWJ1dHRvbiB2YWx1ZT1cImR5bmFtaWNcIiAoY2xpY2spPVwic2VsZWN0VHlwZSgnZHluYW1pYycsICRldmVudClcIj5EeW5hbWljPC9tYXQtcmFkaW8tYnV0dG9uPlxyXG4gICAgICAgICAgPC9tYXQtcmFkaW8tZ3JvdXA+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGlucHV0IGlkPVwiY2lkXCIgdHlwZT1cImhpZGRlblwiIGZvcm1Db250cm9sTmFtZT1cImlkXCIgLz5cclxuICAgICAgICA8aW5wdXQgaWQ9XCJjYXBwbGljYXRpb25pZFwiIHR5cGU9XCJoaWRkZW5cIiBmb3JtQ29udHJvbE5hbWU9XCJhcHBsaWNhdGlvbmlkXCIgLz5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwicC1mbHVpZCBwLWZvcm1ncmlkIHAtZ3JpZFwiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1sZy00IGNvbC1tZC0xMiBjb2wtMTIgbWItM1wiPlxyXG4gICAgICAgICAgICA8bGFiZWwgZm9yPVwiY25hbWVcIiBjbGFzcz1cInJlZmVycmFsLWZvcm0tbGFiZWxzXCI+TmFtZVxyXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicmVxdWlyZWRmaWVsZCB0ZXh0LWRhbmdlclwiPio8L3NwYW4+XHJcbiAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgIDxpbnB1dCBpZD1cImNuYW1lXCIgdHlwZT1cInRleHRcIiBmb3JtQ29udHJvbE5hbWU9XCJuYW1lXCIgZmllbGRLZXk9XCJTRVRUSU5HU19QRVJfTkFNRVwiIHBsYWNlaG9sZGVyPVwiRW50ZXIgTmFtZVwiXHJcbiAgICAgICAgICAgICAgYXJpYS1kZXNjcmliZWRieT1cImNuYW1lXCIgKGtleXVwKT1cIm9uUGFnZU5hbWVJbnB1dCgkZXZlbnQsICduYW1lJylcIlxyXG4gICAgICAgICAgICAgIChpbnB1dCk9XCJvbklucHV0KCRldmVudCwgJ25hbWUnLCAnTmFtZScsIHRydWUpXCIgcElucHV0VGV4dCAvPlxyXG4gICAgICAgICAgICA8ZGl2ICpuZ0lmPVwidmFsaWRhdGlvbkVycm9yc1snTmFtZSddXCIgY2xhc3M9XCJwLWVycm9yIGJsb2NrIG10LTFcIj57e3ZhbGlkYXRpb25FcnJvcnNbJ05hbWUnXX19PC9kaXY+XHJcbiAgICAgICAgICAgIDwhLS0gcGF0dGVybj1cIlthLXpBLVowLTldKihbYS16QS1aMC05XStcXHMqKSpcIiA8ZGl2ICpuZ0lmPVwiXHJcbiAgICAgICAgICAgICAgcGFnZUZvcm0uY29udHJvbHNbJ25hbWUnXS5pbnZhbGlkICYmXHJcbiAgICAgICAgICAgICAgICBwYWdlRm9ybS5jb250cm9sc1snbmFtZSddLmRpcnR5ICYmXHJcbiAgICAgICAgICAgICAgIXBhZ2VGb3JtLmNvbnRyb2xzWyduYW1lJ10uaGFzRXJyb3IoJ3JlcXVpcmVkJylcIj5cclxuICAgICAgICAgICAgICA8c21hbGwgKm5nSWY9XCJwYWdlRm9ybS5jb250cm9sc1snbmFtZSddLmVycm9ycyAmJiBwYWdlRm9ybS5jb250cm9sc1snbmFtZSddLmludmFsaWRcIlxyXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJwLWVycm9yIGJsb2NrXCI+SW52YWxpZCBpbnB1dCBkYXRhPC9zbWFsbD5cclxuICAgICAgICAgICAgPC9kaXY+IC0tPlxyXG4gICAgICAgICAgICA8ZGl2ICpuZ0lmPVwiIXZhbGlkYXRpb25FcnJvcnNbJ05hbWUnXSAmJiBmb3JtVmFsaWRhdGVbJ25hbWUnXS5lcnJvcnMgJiYgZm9ybVN1Ym1pdFwiPlxyXG4gICAgICAgICAgICAgIDxkaXYgKm5nSWY9XCJmb3JtVmFsaWRhdGVbJ25hbWUnXS5pbnZhbGlkXCIgY2xhc3M9XCJwLWVycm9yIGJsb2NrIG10LTFcIj5OYW1lIGlzXHJcbiAgICAgICAgICAgICAgICByZXF1aXJlZDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbGctNCBjb2wtbWQtMTIgY29sLTEyIG1iLTNcIiAqbmdJZj1cIiFzaG93TGlua1BhZ2VcIj5cclxuICAgICAgICAgICAgPGxhYmVsIGZvcj1cImNyb3V0ZVwiIGNsYXNzPVwicmVmZXJyYWwtZm9ybS1sYWJlbHNcIj5cclxuICAgICAgICAgICAgICBQbGF0Zm9ybSBQYWdlc1xyXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicmVxdWlyZWRmaWVsZCB0ZXh0LWRhbmdlclwiPio8L3NwYW4+XHJcbiAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgIDwhLS0gPHAtZHJvcGRvd24gW29wdGlvbnNdPVwicGxhdGZvcm1QYWdlc0xpc3RcIiBbZmlsdGVyXT1cInRydWVcIiBmb3JtQ29udHJvbE5hbWU9XCJyb3V0ZVwiXHJcbiAgICAgICAgICAgICAgZmllbGRLZXk9XCJTRVRUSU5HU19QRVJfUk9VVEVcIiBwbGFjZWhvbGRlcj1cIlNlbGVjdCBQbGF0Zm9ybSBQYWdlXCIgb3B0aW9uTGFiZWw9XCJwYWdlbmFtZVwiXHJcbiAgICAgICAgICAgICAgb3B0aW9uVmFsdWU9XCJwYWdldXJsXCIgW3Nob3dDbGVhcl09XCJ0cnVlXCI+XHJcbiAgICAgICAgICAgIDwvcC1kcm9wZG93bj4gLS0+XHJcbiAgICAgICAgICAgIDxwLWRyb3Bkb3duIFtvcHRpb25zXT1cImR1cGxpY2F0ZVBsYXRmb3JtUGFnZXNMaXN0XCIgcGxhY2Vob2xkZXI9XCJTZWxlY3QgUGxhdGZvcm0gUGFnZVwiXHJcbiAgICAgICAgICAgICAgZm9ybUNvbnRyb2xOYW1lPVwicm91dGVcIiBbcmVzZXRGaWx0ZXJPbkhpZGVdPVwidHJ1ZVwiIFtmaWx0ZXJdPVwidHJ1ZVwiIFtzaG93Q2xlYXJdPVwidHJ1ZVwiXHJcbiAgICAgICAgICAgICAgZmllbGRLZXk9XCJTRVRUSU5HU19QRVJfUk9VVEVcIiBvcHRpb25MYWJlbD1cInBhZ2VuYW1lXCIgb3B0aW9uVmFsdWU9XCJwYWdlbmFtZVwiIGlucHV0SWQ9XCJwbGF0Zm9ybVBhZ2VcIlxyXG4gICAgICAgICAgICAgIChrZXl1cCk9XCJzZWFyY2hQbGF0Zm9ybVBhZ2VMaXN0KCRldmVudClcIiAob25IaWRlKT1cInJlc2V0UGxhdGZvcm1QYWdlTGlzdCgpXCI+XHJcbiAgICAgICAgICAgICAgPG5nLXRlbXBsYXRlIGxldC1pdGVtIHBUZW1wbGF0ZT1cInNlbGVjdGVkSXRlbVwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBwVG9vbHRpcD1cInt7aXRlbT8ucGFnZW5hbWV9fVwiIHRvb2x0aXBQb3NpdGlvbj1cInRvcFwiIGNsYXNzPVwidGV4dC10cnVuY2F0ZVwiPiB7eyBpdGVtPy5wYWdlbmFtZSB9fVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPC9uZy10ZW1wbGF0ZT5cclxuICAgICAgICAgICAgICA8bmctdGVtcGxhdGUgbGV0LW9iamVjdCBwVGVtcGxhdGU9XCJpdGVtXCI+XHJcbiAgICAgICAgICAgICAgICB7eyBvYmplY3QucGFnZW5hbWUgfX1cclxuICAgICAgICAgICAgICA8L25nLXRlbXBsYXRlPlxyXG4gICAgICAgICAgICA8L3AtZHJvcGRvd24+XHJcbiAgICAgICAgICAgIDxkaXYgKm5nSWY9XCJmb3JtVmFsaWRhdGVbJ3JvdXRlJ10uZXJyb3JzICYmIGZvcm1TdWJtaXQgJiYgIXNob3dMaW5rUGFnZVwiPlxyXG4gICAgICAgICAgICAgIDxkaXYgKm5nSWY9XCJmb3JtVmFsaWRhdGVbJ3JvdXRlJ10uaW52YWxpZFwiIGNsYXNzPVwicC1lcnJvciBibG9jayBtdC0xXCI+UGxhdGZvcm0gUGFnZSBpcyByZXF1aXJlZDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1sZy00IGNvbC1tZC0xMiBjb2wtMTIgbWItM1wiICpuZ0lmPVwic2hvd0xpbmtQYWdlXCI+XHJcbiAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJjcm91dGVcIiBjbGFzcz1cInJlZmVycmFsLWZvcm0tbGFiZWxzXCI+XHJcbiAgICAgICAgICAgICAgRHluYW1pYyBQYWdlc1xyXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicmVxdWlyZWRmaWVsZCB0ZXh0LWRhbmdlclwiPio8L3NwYW4+XHJcbiAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgIDxwLWRyb3Bkb3duIFtvcHRpb25zXT1cImR1cGxpY2F0ZUR5bmFtaWNQYWdlc0xpc3RcIiBmb3JtQ29udHJvbE5hbWU9XCJyb3V0ZVwiIGZpZWxkS2V5PVwiU0VUVElOR1NfUEVSX1JPVVRFXCJcclxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlNlbGVjdCBEeW5hbWljIFBhZ2VcIiAoa2V5dXApPVwic2VhcmNoRHluYW1pY1BhZ2VMaXN0KCRldmVudClcIlxyXG4gICAgICAgICAgICAgIChvbkhpZGUpPVwicmVzZXREeW5hbWljUGFnZUxpc3QoKVwiIG9wdGlvbkxhYmVsPVwidmFsdWVcIiBvcHRpb25WYWx1ZT1cInZhbHVlXCIgW2ZpbHRlcl09XCJ0cnVlXCJcclxuICAgICAgICAgICAgICBbcmVzZXRGaWx0ZXJPbkhpZGVdPVwidHJ1ZVwiIFtzaG93Q2xlYXJdPVwidHJ1ZVwiPlxyXG4gICAgICAgICAgICAgIDxuZy10ZW1wbGF0ZSBsZXQtaXRlbSBwVGVtcGxhdGU9XCJzZWxlY3RlZEl0ZW1cIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgcFRvb2x0aXA9XCJ7e2l0ZW0/LnZhbHVlfX1cIiB0b29sdGlwUG9zaXRpb249XCJ0b3BcIiBjbGFzcz1cInRleHQtdHJ1bmNhdGVcIj4ge3sgaXRlbT8udmFsdWUgfX1cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvbmctdGVtcGxhdGU+XHJcbiAgICAgICAgICAgICAgPG5nLXRlbXBsYXRlIGxldC1vYmplY3QgcFRlbXBsYXRlPVwiaXRlbVwiPlxyXG4gICAgICAgICAgICAgICAge3sgb2JqZWN0LnZhbHVlIH19XHJcbiAgICAgICAgICAgICAgPC9uZy10ZW1wbGF0ZT5cclxuICAgICAgICAgICAgPC9wLWRyb3Bkb3duPlxyXG4gICAgICAgICAgICA8ZGl2ICpuZ0lmPVwiZm9ybVZhbGlkYXRlWydyb3V0ZSddLmVycm9ycyAmJiBmb3JtU3VibWl0ICYmIHNob3dMaW5rUGFnZVwiPlxyXG4gICAgICAgICAgICAgIDxkaXYgKm5nSWY9XCJmb3JtVmFsaWRhdGVbJ3JvdXRlJ10uaW52YWxpZFwiIGNsYXNzPVwicC1lcnJvciBibG9jayBtdC0xXCI+RHluYW1pYyBQYWdlIGlzIHJlcXVpcmVkIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1sZy00IGNvbC1tZC0xMiBjb2wtMTIgbWItM1wiPlxyXG4gICAgICAgICAgICA8bGFiZWwgZm9yPVwiY29yZGVyXCIgY2xhc3M9XCJyZWZlcnJhbC1mb3JtLWxhYmVsc1wiPlBhcmVudCBNZW51IDwvbGFiZWw+XHJcbiAgICAgICAgICAgIDxwLWRyb3Bkb3duIFtvcHRpb25zXT1cInBhZ2VzXCIgcGxhY2Vob2xkZXI9XCJTZWxlY3QgUGFyZW50IE1lbnVcIiBmb3JtQ29udHJvbE5hbWU9XCJwYXJlbnRpZFwiIG9wdGlvbkxhYmVsPVwibmFtZVwiXHJcbiAgICAgICAgICAgICAgb3B0aW9uVmFsdWU9XCJpZFwiIChvbkhpZGUpPVwicmVzZXRQYXJlbnRQYWdlTGlzdCgpXCIgW3Nob3dDbGVhcl09XCJ0cnVlXCIgW3Jlc2V0RmlsdGVyT25IaWRlXT1cInRydWVcIlxyXG4gICAgICAgICAgICAgIFtmaWx0ZXJdPVwidHJ1ZVwiIChrZXl1cCk9XCJzZWFyY2hQZXJtaXNzaW9uTGlzdCgkZXZlbnQpXCIgZmllbGRLZXk9XCJTRVRUSU5HU19QRVJfUEFSRU5UX1BBR0VcIj5cclxuICAgICAgICAgICAgICA8bmctdGVtcGxhdGUgbGV0LWl0ZW0gcFRlbXBsYXRlPVwic2VsZWN0ZWRJdGVtXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IHBUb29sdGlwPVwie3tpdGVtPy5uYW1lfX1cIiB0b29sdGlwUG9zaXRpb249XCJ0b3BcIiBjbGFzcz1cInRleHQtdHJ1bmNhdGVcIj4ge3sgaXRlbT8ubmFtZSB9fTwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvbmctdGVtcGxhdGU+XHJcbiAgICAgICAgICAgICAgPG5nLXRlbXBsYXRlIGxldC1vYmplY3QgcFRlbXBsYXRlPVwiaXRlbVwiPlxyXG4gICAgICAgICAgICAgICAge3sgb2JqZWN0Lm5hbWUgfX1cclxuICAgICAgICAgICAgICA8L25nLXRlbXBsYXRlPlxyXG4gICAgICAgICAgICA8L3AtZHJvcGRvd24+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwicC1mbHVpZCBwLWZvcm1ncmlkIHAtZ3JpZFwiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1sZy00IGNvbC1tZC0xMiBjb2wtMTIgbWItM1wiPlxyXG4gICAgICAgICAgICA8bGFiZWwgZm9yPVwiaWNvblwiIGNsYXNzPVwicmVmZXJyYWwtZm9ybS1sYWJlbHNcIj5cclxuICAgICAgICAgICAgICBJY29uXHJcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJyZXF1aXJlZGZpZWxkIHRleHQtZGFuZ2VyXCI+Kjwvc3Bhbj5cclxuICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgPHAtZHJvcGRvd24gW29wdGlvbnNdPVwiZHVibGljYXRlSWNvbkxpc3RcIiBzdHlsZUNsYXNzPVwiaWNvbi1kcm9wZG93blwiIGZvcm1Db250cm9sTmFtZT1cImljb25cIiBbZmlsdGVyXT1cInRydWVcIlxyXG4gICAgICAgICAgICAgIG9wdGlvbkxhYmVsPVwibGFiZWxcIiBvcHRpb25WYWx1ZT1cInZhbHVlXCIgW3Jlc2V0RmlsdGVyT25IaWRlXT1cInRydWVcIlxyXG4gICAgICAgICAgICAgIFtzaG93Q2xlYXJdPVwiaWNvbkxpc3QgJiYgaWNvbkxpc3QubGVuZ3RoXCIgcGxhY2Vob2xkZXI9XCJTZWxlY3QgSWNvblwiIChrZXl1cCk9XCJzZWFyY2hJY29uTGlzdCgkZXZlbnQpXCJcclxuICAgICAgICAgICAgICAob25IaWRlKT1cInJlc2V0SWNvbkxpc3QoKVwiIChvbkNoYW5nZSk9XCJnZXRTZWxlY3RlZExhYmVsKCRldmVudC52YWx1ZSlcIj5cclxuICAgICAgICAgICAgICA8bmctdGVtcGxhdGUgcFRlbXBsYXRlPVwic2VsZWN0ZWRJdGVtXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IHBUb29sdGlwPVwie3tzZWxlY3RlZEljb25MYWJlbH19XCIgdG9vbHRpcFBvc2l0aW9uPVwidG9wXCJcclxuICAgICAgICAgICAgICAgICAgY2xhc3M9XCJkLWZsZXggZmxleC1yb3cgYWxpZ24taXRlbXMtY2VudGVyIGdhcC0yXCIgKm5nSWY9XCJwYWdlRm9ybS5jb250cm9sc1snaWNvbiddLnZhbHVlXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibWF0ZXJpYWwtc3ltYm9scy1vdXRsaW5lZCB1c2VyZW1wdHkgbWwtMFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIHt7IHBhZ2VGb3JtLmNvbnRyb2xzWydpY29uJ10udmFsdWUgfX1cclxuICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC10cnVuY2F0ZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIHt7IHNlbGVjdGVkSWNvbkxhYmVsIH19XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPC9uZy10ZW1wbGF0ZT5cclxuICAgICAgICAgICAgICA8bmctdGVtcGxhdGUgbGV0LWljb24gcFRlbXBsYXRlPVwiaXRlbVwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImQtZmxleCBmbGV4LXJvdyBhbGlnbi1pdGVtcy1zdGFydCBnYXAtMlwiPlxyXG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cIm1hdGVyaWFsLXN5bWJvbHMtb3V0bGluZWQgdXNlcmVtcHR5IG1sLTBcIj5cclxuICAgICAgICAgICAgICAgICAgICB7eyBpY29uLnZhbHVlIH19XHJcbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgPGRpdj57eyBpY29uLmxhYmVsIH19PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L25nLXRlbXBsYXRlPlxyXG4gICAgICAgICAgICA8L3AtZHJvcGRvd24+XHJcbiAgICAgICAgICAgIDxkaXYgKm5nSWY9XCJmb3JtVmFsaWRhdGVbJ2ljb24nXS5lcnJvcnMgJiYgZm9ybVN1Ym1pdFwiPlxyXG4gICAgICAgICAgICAgIDxkaXYgKm5nSWY9XCJmb3JtVmFsaWRhdGVbJ2ljb24nXS5pbnZhbGlkXCIgY2xhc3M9XCJwLWVycm9yIGJsb2NrIG10LTFcIj5JY29uIGlzIHJlcXVpcmVkIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1sZy00IGNvbC1tZC0xMiBjb2wtMTIgbWItM1wiPlxyXG4gICAgICAgICAgICA8bGFiZWwgZm9yPVwiY29yZGVyXCIgY2xhc3M9XCJyZWZlcnJhbC1mb3JtLWxhYmVscyBkLW5vbmUgZC1sZy1pbmxpbmUtYmxvY2tcIj4mIzE2MDs8L2xhYmVsPlxyXG4gICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgIDxwLWNoZWNrYm94IHN0IGlucHV0SWQ9XCJiaW5hcnlcIiBbYmluYXJ5XT1cInRydWVcIiBmaWVsZEtleT1cIlNFVFRJTkdTX1BFUl9NRU5VXCIgZm9ybUNvbnRyb2xOYW1lPVwiaXNtZW51XCJcclxuICAgICAgICAgICAgICAgIGxhYmVsPVwiQWN0aXZlXCI+PC9wLWNoZWNrYm94PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJtdC0yXCI+XHJcbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwicHVsbC1yaWdodCBtYi0yIGJ0biBidG4tcHJpbWFyeSBidG5jb21tb25cIiBmaWVsZEtleT1cIlNFVFRJTkdTX1BFUl9BRERfUEFHRVwiXHJcbiAgICAgICAgICAgIChjbGljayk9XCJzYXZlUGFnZSgpXCI+XHJcbiAgICAgICAgICAgIHt7IHNhdmVNb2RlID09PSAnVVBEQVRFJyA/ICdVcGRhdGUgTWVudScgOiAnQWRkIE1lbnUnIH19XHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgIDxidXR0b24gZmllbGRLZXk9XCJTRVRUSU5HU19QRVJfQ0FOQ0VMXCJcclxuICAgICAgICAgICAgY2xhc3M9XCJwdWxsLXJpZ2h0IG1iLTIgbXItMiBidG4gYmctd2hpdGUgdGV4dC1wcmltYXJ5IGJvcmRlciBib3JkZXItcHJpbWFyeSBidG5jYW5jZWxcIiAoY2xpY2spPVwicmVzZXRGb3JtKClcIlxyXG4gICAgICAgICAgICBbZGlzYWJsZWRdPVwiIWVuYWJsZUJ1dHRvblwiPlxyXG4gICAgICAgICAgICB7eyBzYXZlTW9kZSA9PT0gJ1VQREFURScgPyAnQ2FuY2VsJyA6ICdDbGVhcicgfX1cclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgPGJ1dHRvbiBmaWVsZEtleT1cIlNFVFRJTkdTX1BFUl9DQU5DRUxcIiBjbGFzcz1cInB1bGwtcmlnaHQgbWItMiBidG4gYnRuLWRhbmdlclwiIChjbGljayk9XCJkZWxldGVQZXJtaXNzaW9uKClcIlxyXG4gICAgICAgICAgICAqbmdJZj1cInNob3dEZWxldGVCdG4gJiYgc2hvd0xpbmtQYWdlICYmIHNhdmVNb2RlID09PSAnVVBEQVRFJ1wiPlxyXG4gICAgICAgICAgICBEZWxldGVcclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgPGJyIC8+XHJcbiAgICAgICAgICA8YnIgLz5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9wLWNhcmQ+XHJcblxyXG4gICAgICA8cC1jYXJkICpuZ0lmPVwibm9kZVR5cGUgPT09ICdwZXJtaXNzaW9uJ1wiIGlkPVwicGVybWlzc2lvbkZvcm1cIiBjbGFzcz1cInJiYWMtY2FyZFwiIFtmb3JtR3JvdXBdPVwicGVybWlzc2lvbkZvcm1cIlxyXG4gICAgICAgIFtzdHlsZV09XCJ7IHdpZHRoOiAnMTAwJScsICdtYXJnaW4tYm90dG9tJzogJzJlbScgfVwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJzdHJpcF9oZWFkIHRvZ2dsZWxlZnRcIj5cclxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwicmVwb3J0X2hlYWQgZm9udC13ZWlnaHQtYm9sZFwiPlBlcm1pc3Npb248L3NwYW4+XHJcbiAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgIDxpbnB1dCBpZD1cImxpZFwiIHR5cGU9XCJoaWRkZW5cIiBmb3JtQ29udHJvbE5hbWU9XCJpZFwiIC8+XHJcbiAgICAgICAgPGlucHV0IGlkPVwibHBlcm1pc3Npb25wYWdlaWRcIiB0eXBlPVwiaGlkZGVuXCIgZm9ybUNvbnRyb2xOYW1lPVwicGVybWlzc2lvbnR5cGVpZFwiIC8+XHJcbiAgICAgICAgPGlucHV0IGlkPVwibHBhcmVudGlkXCIgdHlwZT1cImhpZGRlblwiIGZvcm1Db250cm9sTmFtZT1cInBhcmVudGlkXCIgLz5cclxuICAgICAgICA8aW5wdXQgaWQ9XCJscGFnZWlkXCIgdHlwZT1cImhpZGRlblwiIGZvcm1Db250cm9sTmFtZT1cInBhZ2VpZFwiIC8+XHJcblxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJwLWZsdWlkIHAtZm9ybWdyaWQgcC1ncmlkXCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwicC1maWVsZCBwLWNvbFwiPlxyXG4gICAgICAgICAgICA8bGFiZWwgZm9yPVwibHBlcm1pc3Npb250eXBlXCIgY2xhc3M9XCJyZWZlcnJhbC1mb3JtLWxhYmVsc1wiPlBlcm1pc3Npb24gVHlwZVxyXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicmVxdWlyZWRmaWVsZCB0ZXh0LWRhbmdlclwiPio8L3NwYW4+PC9sYWJlbD5cclxuICAgICAgICAgICAgPHAtZHJvcGRvd24gaWQ9XCJscGVybWlzc2lvbnR5cGVcIiBbb3B0aW9uc109XCJwZXJtaXNzaW9uVHlwZXNcIiBwbGFjZWhvbGRlcj1cIlNlbGVjdCBhIFBlcm1pc3Npb24gVHlwZVwiXHJcbiAgICAgICAgICAgICAgZm9ybUNvbnRyb2xOYW1lPVwicGVybWlzc2lvbnR5cGVpZFwiIG9wdGlvbkxhYmVsPVwibmFtZVwiIG9wdGlvblZhbHVlPVwiaWRcIj5cclxuICAgICAgICAgICAgPC9wLWRyb3Bkb3duPlxyXG4gICAgICAgICAgICA8ZGl2ICpuZ0lmPVwicGVybWlzc2lvbkZvcm0uY29udHJvbHNbJ3Blcm1pc3Npb250eXBlaWQnXS5lcnJvcnNcIj5cclxuICAgICAgICAgICAgICA8ZGl2ICpuZ0lmPVwicGVybWlzc2lvbkZvcm0uY29udHJvbHNbJ3Blcm1pc3Npb250eXBlaWQnXS5pbnZhbGlkXCIgY2xhc3M9XCJwLWVycm9yIGJsb2NrIG10LTFcIj5QZXJtaXNzaW9uXHJcbiAgICAgICAgICAgICAgICBUeXBlXHJcbiAgICAgICAgICAgICAgICBpcyByZXF1aXJlZFxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInAtZmllbGQgcC1jb2xcIj5cclxuICAgICAgICAgICAgPGxhYmVsIGZvcj1cImxrZXlcIiBjbGFzcz1cInJlZmVycmFsLWZvcm0tbGFiZWxzXCI+S2V5XHJcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJyZXF1aXJlZGZpZWxkIHRleHQtZGFuZ2VyXCI+Kjwvc3Bhbj5cclxuICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgPGlucHV0IGlkPVwibGtleVwiIHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCJFbnRlciBLZXlcIiBmb3JtQ29udHJvbE5hbWU9XCJrZXlcIiBhcmlhLWRlc2NyaWJlZGJ5PVwibGtleS1oZWxwXCJcclxuICAgICAgICAgICAgICBwSW5wdXRUZXh0IC8+XHJcbiAgICAgICAgICAgIDxkaXYgKm5nSWY9XCJwZXJtaXNzaW9uRm9ybS5jb250cm9sc1sna2V5J10uZXJyb3JzXCI+XHJcbiAgICAgICAgICAgICAgPGRpdiAqbmdJZj1cInBlcm1pc3Npb25Gb3JtLmNvbnRyb2xzWydrZXknXS5pbnZhbGlkXCIgY2xhc3M9XCJwLWVycm9yIGJsb2NrIG10LTFcIj5LZXkgaXMgcmVxdWlyZWQgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwicC1maWVsZCBwLWNvbFwiPlxyXG4gICAgICAgICAgICA8bGFiZWwgZm9yPVwibHZhbHVlXCIgY2xhc3M9XCJyZWZlcnJhbC1mb3JtLWxhYmVsc1wiPkRlc2NyaXB0aW9uIDxzcGFuXHJcbiAgICAgICAgICAgICAgICBjbGFzcz1cInJlcXVpcmVkZmllbGQgdGV4dC1kYW5nZXJcIj4qPC9zcGFuPiA8L2xhYmVsPlxyXG4gICAgICAgICAgICA8aW5wdXQgaWQ9XCJsdmFsdWVcIiB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwiRW50ZXIgVmFsdWVcIiBmb3JtQ29udHJvbE5hbWU9XCJkZXNjcmlwdGlvblwiXHJcbiAgICAgICAgICAgICAgYXJpYS1kZXNjcmliZWRieT1cInBuYW1lLWhlbHBcIiBwSW5wdXRUZXh0IC8+XHJcbiAgICAgICAgICAgIDxkaXYgKm5nSWY9XCJwZXJtaXNzaW9uRm9ybS5jb250cm9sc1snZGVzY3JpcHRpb24nXS5lcnJvcnNcIj5cclxuICAgICAgICAgICAgICA8ZGl2ICpuZ0lmPVwicGVybWlzc2lvbkZvcm0uY29udHJvbHNbJ2Rlc2NyaXB0aW9uJ10uaW52YWxpZFwiIGNsYXNzPVwicC1lcnJvciBibG9jayBtdC0xXCI+RGVzY3JpcHRpb24gaXNcclxuICAgICAgICAgICAgICAgIHJlcXVpcmVkXHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJtdC0yXCI+XHJcbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJzdWJtaXRcIiBjbGFzcz1cInB1bGwtcmlnaHQgbWItMiBidG4gYnRuLXByaW1hcnkgYnRuY29tbW9uXCIgKGNsaWNrKT1cInNhdmVQZXJtaXNzaW9uKClcIj5cclxuICAgICAgICAgICAge3sgc2F2ZU1vZGUgPT09ICdVUERBVEUnID8gJ1VwZGF0ZSBQZXJtaXNzaW9uJyA6ICdBZGQgUGVybWlzc2lvbicgfX1cclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInB1bGwtcmlnaHQgbWItMiBtci0yIGJ0biBiZy13aGl0ZSB0ZXh0LXByaW1hcnkgYnRuY2FuY2VsXCIgKGNsaWNrKT1cImNsZWFyRm9ybSgpXCI+Q2FuY2VsPC9idXR0b24+XHJcbiAgICAgICAgICA8YnIgLz5cclxuICAgICAgICAgIDxiciAvPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L3AtY2FyZD5cclxuICAgIDwvZGl2PlxyXG4gIDwvZGl2PlxyXG48L2Rpdj5cclxuIl19